function wk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ek(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kE={exports:{}},zc={},RE={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),_k=Symbol.for("react.portal"),Sk=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Ck=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Rk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Pk=Symbol.for("react.lazy"),vv=Symbol.iterator;function Nk(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var AE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PE=Object.assign,NE={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=NE,this.updater=n||AE}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DE(){}DE.prototype=Yi.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=NE,this.updater=n||AE}var xm=Cm.prototype=new DE;xm.constructor=Cm;PE(xm,Yi.prototype);xm.isPureReactComponent=!0;var wv=Array.isArray,LE=Object.prototype.hasOwnProperty,Im={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function bE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)LE.call(e,r)&&!OE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xa,type:t,key:i,ref:o,props:s,_owner:Im.current}}function Dk(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function Lk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lk(""+t.key):e.toString(36)}function du(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xa:case _k:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ud(o,0):r,wv(s)?(n="",t!=null&&(n=t.replace(Ev,"$&/")+"/"),du(s,e,n,"",function(u){return u})):s!=null&&(km(s)&&(s=Dk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ev,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ud(i,a);o+=du(i,e,n,l,s)}else if(l=Nk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ud(i,a++),o+=du(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ol(t,e,n){if(t==null)return t;var r=[],s=0;return du(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},fu={transition:null},bk={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:fu,ReactCurrentOwner:Im};Q.Children={map:Ol,forEach:function(t,e,n){Ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ol(t,function(){e++}),e},toArray:function(t){return Ol(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Yi;Q.Fragment=Sk;Q.Profiler=Ck;Q.PureComponent=Cm;Q.StrictMode=Tk;Q.Suspense=Rk;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bk;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Im.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LE.call(e,l)&&!OE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xa,type:t.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:Ik,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xk,_context:t},t.Consumer=t};Q.createElement=bE;Q.createFactory=function(t){var e=bE.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:kk,render:t}};Q.isValidElement=km;Q.lazy=function(t){return{$$typeof:Pk,_payload:{_status:-1,_result:t},_init:Ok}};Q.memo=function(t,e){return{$$typeof:Ak,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=fu.transition;fu.transition={};try{t()}finally{fu.transition=e}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(t,e){return mt.current.useCallback(t,e)};Q.useContext=function(t){return mt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return mt.current.useEffect(t,e)};Q.useId=function(){return mt.current.useId()};Q.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return mt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};Q.useRef=function(t){return mt.current.useRef(t)};Q.useState=function(t){return mt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return mt.current.useTransition()};Q.version="18.2.0";RE.exports=Q;var E=RE.exports;const Hc=Ek(E),_v=wk({__proto__:null,default:Hc},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=E,$k=Symbol.for("react.element"),Uk=Symbol.for("react.fragment"),Fk=Object.prototype.hasOwnProperty,jk=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vk={key:!0,ref:!0,__self:!0,__source:!0};function ME(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fk.call(e,r)&&!Vk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$k,type:t,key:i,ref:o,props:s,_owner:jk.current}}zc.Fragment=Uk;zc.jsx=ME;zc.jsxs=ME;kE.exports=zc;var m=kE.exports,If={},$E={exports:{}},Mt={},UE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var K=D.length;D.push(z);e:for(;0<K;){var H=K-1>>>1,fe=D[H];if(0<s(fe,z))D[H]=z,D[K]=fe,K=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],K=D.pop();if(K!==z){D[0]=K;e:for(var H=0,fe=D.length,es=fe>>>1;H<es;){var an=2*(H+1)-1,qs=D[an],kt=an+1,ts=D[kt];if(0>s(qs,K))kt<fe&&0>s(ts,qs)?(D[H]=ts,D[kt]=K,H=kt):(D[H]=qs,D[an]=K,H=an);else if(kt<fe&&0>s(ts,K))D[H]=ts,D[kt]=K,H=kt;else break e}}return z}function s(D,z){var K=D.sortIndex-z.sortIndex;return K!==0?K:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=D)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function _(D){if(w=!1,y(D),!p)if(n(l)!==null)p=!0,Ft(T);else{var z=n(u);z!==null&&on(_,z.startTime-D)}}function T(D,z){p=!1,w&&(w=!1,v(C),C=-1),f=!0;var K=d;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||D&&!de());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var fe=H(h.expirationTime<=z);z=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var es=!0;else{var an=n(u);an!==null&&on(_,an.startTime-z),es=!1}return es}finally{h=null,d=K,f=!1}}var k=!1,I=null,C=-1,O=5,$=-1;function de(){return!(t.unstable_now()-$<O)}function yt(){if(I!==null){var D=t.unstable_now();$=D;var z=!0;try{z=I(!0,D)}finally{z?Ut():(k=!1,I=null)}}else k=!1}var Ut;if(typeof g=="function")Ut=function(){g(yt)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ke=Ie.port2;Ie.port1.onmessage=yt,Ut=function(){ke.postMessage(null)}}else Ut=function(){S(yt,0)};function Ft(D){I=D,k||(k=!0,Ut())}function on(D,z){C=S(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Ft(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var K=d;d=z;try{return D()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=d;d=D;try{return z()}finally{d=K}},t.unstable_scheduleCallback=function(D,z,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,D){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,D={id:c++,callback:z,priorityLevel:D,startTime:K,expirationTime:fe,sortIndex:-1},K>H?(D.sortIndex=K,e(u,D),n(l)===null&&D===n(u)&&(w?(v(C),C=-1):w=!0,on(_,K-H))):(D.sortIndex=fe,e(l,D),p||f||(p=!0,Ft(T))),D},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(D){var z=d;return function(){var K=d;d=z;try{return D.apply(this,arguments)}finally{d=K}}}})(FE);UE.exports=FE;var Bk=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE=E,Lt=Bk;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VE=new Set,aa={};function bs(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(aa[t]=e,t=0;t<e.length;t++)VE.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=Object.prototype.hasOwnProperty,zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},Tv={};function Hk(t){return kf.call(Tv,t)?!0:kf.call(Sv,t)?!1:zk.test(t)?Tv[t]=!0:(Sv[t]=!0,!1)}function Wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qk(t,e,n,r){if(e===null||typeof e>"u"||Wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rm=/[\-:]([a-z])/g;function Am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rm,Am);Xe[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rm,Am);Xe[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rm,Am);Xe[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pm(t,e,n,r){var s=Xe.hasOwnProperty(e)?Xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qk(e,n,s,r)&&(n=null),r||s===null?Hk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rr=jE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),HE=Symbol.for("react.offscreen"),Cv=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,cd;function Ao(t){if(cd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cd=e&&e[1]||""}return`
`+cd+t}var hd=!1;function dd(t,e){if(!t||hd)return"";hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function Kk(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=dd(t.type,!1),t;case 11:return t=dd(t.type.render,!1),t;case 1:return t=dd(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ti:return"Fragment";case ei:return"Portal";case Rf:return"Profiler";case Nm:return"StrictMode";case Af:return"Suspense";case Pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case Dm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function Gk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qk(t){var e=WE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=Qk(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KE(t,e){e=e.checked,e!=null&&Pm(t,"checked",e,!1)}function Lf(t,e){KE(t,e);var n=$r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Of(t,e.type,n):e.hasOwnProperty("defaultValue")&&Of(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Of(t,e,n){(e!=="number"||Uu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function vi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$r(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Po(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$r(n)}}function GE(t,e){var n=$r(e.value),r=$r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(t){Xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vo[e]=Vo[t]})});function YE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vo.hasOwnProperty(t)&&Vo[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Yk=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(Yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=null;function Om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jf=null,wi=null,Ei=null;function Av(t){if(t=Za(t)){if(typeof jf!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Qc(e),jf(t.stateNode,t.type,e))}}function ZE(t){wi?Ei?Ei.push(t):Ei=[t]:wi=t}function e_(){if(wi){var t=wi,e=Ei;if(Ei=wi=null,Av(t),e)for(t=0;t<e.length;t++)Av(e[t])}}function t_(t,e){return t(e)}function n_(){}var fd=!1;function r_(t,e,n){if(fd)return t(e,n);fd=!0;try{return t_(t,e,n)}finally{fd=!1,(wi!==null||Ei!==null)&&(n_(),e_())}}function ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Vf=!1;if(Kn)try{var go={};Object.defineProperty(go,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Vf=!1}function Jk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Bo=!1,Fu=null,ju=!1,Bf=null,Zk={onError:function(t){Bo=!0,Fu=t}};function eR(t,e,n,r,s,i,o,a,l){Bo=!1,Fu=null,Jk.apply(Zk,arguments)}function tR(t,e,n,r,s,i,o,a,l){if(eR.apply(this,arguments),Bo){if(Bo){var u=Fu;Bo=!1,Fu=null}else throw Error(A(198));ju||(ju=!0,Bf=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pv(t){if(Ms(t)!==t)throw Error(A(188))}function nR(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pv(s),t;if(i===r)return Pv(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function i_(t){return t=nR(t),t!==null?o_(t):null}function o_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o_(t);if(e!==null)return e;t=t.sibling}return null}var a_=Lt.unstable_scheduleCallback,Nv=Lt.unstable_cancelCallback,rR=Lt.unstable_shouldYield,sR=Lt.unstable_requestPaint,Re=Lt.unstable_now,iR=Lt.unstable_getCurrentPriorityLevel,bm=Lt.unstable_ImmediatePriority,l_=Lt.unstable_UserBlockingPriority,Vu=Lt.unstable_NormalPriority,oR=Lt.unstable_LowPriority,u_=Lt.unstable_IdlePriority,Wc=null,yn=null;function aR(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Wc,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:cR,lR=Math.log,uR=Math.LN2;function cR(t){return t>>>=0,t===0?32:31-(lR(t)/uR|0)|0}var Ul=64,Fl=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=No(a):(i&=o,i!==0&&(r=No(i)))}else o=n&~s,o!==0?r=No(o):i!==0&&(r=No(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),s=1<<n,r|=t[n],e&=~s;return r}function hR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c_(){var t=Ul;return Ul<<=1,!(Ul&4194240)&&(Ul=64),t}function pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function fR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function h_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d_,$m,f_,p_,m_,Hf=!1,jl=[],Sr=null,Tr=null,Cr=null,ca=new Map,ha=new Map,hr=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dv(t,e){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(e.pointerId)}}function yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Za(e),e!==null&&$m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function mR(t,e,n,r,s){switch(e){case"focusin":return Sr=yo(Sr,t,e,n,r,s),!0;case"dragenter":return Tr=yo(Tr,t,e,n,r,s),!0;case"mouseover":return Cr=yo(Cr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ca.set(i,yo(ca.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ha.set(i,yo(ha.get(i)||null,t,e,n,r,s)),!0}return!1}function g_(t){var e=us(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=s_(n),e!==null){t.blockedOn=e,m_(t.priority,function(){f_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ff=r,n.target.dispatchEvent(r),Ff=null}else return e=Za(n),e!==null&&$m(e),t.blockedOn=n,!1;e.shift()}return!0}function Lv(t,e,n){pu(t)&&n.delete(e)}function gR(){Hf=!1,Sr!==null&&pu(Sr)&&(Sr=null),Tr!==null&&pu(Tr)&&(Tr=null),Cr!==null&&pu(Cr)&&(Cr=null),ca.forEach(Lv),ha.forEach(Lv)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Hf||(Hf=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,gR)))}function da(t){function e(s){return vo(s,t)}if(0<jl.length){vo(jl[0],t);for(var n=1;n<jl.length;n++){var r=jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sr!==null&&vo(Sr,t),Tr!==null&&vo(Tr,t),Cr!==null&&vo(Cr,t),ca.forEach(e),ha.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)g_(n),n.blockedOn===null&&hr.shift()}var _i=rr.ReactCurrentBatchConfig,zu=!0;function yR(t,e,n,r){var s=te,i=_i.transition;_i.transition=null;try{te=1,Um(t,e,n,r)}finally{te=s,_i.transition=i}}function vR(t,e,n,r){var s=te,i=_i.transition;_i.transition=null;try{te=4,Um(t,e,n,r)}finally{te=s,_i.transition=i}}function Um(t,e,n,r){if(zu){var s=Wf(t,e,n,r);if(s===null)Cd(t,e,r,Hu,n),Dv(t,r);else if(mR(s,t,e,n,r))r.stopPropagation();else if(Dv(t,r),e&4&&-1<pR.indexOf(t)){for(;s!==null;){var i=Za(s);if(i!==null&&d_(i),i=Wf(t,e,n,r),i===null&&Cd(t,e,r,Hu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cd(t,e,r,null,n)}}var Hu=null;function Wf(t,e,n,r){if(Hu=null,t=Om(r),t=us(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hu=t,null}function y_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iR()){case bm:return 1;case l_:return 4;case Vu:case oR:return 16;case u_:return 536870912;default:return 16}default:return 16}}var yr=null,Fm=null,mu=null;function v_(){if(mu)return mu;var t,e=Fm,n=e.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mu=s.slice(t,1<r?1-r:void 0)}function gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vl(){return!0}function Ov(){return!1}function $t(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vl:Ov,this.isPropagationStopped=Ov,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),e}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=$t(Ji),Ja=ve({},Ji,{view:0,detail:0}),wR=$t(Ja),md,gd,wo,qc=ve({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wo&&(wo&&t.type==="mousemove"?(md=t.screenX-wo.screenX,gd=t.screenY-wo.screenY):gd=md=0,wo=t),md)},movementY:function(t){return"movementY"in t?t.movementY:gd}}),bv=$t(qc),ER=ve({},qc,{dataTransfer:0}),_R=$t(ER),SR=ve({},Ja,{relatedTarget:0}),yd=$t(SR),TR=ve({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),CR=$t(TR),xR=ve({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IR=$t(xR),kR=ve({},Ji,{data:0}),Mv=$t(kR),RR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PR[t])?!!e[t]:!1}function Vm(){return NR}var DR=ve({},Ja,{key:function(t){if(t.key){var e=RR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(t){return t.type==="keypress"?gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LR=$t(DR),OR=ve({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=$t(OR),bR=ve({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),MR=$t(bR),$R=ve({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=$t($R),FR=ve({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jR=$t(FR),VR=[9,13,27,32],Bm=Kn&&"CompositionEvent"in window,zo=null;Kn&&"documentMode"in document&&(zo=document.documentMode);var BR=Kn&&"TextEvent"in window&&!zo,w_=Kn&&(!Bm||zo&&8<zo&&11>=zo),Uv=String.fromCharCode(32),Fv=!1;function E_(t,e){switch(t){case"keyup":return VR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function zR(t,e){switch(t){case"compositionend":return __(e);case"keypress":return e.which!==32?null:(Fv=!0,Uv);case"textInput":return t=e.data,t===Uv&&Fv?null:t;default:return null}}function HR(t,e){if(ni)return t==="compositionend"||!Bm&&E_(t,e)?(t=v_(),mu=Fm=yr=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w_&&e.locale!=="ko"?null:e.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WR[t.type]:e==="textarea"}function S_(t,e,n,r){ZE(r),e=Wu(e,"onChange"),0<e.length&&(n=new jm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ho=null,fa=null;function qR(t){L_(t,0)}function Kc(t){var e=ii(t);if(qE(e))return t}function KR(t,e){if(t==="change")return e}var T_=!1;if(Kn){var vd;if(Kn){var wd="oninput"in document;if(!wd){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),wd=typeof Vv.oninput=="function"}vd=wd}else vd=!1;T_=vd&&(!document.documentMode||9<document.documentMode)}function Bv(){Ho&&(Ho.detachEvent("onpropertychange",C_),fa=Ho=null)}function C_(t){if(t.propertyName==="value"&&Kc(fa)){var e=[];S_(e,fa,t,Om(t)),r_(qR,e)}}function GR(t,e,n){t==="focusin"?(Bv(),Ho=e,fa=n,Ho.attachEvent("onpropertychange",C_)):t==="focusout"&&Bv()}function QR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(fa)}function XR(t,e){if(t==="click")return Kc(e)}function YR(t,e){if(t==="input"||t==="change")return Kc(e)}function JR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:JR;function pa(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kf.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function zv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=zv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zv(n)}}function x_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I_(){for(var t=window,e=Uu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uu(t.document)}return e}function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZR(t){var e=I_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&x_(n.ownerDocument.documentElement,n)){if(r!==null&&zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hv(n,i);var o=Hv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eA=Kn&&"documentMode"in document&&11>=document.documentMode,ri=null,qf=null,Wo=null,Kf=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||ri==null||ri!==Uu(r)||(r=ri,"selectionStart"in r&&zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wo&&pa(Wo,r)||(Wo=r,r=Wu(qf,"onSelect"),0<r.length&&(e=new jm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ri)))}function Bl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var si={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Ed={},k_={};Kn&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Gc(t){if(Ed[t])return Ed[t];if(!si[t])return t;var e=si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k_)return Ed[t]=e[n];return t}var R_=Gc("animationend"),A_=Gc("animationiteration"),P_=Gc("animationstart"),N_=Gc("transitionend"),D_=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){D_.set(t,e),bs(e,[t])}for(var _d=0;_d<qv.length;_d++){var Sd=qv[_d],tA=Sd.toLowerCase(),nA=Sd[0].toUpperCase()+Sd.slice(1);Wr(tA,"on"+nA)}Wr(R_,"onAnimationEnd");Wr(A_,"onAnimationIteration");Wr(P_,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(N_,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tR(r,e,void 0,t),t.currentTarget=null}function L_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,u),i=l}}}if(ju)throw t=Bf,ju=!1,Bf=null,t}function ie(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var r=t+"__bubble";n.has(r)||(O_(e,t,2,!1),n.add(r))}function Td(t,e,n){var r=0;e&&(r|=4),O_(n,t,r,e)}var zl="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[zl]){t[zl]=!0,VE.forEach(function(n){n!=="selectionchange"&&(rA.has(n)||Td(n,!1,t),Td(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zl]||(e[zl]=!0,Td("selectionchange",!1,e))}}function O_(t,e,n,r){switch(y_(e)){case 1:var s=yR;break;case 4:s=vR;break;default:s=Um}n=s.bind(null,e,n,t),s=void 0,!Vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=us(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}r_(function(){var u=i,c=Om(n),h=[];e:{var d=D_.get(t);if(d!==void 0){var f=jm,p=t;switch(t){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":f=LR;break;case"focusin":p="focus",f=yd;break;case"focusout":p="blur",f=yd;break;case"beforeblur":case"afterblur":f=yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=MR;break;case R_:case A_:case P_:f=CR;break;case N_:f=UR;break;case"scroll":f=wR;break;case"wheel":f=jR;break;case"copy":case"cut":case"paste":f=IR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$v}var w=(e&4)!==0,S=!w&&t==="scroll",v=w?d!==null?d+"Capture":null:d;w=[];for(var g=u,y;g!==null;){y=g;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,v!==null&&(_=ua(g,v),_!=null&&w.push(ga(g,_,y)))),S)break;g=g.return}0<w.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Ff&&(p=n.relatedTarget||n.fromElement)&&(us(p)||p[Gn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?us(p):null,p!==null&&(S=Ms(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(w=bv,_="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=$v,_="onPointerLeave",v="onPointerEnter",g="pointer"),S=f==null?d:ii(f),y=p==null?d:ii(p),d=new w(_,g+"leave",f,n,c),d.target=S,d.relatedTarget=y,_=null,us(c)===u&&(w=new w(v,g+"enter",p,n,c),w.target=y,w.relatedTarget=S,_=w),S=_,f&&p)t:{for(w=f,v=p,g=0,y=w;y;y=Ks(y))g++;for(y=0,_=v;_;_=Ks(_))y++;for(;0<g-y;)w=Ks(w),g--;for(;0<y-g;)v=Ks(v),y--;for(;g--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ks(w),v=Ks(v)}w=null}else w=null;f!==null&&Gv(h,d,f,w,!1),p!==null&&S!==null&&Gv(h,S,p,w,!0)}}e:{if(d=u?ii(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=KR;else if(jv(d))if(T_)T=YR;else{T=QR;var k=GR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=XR);if(T&&(T=T(t,u))){S_(h,T,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Of(d,"number",d.value)}switch(k=u?ii(u):window,t){case"focusin":(jv(k)||k.contentEditable==="true")&&(ri=k,qf=u,Wo=null);break;case"focusout":Wo=qf=ri=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Wv(h,n,c);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Wv(h,n,c)}var I;if(Bm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ni?E_(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(w_&&n.locale!=="ko"&&(ni||C!=="onCompositionStart"?C==="onCompositionEnd"&&ni&&(I=v_()):(yr=c,Fm="value"in yr?yr.value:yr.textContent,ni=!0)),k=Wu(u,C),0<k.length&&(C=new Mv(C,t,null,n,c),h.push({event:C,listeners:k}),I?C.data=I:(I=__(n),I!==null&&(C.data=I)))),(I=BR?zR(t,n):HR(t,n))&&(u=Wu(u,"onBeforeInput"),0<u.length&&(c=new Mv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}L_(h,e)})}function ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ua(t,n),i!=null&&r.unshift(ga(t,i,s)),i=ua(t,e),i!=null&&r.push(ga(t,i,s))),t=t.return}return r}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ua(n,i),l!=null&&o.unshift(ga(n,l,a))):s||(l=ua(n,i),l!=null&&o.push(ga(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(iA,"")}function Hl(t,e,n){if(e=Qv(e),Qv(t)!==e&&n)throw Error(A(425))}function qu(){}var Gf=null,Qf=null;function Xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(lA)}:Yf;function lA(t){setTimeout(function(){throw t})}function xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);da(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Zi,ya="__reactProps$"+Zi,Gn="__reactContainer$"+Zi,Jf="__reactEvents$"+Zi,uA="__reactListeners$"+Zi,cA="__reactHandles$"+Zi;function us(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[hn])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Za(t){return t=t[hn]||t[Gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Qc(t){return t[ya]||null}var Zf=[],oi=-1;function qr(t){return{current:t}}function ae(t){0>oi||(t.current=Zf[oi],Zf[oi]=null,oi--)}function se(t,e){oi++,Zf[oi]=t.current,t.current=e}var Ur={},at=qr(Ur),St=qr(!1),Ss=Ur;function Di(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(t){return t=t.childContextTypes,t!=null}function Ku(){ae(St),ae(at)}function Jv(t,e,n){if(at.current!==Ur)throw Error(A(168));se(at,e),se(St,n)}function b_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,Gk(t)||"Unknown",s));return ve({},n,r)}function Gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Ss=at.current,se(at,t),se(St,St.current),!0}function Zv(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=b_(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,ae(St),ae(at),se(at,t)):ae(St),se(St,n)}var On=null,Xc=!1,Id=!1;function M_(t){On===null?On=[t]:On.push(t)}function hA(t){Xc=!0,M_(t)}function Kr(){if(!Id&&On!==null){Id=!0;var t=0,e=te;try{var n=On;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,Xc=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),a_(bm,Kr),s}finally{te=e,Id=!1}}return null}var ai=[],li=0,Qu=null,Xu=0,Vt=[],Bt=0,Ts=null,Mn=1,$n="";function ss(t,e){ai[li++]=Xu,ai[li++]=Qu,Qu=t,Xu=e}function $_(t,e,n){Vt[Bt++]=Mn,Vt[Bt++]=$n,Vt[Bt++]=Ts,Ts=t;var r=Mn;t=$n;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var i=32-tn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mn=1<<32-tn(e)+s|n<<s|r,$n=i+t}else Mn=1<<i|n<<s|r,$n=t}function Hm(t){t.return!==null&&(ss(t,1),$_(t,1,0))}function Wm(t){for(;t===Qu;)Qu=ai[--li],ai[li]=null,Xu=ai[--li],ai[li]=null;for(;t===Ts;)Ts=Vt[--Bt],Vt[Bt]=null,$n=Vt[--Bt],Vt[Bt]=null,Mn=Vt[--Bt],Vt[Bt]=null}var Dt=null,At=null,ce=!1,en=null;function U_(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,At=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:Mn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,At=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(ce){var e=At;if(e){var n=e;if(!e0(t,e)){if(ep(t))throw Error(A(418));e=xr(n.nextSibling);var r=Dt;e&&e0(t,e)?U_(r,n):(t.flags=t.flags&-4097|2,ce=!1,Dt=t)}}else{if(ep(t))throw Error(A(418));t.flags=t.flags&-4097|2,ce=!1,Dt=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function Wl(t){if(t!==Dt)return!1;if(!ce)return t0(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xf(t.type,t.memoizedProps)),e&&(e=At)){if(ep(t))throw F_(),Error(A(418));for(;e;)U_(t,e),e=xr(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Dt?xr(t.stateNode.nextSibling):null;return!0}function F_(){for(var t=At;t;)t=xr(t.nextSibling)}function Li(){At=Dt=null,ce=!1}function qm(t){en===null?en=[t]:en.push(t)}var dA=rr.ReactCurrentBatchConfig;function Jt(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Yu=qr(null),Ju=null,ui=null,Km=null;function Gm(){Km=ui=Ju=null}function Qm(t){var e=Yu.current;ae(Yu),t._currentValue=e}function np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Si(t,e){Ju=t,Km=ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(Km!==t)if(t={context:t,memoizedValue:e,next:null},ui===null){if(Ju===null)throw Error(A(308));ui=t,Ju.dependencies={lanes:0,firstContext:t}}else ui=ui.next=t;return e}var cs=null;function Xm(t){cs===null?cs=[t]:cs.push(t)}function j_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function Ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qn(t,n)}return s=r.interleaved,s===null?(e.next=e,Xm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qn(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}function n0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var s=t.updateQueue;ur=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,w=a;switch(d=e,f=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ve({},h,d);break e;case 2:ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=h}}function r0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var B_=new jE.Component().refs;function rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yc={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),s=Rr(t),i=Bn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ir(t,i,s),e!==null&&(nn(e,t,s,r),yu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),s=Rr(t),i=Bn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ir(t,i,s),e!==null&&(nn(e,t,s,r),yu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=Rr(t),s=Bn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ir(t,s,r),e!==null&&(nn(e,t,r,n),yu(e,t,r))}};function s0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!pa(n,r)||!pa(s,i):!0}function z_(t,e,n){var r=!1,s=Ur,i=e.contextType;return typeof i=="object"&&i!==null?i=Kt(i):(s=Tt(e)?Ss:at.current,r=e.contextTypes,i=(r=r!=null)?Di(t,s):Ur),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function i0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function sp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=B_,Ym(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kt(i):(i=Tt(e)?Ss:at.current,s.context=Di(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yc.enqueueReplaceState(s,s.state,null),Zu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===B_&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o0(t){var e=t._init;return e(t._payload)}function H_(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Ar(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,_){return g===null||g.tag!==6?(g=Ld(y,v.mode,_),g.return=v,g):(g=s(g,y),g.return=v,g)}function l(v,g,y,_){var T=y.type;return T===ti?c(v,g,y.props.children,_,y.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===lr&&o0(T)===g.type)?(_=s(g,y.props),_.ref=Eo(v,g,y),_.return=v,_):(_=Tu(y.type,y.key,y.props,null,v.mode,_),_.ref=Eo(v,g,y),_.return=v,_)}function u(v,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Od(y,v.mode,_),g.return=v,g):(g=s(g,y.children||[]),g.return=v,g)}function c(v,g,y,_,T){return g===null||g.tag!==7?(g=vs(y,v.mode,_,T),g.return=v,g):(g=s(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ld(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bl:return y=Tu(g.type,g.key,g.props,null,v.mode,y),y.ref=Eo(v,null,g),y.return=v,y;case ei:return g=Od(g,v.mode,y),g.return=v,g;case lr:var _=g._init;return h(v,_(g._payload),y)}if(Po(g)||mo(g))return g=vs(g,v.mode,y,null),g.return=v,g;ql(v,g)}return null}function d(v,g,y,_){var T=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(v,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return y.key===T?l(v,g,y,_):null;case ei:return y.key===T?u(v,g,y,_):null;case lr:return T=y._init,d(v,g,T(y._payload),_)}if(Po(y)||mo(y))return T!==null?null:c(v,g,y,_,null);ql(v,y)}return null}function f(v,g,y,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(y)||null,a(g,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bl:return v=v.get(_.key===null?y:_.key)||null,l(g,v,_,T);case ei:return v=v.get(_.key===null?y:_.key)||null,u(g,v,_,T);case lr:var k=_._init;return f(v,g,y,k(_._payload),T)}if(Po(_)||mo(_))return v=v.get(y)||null,c(g,v,_,T,null);ql(g,_)}return null}function p(v,g,y,_){for(var T=null,k=null,I=g,C=g=0,O=null;I!==null&&C<y.length;C++){I.index>C?(O=I,I=null):O=I.sibling;var $=d(v,I,y[C],_);if($===null){I===null&&(I=O);break}t&&I&&$.alternate===null&&e(v,I),g=i($,g,C),k===null?T=$:k.sibling=$,k=$,I=O}if(C===y.length)return n(v,I),ce&&ss(v,C),T;if(I===null){for(;C<y.length;C++)I=h(v,y[C],_),I!==null&&(g=i(I,g,C),k===null?T=I:k.sibling=I,k=I);return ce&&ss(v,C),T}for(I=r(v,I);C<y.length;C++)O=f(I,v,C,y[C],_),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?C:O.key),g=i(O,g,C),k===null?T=O:k.sibling=O,k=O);return t&&I.forEach(function(de){return e(v,de)}),ce&&ss(v,C),T}function w(v,g,y,_){var T=mo(y);if(typeof T!="function")throw Error(A(150));if(y=T.call(y),y==null)throw Error(A(151));for(var k=T=null,I=g,C=g=0,O=null,$=y.next();I!==null&&!$.done;C++,$=y.next()){I.index>C?(O=I,I=null):O=I.sibling;var de=d(v,I,$.value,_);if(de===null){I===null&&(I=O);break}t&&I&&de.alternate===null&&e(v,I),g=i(de,g,C),k===null?T=de:k.sibling=de,k=de,I=O}if($.done)return n(v,I),ce&&ss(v,C),T;if(I===null){for(;!$.done;C++,$=y.next())$=h(v,$.value,_),$!==null&&(g=i($,g,C),k===null?T=$:k.sibling=$,k=$);return ce&&ss(v,C),T}for(I=r(v,I);!$.done;C++,$=y.next())$=f(I,v,C,$.value,_),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?C:$.key),g=i($,g,C),k===null?T=$:k.sibling=$,k=$);return t&&I.forEach(function(yt){return e(v,yt)}),ce&&ss(v,C),T}function S(v,g,y,_){if(typeof y=="object"&&y!==null&&y.type===ti&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:e:{for(var T=y.key,k=g;k!==null;){if(k.key===T){if(T=y.type,T===ti){if(k.tag===7){n(v,k.sibling),g=s(k,y.props.children),g.return=v,v=g;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===lr&&o0(T)===k.type){n(v,k.sibling),g=s(k,y.props),g.ref=Eo(v,k,y),g.return=v,v=g;break e}n(v,k);break}else e(v,k);k=k.sibling}y.type===ti?(g=vs(y.props.children,v.mode,_,y.key),g.return=v,v=g):(_=Tu(y.type,y.key,y.props,null,v.mode,_),_.ref=Eo(v,g,y),_.return=v,v=_)}return o(v);case ei:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=s(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Od(y,v.mode,_),g.return=v,v=g}return o(v);case lr:return k=y._init,S(v,g,k(y._payload),_)}if(Po(y))return p(v,g,y,_);if(mo(y))return w(v,g,y,_);ql(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,y),g.return=v,v=g):(n(v,g),g=Ld(y,v.mode,_),g.return=v,v=g),o(v)):n(v,g)}return S}var Oi=H_(!0),W_=H_(!1),el={},vn=qr(el),va=qr(el),wa=qr(el);function hs(t){if(t===el)throw Error(A(174));return t}function Jm(t,e){switch(se(wa,e),se(va,t),se(vn,el),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mf(e,t)}ae(vn),se(vn,e)}function bi(){ae(vn),ae(va),ae(wa)}function q_(t){hs(wa.current);var e=hs(vn.current),n=Mf(e,t.type);e!==n&&(se(va,t),se(vn,n))}function Zm(t){va.current===t&&(ae(vn),ae(va))}var me=qr(0);function ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kd=[];function eg(){for(var t=0;t<kd.length;t++)kd[t]._workInProgressVersionPrimary=null;kd.length=0}var vu=rr.ReactCurrentDispatcher,Rd=rr.ReactCurrentBatchConfig,Cs=0,ye=null,Oe=null,Ve=null,tc=!1,qo=!1,Ea=0,fA=0;function Ye(){throw Error(A(321))}function tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function ng(t,e,n,r,s,i){if(Cs=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?yA:vA,t=n(r,s),qo){i=0;do{if(qo=!1,Ea=0,25<=i)throw Error(A(301));i+=1,Ve=Oe=null,e.updateQueue=null,vu.current=wA,t=n(r,s)}while(qo)}if(vu.current=nc,e=Oe!==null&&Oe.next!==null,Cs=0,Ve=Oe=ye=null,tc=!1,e)throw Error(A(300));return t}function rg(){var t=Ea!==0;return Ea=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Gt(){if(Oe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Ve===null?ye.memoizedState:Ve.next;if(e!==null)Ve=e,Oe=t;else{if(t===null)throw Error(A(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function _a(t,e){return typeof e=="function"?e(t):e}function Ad(t){var e=Gt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ye.lanes|=c,xs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,rn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ye.lanes|=i,xs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function K_(){}function G_(t,e){var n=ye,r=Gt(),s=e(),i=!rn(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,sg(Y_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Sa(9,X_.bind(null,n,r,s,e),void 0,null),Be===null)throw Error(A(349));Cs&30||Q_(n,e,s)}return s}function Q_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function X_(t,e,n,r){e.value=n,e.getSnapshot=r,J_(e)&&Z_(t)}function Y_(t,e,n){return n(function(){J_(e)&&Z_(t)})}function J_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function Z_(t){var e=Qn(t,1);e!==null&&nn(e,t,1,-1)}function a0(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e.queue=t,t=t.dispatch=gA.bind(null,ye,t),[e.memoizedState,t]}function Sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Gt().memoizedState}function wu(t,e,n,r){var s=un();ye.flags|=t,s.memoizedState=Sa(1|e,n,void 0,r===void 0?null:r)}function Jc(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(Oe!==null){var o=Oe.memoizedState;if(i=o.destroy,r!==null&&tg(r,o.deps)){s.memoizedState=Sa(e,n,i,r);return}}ye.flags|=t,s.memoizedState=Sa(1|e,n,i,r)}function l0(t,e){return wu(8390656,8,t,e)}function sg(t,e){return Jc(2048,8,t,e)}function tS(t,e){return Jc(4,2,t,e)}function nS(t,e){return Jc(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sS(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4,4,rS.bind(null,e,t),n)}function ig(){}function iS(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oS(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aS(t,e,n){return Cs&21?(rn(n,e)||(n=c_(),ye.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function pA(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Rd.transition;Rd.transition={};try{t(!1),e()}finally{te=n,Rd.transition=r}}function lS(){return Gt().memoizedState}function mA(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(t))cS(e,n);else if(n=j_(t,e,n,r),n!==null){var s=pt();nn(n,t,r,s),hS(n,e,r)}}function gA(t,e,n){var r=Rr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(t))cS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rn(a,o)){var l=e.interleaved;l===null?(s.next=s,Xm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=j_(t,e,s,r),n!==null&&(s=pt(),nn(n,t,r,s),hS(n,e,r))}}function uS(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function cS(t,e){qo=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}var nc={readContext:Kt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},yA={readContext:Kt,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:l0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wu(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mA.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:a0,useDebugValue:ig,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=a0(!1),e=t[0];return t=pA.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,s=un();if(ce){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Be===null)throw Error(A(349));Cs&30||Q_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,l0(Y_.bind(null,r,i,t),[t]),r.flags|=2048,Sa(9,X_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=un(),e=Be.identifierPrefix;if(ce){var n=$n,r=Mn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vA={readContext:Kt,useCallback:iS,useContext:Kt,useEffect:sg,useImperativeHandle:sS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:Ad,useRef:eS,useState:function(){return Ad(_a)},useDebugValue:ig,useDeferredValue:function(t){var e=Gt();return aS(e,Oe.memoizedState,t)},useTransition:function(){var t=Ad(_a)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:K_,useSyncExternalStore:G_,useId:lS,unstable_isNewReconciler:!1},wA={readContext:Kt,useCallback:iS,useContext:Kt,useEffect:sg,useImperativeHandle:sS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:Pd,useRef:eS,useState:function(){return Pd(_a)},useDebugValue:ig,useDeferredValue:function(t){var e=Gt();return Oe===null?e.memoizedState=t:aS(e,Oe.memoizedState,t)},useTransition:function(){var t=Pd(_a)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:K_,useSyncExternalStore:G_,useId:lS,unstable_isNewReconciler:!1};function Mi(t,e){try{var n="",r=e;do n+=Kk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Nd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EA=typeof WeakMap=="function"?WeakMap:Map;function dS(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sc||(sc=!0,mp=r),ip(t,e)},n}function fS(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ip(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ip(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OA.bind(null,t,e,n),e.then(t,t))}function c0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var _A=rr.ReactCurrentOwner,_t=!1;function dt(t,e,n,r){e.child=t===null?W_(e,null,n,r):Oi(e,t.child,n,r)}function d0(t,e,n,r,s){n=n.render;var i=e.ref;return Si(e,s),r=ng(t,e,n,r,i,s),n=rg(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(ce&&n&&Hm(e),e.flags|=1,dt(t,e,r,s),e.child)}function f0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pS(t,e,i,r,s)):(t=Tu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(o,r)&&t.ref===e.ref)return Xn(t,e,s)}return e.flags|=1,t=Ar(i,r),t.ref=e.ref,t.return=e,e.child=t}function pS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pa(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Xn(t,e,s)}return op(t,e,n,r,s)}function mS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(hi,Rt),Rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(hi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(hi,Rt),Rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,se(hi,Rt),Rt|=r;return dt(t,e,s,n),e.child}function gS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function op(t,e,n,r,s){var i=Tt(n)?Ss:at.current;return i=Di(e,i),Si(e,s),n=ng(t,e,n,r,i,s),r=rg(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(ce&&r&&Hm(e),e.flags|=1,dt(t,e,n,s),e.child)}function p0(t,e,n,r,s){if(Tt(n)){var i=!0;Gu(e)}else i=!1;if(Si(e,s),e.stateNode===null)Eu(t,e),z_(e,n,r),sp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=Tt(n)?Ss:at.current,u=Di(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&i0(e,o,r,u),ur=!1;var d=e.memoizedState;o.state=d,Zu(e,r,o,s),l=e.memoizedState,a!==r||d!==l||St.current||ur?(typeof c=="function"&&(rp(e,n,c,r),l=e.memoizedState),(a=ur||s0(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=Tt(n)?Ss:at.current,l=Di(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&i0(e,o,r,l),ur=!1,d=e.memoizedState,o.state=d,Zu(e,r,o,s);var p=e.memoizedState;a!==h||d!==p||St.current||ur?(typeof f=="function"&&(rp(e,n,f,r),p=e.memoizedState),(u=ur||s0(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return ap(t,e,n,r,i,s)}function ap(t,e,n,r,s,i){gS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zv(e,n,!1),Xn(t,e,i);r=e.stateNode,_A.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oi(e,t.child,null,i),e.child=Oi(e,null,a,i)):dt(t,e,a,i),e.memoizedState=r.state,s&&Zv(e,n,!0),e.child}function yS(t){var e=t.stateNode;e.pendingContext?Jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jv(t,e.context,!1),Jm(t,e.containerInfo)}function m0(t,e,n,r,s){return Li(),qm(s),e.flags|=256,dt(t,e,n,r),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function up(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,s=me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(me,s&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=th(o,r,0,null),t=vs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=up(n),e.memoizedState=lp,t):og(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return SA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ar(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ar(a,i):(i=vs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=lp,r}return i=t.child,t=i.sibling,r=Ar(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function og(t,e){return e=th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kl(t,e,n,r){return r!==null&&qm(r),Oi(e,t.child,null,n),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Nd(Error(A(422))),Kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=th({mode:"visible",children:r.children},s,0,null),i=vs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oi(e,t.child,null,o),e.child.memoizedState=up(o),e.memoizedState=lp,i);if(!(e.mode&1))return Kl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=Nd(i,r,void 0),Kl(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qn(t,s),nn(r,t,s,-1))}return dg(),r=Nd(Error(A(421))),Kl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,At=xr(s.nextSibling),Dt=e,ce=!0,en=null,t!==null&&(Vt[Bt++]=Mn,Vt[Bt++]=$n,Vt[Bt++]=Ts,Mn=t.id,$n=t.overflow,Ts=e),e=og(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),np(t.return,e,n)}function Dd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dt(t,e,r.children,n),r=me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ec(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Dd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ec(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Dd(e,!0,n,null,i);break;case"together":Dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TA(t,e,n){switch(e.tag){case 3:yS(e),Li();break;case 5:q_(e);break;case 1:Tt(e.type)&&Gu(e);break;case 4:Jm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;se(Yu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(se(me,me.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);se(me,me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(me,me.current),r)break;return null;case 22:case 23:return e.lanes=0,mS(t,e,n)}return Xn(t,e,n)}var ES,cp,_S,SS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};_S=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hs(vn.current);var i=null;switch(n){case"input":s=Df(t,s),r=Df(t,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=bf(t,s),r=bf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qu)}$f(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(aa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(aa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function _o(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CA(t,e,n){var r=e.pendingProps;switch(Wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return Tt(e.type)&&Ku(),Je(e),null;case 3:return r=e.stateNode,bi(),ae(St),ae(at),eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(vp(en),en=null))),cp(t,e),Je(e),null;case 5:Zm(e);var s=hs(wa.current);if(n=e.type,t!==null&&e.stateNode!=null)_S(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Je(e),null}if(t=hs(vn.current),Wl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[ya]=i,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<Do.length;s++)ie(Do[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":xv(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":kv(r,i),ie("invalid",r)}$f(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),s=["children",""+a]):aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":Ml(r),Iv(r,i,!0);break;case"textarea":Ml(r),Rv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[ya]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uf(n,r),n){case"dialog":ie("cancel",t),ie("close",t),s=r;break;case"iframe":case"object":case"embed":ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Do.length;s++)ie(Do[s],t);s=r;break;case"source":ie("error",t),s=r;break;case"img":case"image":case"link":ie("error",t),ie("load",t),s=r;break;case"details":ie("toggle",t),s=r;break;case"input":xv(t,r),s=Df(t,r),ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),ie("invalid",t);break;case"textarea":kv(t,r),s=bf(t,r),ie("invalid",t);break;default:s=r}$f(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?JE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&la(t,l):typeof l=="number"&&la(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(aa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ie("scroll",t):l!=null&&Pm(t,i,l,o))}switch(n){case"input":Ml(t),Iv(t,r,!1);break;case"textarea":Ml(t),Rv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$r(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vi(t,!!r.multiple,i,!1):r.defaultValue!=null&&vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=hs(wa.current),hs(vn.current),Wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return Je(e),null;case 13:if(ae(me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&At!==null&&e.mode&1&&!(e.flags&128))F_(),Li(),e.flags|=98560,i=!1;else if(i=Wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[hn]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else en!==null&&(vp(en),en=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?$e===0&&($e=3):dg())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return bi(),cp(t,e),t===null&&ma(e.stateNode.containerInfo),Je(e),null;case 10:return Qm(e.type._context),Je(e),null;case 17:return Tt(e.type)&&Ku(),Je(e),null;case 19:if(ae(me),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_o(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ec(t),o!==null){for(e.flags|=128,_o(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(me,me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>$i&&(e.flags|=128,r=!0,_o(i,!1),e.lanes=4194304)}else{if(!r)if(t=ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Je(e),null}else 2*Re()-i.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,r=!0,_o(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=me.current,se(me,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return hg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function xA(t,e){switch(Wm(e),e.tag){case 1:return Tt(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(),ae(St),ae(at),eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zm(e),null;case 13:if(ae(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(me),null;case 4:return bi(),null;case 10:return Qm(e.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var Gl=!1,tt=!1,IA=typeof WeakSet=="function"?WeakSet:Set,L=null;function ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function hp(t,e,n){try{n()}catch(r){Se(t,e,r)}}var y0=!1;function kA(t,e){if(Gf=zu,t=I_(),zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:t,selectionRange:n},zu=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,S=p.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Jt(e.type,w),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Se(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=y0,y0=!1,p}function Ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hp(e,n,i)}s=s.next}while(s!==r)}}function Zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TS(t){var e=t.alternate;e!==null&&(t.alternate=null,TS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[ya],delete e[Jf],delete e[uA],delete e[cA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CS(t){return t.tag===5||t.tag===3||t.tag===4}function v0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qu));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}var We=null,Zt=!1;function sr(t,e,n){for(n=n.child;n!==null;)xS(t,e,n),n=n.sibling}function xS(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Wc,n)}catch{}switch(n.tag){case 5:tt||ci(n,e);case 6:var r=We,s=Zt;We=null,sr(t,e,n),We=r,Zt=s,We!==null&&(Zt?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Zt?(t=We,n=n.stateNode,t.nodeType===8?xd(t.parentNode,n):t.nodeType===1&&xd(t,n),da(t)):xd(We,n.stateNode));break;case 4:r=We,s=Zt,We=n.stateNode.containerInfo,Zt=!0,sr(t,e,n),We=r,Zt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hp(n,e,o),s=s.next}while(s!==r)}sr(t,e,n);break;case 1:if(!tt&&(ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,e,a)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,sr(t,e,n),tt=r):sr(t,e,n);break;default:sr(t,e,n)}}function w0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IA),e.forEach(function(r){var s=MA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Zt=!1;break e;case 3:We=a.stateNode.containerInfo,Zt=!0;break e;case 4:We=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(We===null)throw Error(A(160));xS(i,o,s),We=null,Zt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IS(e,t),e=e.sibling}function IS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),ln(t),r&4){try{Ko(3,t,t.return),Zc(3,t)}catch(w){Se(t,t.return,w)}try{Ko(5,t,t.return)}catch(w){Se(t,t.return,w)}}break;case 1:Yt(e,t),ln(t),r&512&&n!==null&&ci(n,n.return);break;case 5:if(Yt(e,t),ln(t),r&512&&n!==null&&ci(n,n.return),t.flags&32){var s=t.stateNode;try{la(s,"")}catch(w){Se(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&KE(s,i),Uf(a,o);var u=Uf(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?JE(s,h):c==="dangerouslySetInnerHTML"?XE(s,h):c==="children"?la(s,h):Pm(s,c,h,u)}switch(a){case"input":Lf(s,i);break;case"textarea":GE(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?vi(s,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?vi(s,!!i.multiple,i.defaultValue,!0):vi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ya]=i}catch(w){Se(t,t.return,w)}}break;case 6:if(Yt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Se(t,t.return,w)}}break;case 3:if(Yt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(e.containerInfo)}catch(w){Se(t,t.return,w)}break;case 4:Yt(e,t),ln(t);break;case 13:Yt(e,t),ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ug=Re())),r&4&&w0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,Yt(e,t),tt=u):Yt(e,t),ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ko(4,d,d.return);break;case 1:ci(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:ci(d,d.return);break;case 22:if(d.memoizedState!==null){_0(h);continue}}f!==null?(f.return=d,L=f):_0(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YE("display",o))}catch(w){Se(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Se(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yt(e,t),ln(t),r&4&&w0(t);break;case 21:break;default:Yt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CS(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(la(s,""),r.flags&=-33);var i=v0(t);pp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v0(t);fp(t,a,o);break;default:throw Error(A(161))}}catch(l){Se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RA(t,e,n){L=t,kS(t)}function kS(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tt;a=Gl;var u=tt;if(Gl=o,(tt=l)&&!u)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?S0(s):l!==null?(l.return=o,L=l):S0(s);for(;i!==null;)L=i,kS(i),i=i.sibling;L=s,Gl=a,tt=u}E0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):E0(t)}}function E0(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&r0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&da(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}tt||e.flags&512&&dp(e)}catch(d){Se(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function _0(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function S0(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zc(4,e)}catch(l){Se(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Se(e,s,l)}}var i=e.return;try{dp(e)}catch(l){Se(e,i,l)}break;case 5:var o=e.return;try{dp(e)}catch(l){Se(e,o,l)}}}catch(l){Se(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var AA=Math.ceil,rc=rr.ReactCurrentDispatcher,ag=rr.ReactCurrentOwner,Wt=rr.ReactCurrentBatchConfig,J=0,Be=null,Le=null,Ge=0,Rt=0,hi=qr(0),$e=0,Ta=null,xs=0,eh=0,lg=0,Go=null,wt=null,ug=0,$i=1/0,Ln=null,sc=!1,mp=null,kr=null,Ql=!1,vr=null,ic=0,Qo=0,gp=null,_u=-1,Su=0;function pt(){return J&6?Re():_u!==-1?_u:_u=Re()}function Rr(t){return t.mode&1?J&2&&Ge!==0?Ge&-Ge:dA.transition!==null?(Su===0&&(Su=c_()),Su):(t=te,t!==0||(t=window.event,t=t===void 0?16:y_(t.type)),t):1}function nn(t,e,n,r){if(50<Qo)throw Qo=0,gp=null,Error(A(185));Ya(t,n,r),(!(J&2)||t!==Be)&&(t===Be&&(!(J&2)&&(eh|=n),$e===4&&dr(t,Ge)),Ct(t,r),n===1&&J===0&&!(e.mode&1)&&($i=Re()+500,Xc&&Kr()))}function Ct(t,e){var n=t.callbackNode;dR(t,e);var r=Bu(t,t===Be?Ge:0);if(r===0)n!==null&&Nv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nv(n),e===1)t.tag===0?hA(T0.bind(null,t)):M_(T0.bind(null,t)),aA(function(){!(J&6)&&Kr()}),n=null;else{switch(h_(r)){case 1:n=bm;break;case 4:n=l_;break;case 16:n=Vu;break;case 536870912:n=u_;break;default:n=Vu}n=bS(n,RS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RS(t,e){if(_u=-1,Su=0,J&6)throw Error(A(327));var n=t.callbackNode;if(Ti()&&t.callbackNode!==n)return null;var r=Bu(t,t===Be?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oc(t,r);else{e=r;var s=J;J|=2;var i=PS();(Be!==t||Ge!==e)&&(Ln=null,$i=Re()+500,ys(t,e));do try{DA();break}catch(a){AS(t,a)}while(1);Gm(),rc.current=i,J=s,Le!==null?e=0:(Be=null,Ge=0,e=$e)}if(e!==0){if(e===2&&(s=zf(t),s!==0&&(r=s,e=yp(t,s))),e===1)throw n=Ta,ys(t,0),dr(t,r),Ct(t,Re()),n;if(e===6)dr(t,r);else{if(s=t.current.alternate,!(r&30)&&!PA(s)&&(e=oc(t,r),e===2&&(i=zf(t),i!==0&&(r=i,e=yp(t,i))),e===1))throw n=Ta,ys(t,0),dr(t,r),Ct(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:is(t,wt,Ln);break;case 3:if(dr(t,r),(r&130023424)===r&&(e=ug+500-Re(),10<e)){if(Bu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yf(is.bind(null,t,wt,Ln),e);break}is(t,wt,Ln);break;case 4:if(dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AA(r/1960))-r,10<r){t.timeoutHandle=Yf(is.bind(null,t,wt,Ln),r);break}is(t,wt,Ln);break;case 5:is(t,wt,Ln);break;default:throw Error(A(329))}}}return Ct(t,Re()),t.callbackNode===n?RS.bind(null,t):null}function yp(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=oc(t,e),t!==2&&(e=wt,wt=n,e!==null&&vp(e)),t}function vp(t){wt===null?wt=t:wt.push.apply(wt,t)}function PA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~lg,e&=~eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function T0(t){if(J&6)throw Error(A(327));Ti();var e=Bu(t,0);if(!(e&1))return Ct(t,Re()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var r=zf(t);r!==0&&(e=r,n=yp(t,r))}if(n===1)throw n=Ta,ys(t,0),dr(t,e),Ct(t,Re()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,wt,Ln),Ct(t,Re()),null}function cg(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&($i=Re()+500,Xc&&Kr())}}function Is(t){vr!==null&&vr.tag===0&&!(J&6)&&Ti();var e=J;J|=1;var n=Wt.transition,r=te;try{if(Wt.transition=null,te=1,t)return t()}finally{te=r,Wt.transition=n,J=e,!(J&6)&&Kr()}}function hg(){Rt=hi.current,ae(hi)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oA(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ku();break;case 3:bi(),ae(St),ae(at),eg();break;case 5:Zm(r);break;case 4:bi();break;case 13:ae(me);break;case 19:ae(me);break;case 10:Qm(r.type._context);break;case 22:case 23:hg()}n=n.return}if(Be=t,Le=t=Ar(t.current,null),Ge=Rt=e,$e=0,Ta=null,lg=eh=xs=0,wt=Go=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cs=null}return t}function AS(t,e){do{var n=Le;try{if(Gm(),vu.current=nc,tc){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tc=!1}if(Cs=0,Ve=Oe=ye=null,qo=!1,Ea=0,ag.current=null,n===null||n.return===null){$e=1,Ta=e,Le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=c0(o);if(f!==null){f.flags&=-257,h0(f,o,a,i,e),f.mode&1&&u0(i,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var w=new Set;w.add(l),e.updateQueue=w}else p.add(l);break e}else{if(!(e&1)){u0(i,u,e),dg();break e}l=Error(A(426))}}else if(ce&&a.mode&1){var S=c0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),h0(S,o,a,i,e),qm(Mi(l,a));break e}}i=l=Mi(l,a),$e!==4&&($e=2),Go===null?Go=[i]:Go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=dS(i,l,e);n0(i,v);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kr===null||!kr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=fS(i,a,e);n0(i,_);break e}}i=i.return}while(i!==null)}DS(n)}catch(T){e=T,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function PS(){var t=rc.current;return rc.current=nc,t===null?nc:t}function dg(){($e===0||$e===3||$e===2)&&($e=4),Be===null||!(xs&268435455)&&!(eh&268435455)||dr(Be,Ge)}function oc(t,e){var n=J;J|=2;var r=PS();(Be!==t||Ge!==e)&&(Ln=null,ys(t,e));do try{NA();break}catch(s){AS(t,s)}while(1);if(Gm(),J=n,rc.current=r,Le!==null)throw Error(A(261));return Be=null,Ge=0,$e}function NA(){for(;Le!==null;)NS(Le)}function DA(){for(;Le!==null&&!rR();)NS(Le)}function NS(t){var e=OS(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?DS(t):Le=e,ag.current=null}function DS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xA(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Le=null;return}}else if(n=CA(n,e,Rt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);$e===0&&($e=5)}function is(t,e,n){var r=te,s=Wt.transition;try{Wt.transition=null,te=1,LA(t,e,n,r)}finally{Wt.transition=s,te=r}return null}function LA(t,e,n,r){do Ti();while(vr!==null);if(J&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fR(t,i),t===Be&&(Le=Be=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,bS(Vu,function(){return Ti(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var o=te;te=1;var a=J;J|=4,ag.current=null,kA(t,n),IS(n,t),ZR(Qf),zu=!!Gf,Qf=Gf=null,t.current=n,RA(n),sR(),J=a,te=o,Wt.transition=i}else t.current=n;if(Ql&&(Ql=!1,vr=t,ic=s),i=t.pendingLanes,i===0&&(kr=null),aR(n.stateNode),Ct(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sc)throw sc=!1,t=mp,mp=null,t;return ic&1&&t.tag!==0&&Ti(),i=t.pendingLanes,i&1?t===gp?Qo++:(Qo=0,gp=t):Qo=0,Kr(),null}function Ti(){if(vr!==null){var t=h_(ic),e=Wt.transition,n=te;try{if(Wt.transition=null,te=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,ic=0,J&6)throw Error(A(331));var s=J;for(J|=4,L=t.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Ko(8,c,i)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,f=c.return;if(TS(c),c===u){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ko(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,L=v;break e}L=i.return}}var g=t.current;for(L=g;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=g;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zc(9,a)}}catch(T){Se(a,a.return,T)}if(a===o){L=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,L=_;break e}L=a.return}}if(J=s,Kr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Wc,t)}catch{}r=!0}return r}finally{te=n,Wt.transition=e}}return!1}function C0(t,e,n){e=Mi(n,e),e=dS(t,e,1),t=Ir(t,e,1),e=pt(),t!==null&&(Ya(t,1,e),Ct(t,e))}function Se(t,e,n){if(t.tag===3)C0(t,t,n);else for(;e!==null;){if(e.tag===3){C0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=Mi(n,t),t=fS(e,t,1),e=Ir(e,t,1),t=pt(),e!==null&&(Ya(e,1,t),Ct(e,t));break}}e=e.return}}function OA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>Re()-ug?ys(t,0):lg|=n),Ct(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):e=1);var n=pt();t=Qn(t,e),t!==null&&(Ya(t,e,n),Ct(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function MA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),LS(t,n)}var OS;OS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,TA(t,e,n);_t=!!(t.flags&131072)}else _t=!1,ce&&e.flags&1048576&&$_(e,Xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eu(t,e),t=e.pendingProps;var s=Di(e,at.current);Si(e,n),s=ng(null,e,r,t,s,n);var i=rg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(i=!0,Gu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ym(e),s.updater=Yc,e.stateNode=s,s._reactInternals=e,sp(e,r,t,n),e=ap(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&Hm(e),dt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UA(r),t=Jt(r,t),s){case 0:e=op(null,e,r,t,n);break e;case 1:e=p0(null,e,r,t,n);break e;case 11:e=d0(null,e,r,t,n);break e;case 14:e=f0(null,e,r,Jt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),op(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),p0(t,e,r,s,n);case 3:e:{if(yS(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,V_(t,e),Zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Mi(Error(A(423)),e),e=m0(t,e,r,n,s);break e}else if(r!==s){s=Mi(Error(A(424)),e),e=m0(t,e,r,n,s);break e}else for(At=xr(e.stateNode.containerInfo.firstChild),Dt=e,ce=!0,en=null,n=W_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),r===s){e=Xn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return q_(e),t===null&&tp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xf(r,s)?o=null:i!==null&&Xf(r,i)&&(e.flags|=32),gS(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&tp(e),null;case 13:return vS(t,e,n);case 4:return Jm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oi(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),d0(t,e,r,s,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,se(Yu,r._currentValue),r._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===s.children&&!St.current){e=Xn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Bn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),np(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),np(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Si(e,n),s=Kt(s),r=r(s),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,s=Jt(r,e.pendingProps),s=Jt(r.type,s),f0(t,e,r,s,n);case 15:return pS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Eu(t,e),e.tag=1,Tt(r)?(t=!0,Gu(e)):t=!1,Si(e,n),z_(e,r,s),sp(e,r,s,n),ap(null,e,r,!0,t,n);case 19:return wS(t,e,n);case 22:return mS(t,e,n)}throw Error(A(156,e.tag))};function bS(t,e){return a_(t,e)}function $A(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new $A(t,e,n,r)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UA(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dm)return 11;if(t===Lm)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")fg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ti:return vs(n.children,s,i,e);case Nm:o=8,s|=8;break;case Rf:return t=Ht(12,n,e,s|2),t.elementType=Rf,t.lanes=i,t;case Af:return t=Ht(13,n,e,s),t.elementType=Af,t.lanes=i,t;case Pf:return t=Ht(19,n,e,s),t.elementType=Pf,t.lanes=i,t;case HE:return th(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case zE:o=9;break e;case Dm:o=11;break e;case Lm:o=14;break e;case lr:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Ht(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vs(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function th(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=HE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ld(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Od(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pd(0),this.expirationTimes=pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pg(t,e,n,r,s,i,o,a,l){return t=new FA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ht(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(i),t}function jA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MS(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Tt(n))return b_(t,n,e)}return e}function $S(t,e,n,r,s,i,o,a,l){return t=pg(n,r,!0,t,s,i,o,a,l),t.context=MS(null),n=t.current,r=pt(),s=Rr(n),i=Bn(r,s),i.callback=e??null,Ir(n,i,s),t.current.lanes=s,Ya(t,s,r),Ct(t,r),t}function nh(t,e,n,r){var s=e.current,i=pt(),o=Rr(s);return n=MS(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(s,e,o),t!==null&&(nn(t,s,o,i),yu(t,s,o)),o}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mg(t,e){x0(t,e),(t=t.alternate)&&x0(t,e)}function VA(){return null}var US=typeof reportError=="function"?reportError:function(t){console.error(t)};function gg(t){this._internalRoot=t}rh.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));nh(t,e,null,null)};rh.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){nh(null,t,null,null)}),e[Gn]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=p_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&g_(t)}};function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I0(){}function BA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ac(o);i.call(u)}}var o=$S(e,r,t,0,null,!1,!1,"",I0);return t._reactRootContainer=o,t[Gn]=o.current,ma(t.nodeType===8?t.parentNode:t),Is(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ac(l);a.call(u)}}var l=pg(t,0,!1,null,null,!1,!1,"",I0);return t._reactRootContainer=l,t[Gn]=l.current,ma(t.nodeType===8?t.parentNode:t),Is(function(){nh(e,l,n,r)}),l}function ih(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ac(o);a.call(l)}}nh(e,o,t,s)}else o=BA(n,e,t,s,r);return ac(o)}d_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=No(e.pendingLanes);n!==0&&(Mm(e,n|1),Ct(e,Re()),!(J&6)&&($i=Re()+500,Kr()))}break;case 13:Is(function(){var r=Qn(t,1);if(r!==null){var s=pt();nn(r,t,1,s)}}),mg(t,1)}};$m=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=pt();nn(e,t,134217728,n)}mg(t,134217728)}};f_=function(t){if(t.tag===13){var e=Rr(t),n=Qn(t,e);if(n!==null){var r=pt();nn(n,t,e,r)}mg(t,e)}};p_=function(){return te};m_=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};jf=function(t,e,n){switch(e){case"input":if(Lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qc(r);if(!s)throw Error(A(90));qE(r),Lf(r,s)}}}break;case"textarea":GE(t,n);break;case"select":e=n.value,e!=null&&vi(t,!!n.multiple,e,!1)}};t_=cg;n_=Is;var zA={usingClientEntryPoint:!1,Events:[Za,ii,Qc,ZE,e_,cg]},So={findFiberByHostInstance:us,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HA={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i_(t),t===null?null:t.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||VA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Wc=Xl.inject(HA),yn=Xl}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zA;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(e))throw Error(A(200));return jA(t,e,null,n)};Mt.createRoot=function(t,e){if(!yg(t))throw Error(A(299));var n=!1,r="",s=US;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pg(t,1,!1,null,null,n,!1,r,s),t[Gn]=e.current,ma(t.nodeType===8?t.parentNode:t),new gg(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=i_(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return Is(t)};Mt.hydrate=function(t,e,n){if(!sh(e))throw Error(A(200));return ih(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!yg(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=US;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$S(e,null,t,1,n??null,s,!1,i,o),t[Gn]=e.current,ma(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rh(e)};Mt.render=function(t,e,n){if(!sh(e))throw Error(A(200));return ih(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!sh(t))throw Error(A(40));return t._reactRootContainer?(Is(function(){ih(null,null,t,!1,function(){t._reactRootContainer=null,t[Gn]=null})}),!0):!1};Mt.unstable_batchedUpdates=cg;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sh(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return ih(t,e,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(t){console.error(t)}}FS(),$E.exports=Mt;var WA=$E.exports,k0=WA;If.createRoot=k0.createRoot,If.hydrateRoot=k0.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(this,arguments)}var wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wr||(wr={}));const R0="popstate";function qA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return wp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lc(s)}return GA(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substr(2,8)}function A0(t,e){return{usr:t.state,key:t.key,idx:e}}function wp(t,e,n,r){return n===void 0&&(n=null),Ca({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eo(e):e,{state:n,key:e&&e.key||r||KA()})}function lc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=wr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ca({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=wr.Pop;let S=c(),v=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:v})}function d(S,v){a=wr.Push;let g=wp(w.location,S,v);n&&n(g,S),u=c()+1;let y=A0(g,u),_=w.createHref(g);try{o.pushState(y,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function f(S,v){a=wr.Replace;let g=wp(w.location,S,v);n&&n(g,S),u=c();let y=A0(g,u),_=w.createHref(g);o.replaceState(y,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function p(S){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof S=="string"?S:lc(S);return Ae(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let w={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(R0,h),l=S,()=>{s.removeEventListener(R0,h),l=null}},createHref(S){return e(s,S)},createURL:p,encodeLocation(S){let v=p(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(S){return o.go(S)}};return w}var P0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(P0||(P0={}));function QA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?eo(e):e,s=wg(r.pathname||"/",n);if(s==null)return null;let i=jS(t);XA(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=iP(i[a],lP(s));return o}function jS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pr([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jS(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:rP(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of VS(i.path))s(i,o,l)}),e}function VS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=VS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YA=/^:\w+$/,JA=3,ZA=2,eP=1,tP=10,nP=-2,N0=t=>t==="*";function rP(t,e){let n=t.split("/"),r=n.length;return n.some(N0)&&(r+=nP),e&&(r+=ZA),n.filter(s=>!N0(s)).reduce((s,i)=>s+(YA.test(i)?JA:i===""?eP:tP),r)}function sP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function iP(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=oP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;i.push({params:r,pathname:Pr([s,c.pathname]),pathnameBase:dP(Pr([s,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(s=Pr([s,c.pathnameBase]))}return i}function oP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=uP(a[h]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function aP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lP(t){try{return decodeURI(t)}catch(e){return vg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uP(t,e){try{return decodeURIComponent(t)}catch(n){return vg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?eo(t):t;return{pathname:n?n.startsWith("/")?n:hP(n,e):e,search:fP(r),hash:pP(s)}}function hP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _g(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=eo(t):(s=Ca({},t),Ae(!s.pathname||!s.pathname.includes("?"),bd("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),bd("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),bd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=cP(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Pr=t=>t.join("/").replace(/\/\/+/g,"/"),dP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BS=["post","put","patch","delete"];new Set(BS);const gP=["get",...BS];new Set(gP);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}const Sg=E.createContext(null),yP=E.createContext(null),to=E.createContext(null),oh=E.createContext(null),Rn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),zS=E.createContext(null);function vP(t,e){let{relative:n}=e===void 0?{}:e;no()||Ae(!1);let{basename:r,navigator:s}=E.useContext(to),{hash:i,pathname:o,search:a}=qS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Pr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function no(){return E.useContext(oh)!=null}function $s(){return no()||Ae(!1),E.useContext(oh).location}function HS(t){E.useContext(to).static||E.useLayoutEffect(t)}function ah(){let{isDataRoute:t}=E.useContext(Rn);return t?LP():wP()}function wP(){no()||Ae(!1);let t=E.useContext(Sg),{basename:e,navigator:n}=E.useContext(to),{matches:r}=E.useContext(Rn),{pathname:s}=$s(),i=JSON.stringify(Eg(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return HS(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=_g(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Pr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}const EP=E.createContext(null);function _P(t){let e=E.useContext(Rn).outlet;return e&&E.createElement(EP.Provider,{value:t},e)}function WS(){let{matches:t}=E.useContext(Rn),e=t[t.length-1];return e?e.params:{}}function qS(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Rn),{pathname:s}=$s(),i=JSON.stringify(Eg(r).map(o=>o.pathnameBase));return E.useMemo(()=>_g(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function SP(t,e){return TP(t,e)}function TP(t,e,n){no()||Ae(!1);let{navigator:r}=E.useContext(to),{matches:s}=E.useContext(Rn),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=$s(),u;if(e){var c;let w=typeof e=="string"?eo(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||Ae(!1),u=w}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=QA(t,{pathname:d}),p=RP(f&&f.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Pr([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Pr([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n);return e&&p?E.createElement(oh.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:wr.Pop}},p):p}function CP(){let t=DP(),e=mP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,i)}const xP=E.createElement(CP,null);class IP extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Rn.Provider,{value:this.props.routeContext},E.createElement(zS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kP(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(Sg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Rn.Provider,{value:e},r)}function RP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ae(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||xP);let d=e.concat(i.slice(0,u+1)),f=()=>{let p;return c?p=h:l.route.Component?p=E.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,E.createElement(kP,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(IP,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var Ep;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Ep||(Ep={}));var xa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(xa||(xa={}));function AP(t){let e=E.useContext(Sg);return e||Ae(!1),e}function PP(t){let e=E.useContext(yP);return e||Ae(!1),e}function NP(t){let e=E.useContext(Rn);return e||Ae(!1),e}function KS(t){let e=NP(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function DP(){var t;let e=E.useContext(zS),n=PP(xa.UseRouteError),r=KS(xa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function LP(){let{router:t}=AP(Ep.UseNavigateStable),e=KS(xa.UseNavigateStable),n=E.useRef(!1);return HS(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,uc({fromRouteId:e},i)))},[t,e])}function D0(t){let{to:e,replace:n,state:r,relative:s}=t;no()||Ae(!1);let{matches:i}=E.useContext(Rn),{pathname:o}=$s(),a=ah(),l=_g(e,Eg(i).map(c=>c.pathnameBase),o,s==="path"),u=JSON.stringify(l);return E.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function OP(t){return _P(t.context)}function Dn(t){Ae(!1)}function bP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=wr.Pop,navigator:i,static:o=!1}=t;no()&&Ae(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=eo(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,p=E.useMemo(()=>{let w=wg(u,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:d,key:f},navigationType:s}},[a,u,c,h,d,f,s]);return p==null?null:E.createElement(to.Provider,{value:l},E.createElement(oh.Provider,{children:n,value:p}))}function MP(t){let{children:e,location:n}=t;return SP(_p(e),n)}var L0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(L0||(L0={}));new Promise(()=>{});function _p(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,_p(r.props.children,i));return}r.type!==Dn&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_p(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function $P(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function UP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FP(t,e){return t.button===0&&(!e||e==="_self")&&!UP(t)}const jP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],O0="startTransition";function VP(t){let{basename:e,children:n,window:r}=t,s=E.useRef();s.current==null&&(s.current=qA({window:r,v5Compat:!0}));let i=s.current,[o,a]=E.useState({action:i.action,location:i.location}),l=E.useCallback(u=>{O0 in _v?_v[O0](()=>a(u)):a(u)},[a]);return E.useLayoutEffect(()=>i.listen(l),[i,l]),E.createElement(bP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const BP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tg=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=$P(e,jP),{basename:d}=E.useContext(to),f,p=!1;if(typeof u=="string"&&zP.test(u)&&(f=u,BP))try{let g=new URL(window.location.href),y=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=wg(y.pathname,d);y.origin===g.origin&&_!=null?u=_+y.search+y.hash:p=!0}catch{}let w=vP(u,{relative:s}),S=HP(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s});function v(g){r&&r(g),g.defaultPrevented||S(g)}return E.createElement("a",Sp({},h,{href:f||w,onClick:p||i?r:v,ref:n,target:l}))});var b0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(b0||(b0={}));var M0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M0||(M0={}));function HP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=ah(),l=$s(),u=qS(t,{relative:o});return E.useCallback(c=>{if(FP(c,n)){c.preventDefault();let h=r!==void 0?r:lc(l)===lc(u);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}const WP=(t,e)=>{switch(e.type){case"SET_LANG":return{...t,lang:e.payload,page:1};case"SET_MEDIA_TYPE":return{...t,mediaType:e.payload,page:1,filterGenre:"all",filterList:"top_rated"};case"SET_FILTER_LIST":return{...t,filterList:e.payload,page:1};case"SET_FILTER_GENRE":return{...t,filterGenre:e.payload,page:1};case"INCREASE_PAGE":return{...t,page:e.payload};case"INITIAL_LOAD_MOVIES":return{...t,moviesList:[...e.payload[0]],uniqueIds:[...e.payload[1]],totalPages:e.payload[2]};case"APPEND_MOVIES":{const n=[],r=e.payload[0].filter(s=>t.uniqueIds.includes(s.id)?!1:(n.push(s.id),!0));return{...t,moviesList:[...t.moviesList,...r],uniqueIds:[...t.uniqueIds,...n]}}case"SET_SEARCH_MODE":return{...t,page:1,filterList:"top_rated",filterGenre:"all",moviesListMode:"search",searchQuery:e.payload};case"SET_HOME_MODE":return{...t,page:1,filterList:"top_rated",filterGenre:"all",moviesListMode:"home"};default:return t}};function GS(t,e){return function(){return t.apply(e,arguments)}}const{toString:qP}=Object.prototype,{getPrototypeOf:Cg}=Object,lh=(t=>e=>{const n=qP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),An=t=>(t=t.toLowerCase(),e=>lh(e)===t),uh=t=>e=>typeof e===t,{isArray:ro}=Array,Ia=uh("undefined");function KP(t){return t!==null&&!Ia(t)&&t.constructor!==null&&!Ia(t.constructor)&&qt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QS=An("ArrayBuffer");function GP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QS(t.buffer),e}const QP=uh("string"),qt=uh("function"),XS=uh("number"),ch=t=>t!==null&&typeof t=="object",XP=t=>t===!0||t===!1,Cu=t=>{if(lh(t)!=="object")return!1;const e=Cg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},YP=An("Date"),JP=An("File"),ZP=An("Blob"),eN=An("FileList"),tN=t=>ch(t)&&qt(t.pipe),nN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qt(t.append)&&((e=lh(t))==="formdata"||e==="object"&&qt(t.toString)&&t.toString()==="[object FormData]"))},rN=An("URLSearchParams"),sN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ro(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function YS(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const JS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZS=t=>!Ia(t)&&t!==JS;function Tp(){const{caseless:t}=ZS(this)&&this||{},e={},n=(r,s)=>{const i=t&&YS(e,s)||s;Cu(e[i])&&Cu(r)?e[i]=Tp(e[i],r):Cu(r)?e[i]=Tp({},r):ro(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&tl(arguments[r],n);return e}const iN=(t,e,n,{allOwnKeys:r}={})=>(tl(e,(s,i)=>{n&&qt(s)?t[i]=GS(s,n):t[i]=s},{allOwnKeys:r}),t),oN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aN=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lN=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Cg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cN=t=>{if(!t)return null;if(ro(t))return t;let e=t.length;if(!XS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Cg(Uint8Array)),dN=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},fN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pN=An("HTMLFormElement"),mN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gN=An("RegExp"),eT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tl(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},yN=t=>{eT(t,(e,n)=>{if(qt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vN=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ro(t)?r(t):r(String(t).split(e)),n},wN=()=>{},EN=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Md="abcdefghijklmnopqrstuvwxyz",U0="0123456789",tT={DIGIT:U0,ALPHA:Md,ALPHA_DIGIT:Md+Md.toUpperCase()+U0},_N=(t=16,e=tT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function SN(t){return!!(t&&qt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const TN=t=>{const e=new Array(10),n=(r,s)=>{if(ch(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ro(r)?[]:{};return tl(r,(o,a)=>{const l=n(o,s+1);!Ia(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},CN=An("AsyncFunction"),xN=t=>t&&(ch(t)||qt(t))&&qt(t.then)&&qt(t.catch),x={isArray:ro,isArrayBuffer:QS,isBuffer:KP,isFormData:nN,isArrayBufferView:GP,isString:QP,isNumber:XS,isBoolean:XP,isObject:ch,isPlainObject:Cu,isUndefined:Ia,isDate:YP,isFile:JP,isBlob:ZP,isRegExp:gN,isFunction:qt,isStream:tN,isURLSearchParams:rN,isTypedArray:hN,isFileList:eN,forEach:tl,merge:Tp,extend:iN,trim:sN,stripBOM:oN,inherits:aN,toFlatObject:lN,kindOf:lh,kindOfTest:An,endsWith:uN,toArray:cN,forEachEntry:dN,matchAll:fN,isHTMLForm:pN,hasOwnProperty:$0,hasOwnProp:$0,reduceDescriptors:eT,freezeMethods:yN,toObjectSet:vN,toCamelCase:mN,noop:wN,toFiniteNumber:EN,findKey:YS,global:JS,isContextDefined:ZS,ALPHABET:tT,generateString:_N,isSpecCompliantForm:SN,toJSONObject:TN,isAsyncFn:CN,isThenable:xN};function Y(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}x.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nT=Y.prototype,rT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rT[t]={value:t}});Object.defineProperties(Y,rT);Object.defineProperty(nT,"isAxiosError",{value:!0});Y.from=(t,e,n,r,s,i)=>{const o=Object.create(nT);return x.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Y.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const IN=null;function Cp(t){return x.isPlainObject(t)||x.isArray(t)}function sT(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function F0(t,e,n){return t?t.concat(e).map(function(s,i){return s=sT(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function kN(t){return x.isArray(t)&&!t.some(Cp)}const RN=x.toFlatObject(x,{},null,function(e){return/^is[A-Z]/.test(e)});function hh(t,e,n){if(!x.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=x.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!x.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(e);if(!x.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(x.isDate(p))return p.toISOString();if(!l&&x.isBlob(p))throw new Y("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(p)||x.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,w,S){let v=p;if(p&&!S&&typeof p=="object"){if(x.endsWith(w,"{}"))w=r?w:w.slice(0,-2),p=JSON.stringify(p);else if(x.isArray(p)&&kN(p)||(x.isFileList(p)||x.endsWith(w,"[]"))&&(v=x.toArray(p)))return w=sT(w),v.forEach(function(y,_){!(x.isUndefined(y)||y===null)&&e.append(o===!0?F0([w],_,i):o===null?w:w+"[]",u(y))}),!1}return Cp(p)?!0:(e.append(F0(S,w,i),u(p)),!1)}const h=[],d=Object.assign(RN,{defaultVisitor:c,convertValue:u,isVisitable:Cp});function f(p,w){if(!x.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(p),x.forEach(p,function(v,g){(!(x.isUndefined(v)||v===null)&&s.call(e,v,x.isString(g)?g.trim():g,w,d))===!0&&f(v,w?w.concat(g):[g])}),h.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return f(t),e}function j0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xg(t,e){this._pairs=[],t&&hh(t,this,e)}const iT=xg.prototype;iT.append=function(e,n){this._pairs.push([e,n])};iT.toString=function(e){const n=e?function(r){return e.call(this,r,j0)}:j0;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function AN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oT(t,e,n){if(!e)return t;const r=n&&n.encode||AN,s=n&&n.serialize;let i;if(s?i=s(e,n):i=x.isURLSearchParams(e)?e.toString():new xg(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class PN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){x.forEach(this.handlers,function(r){r!==null&&e(r)})}}const V0=PN,aT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NN=typeof URLSearchParams<"u"?URLSearchParams:xg,DN=typeof FormData<"u"?FormData:null,LN=typeof Blob<"u"?Blob:null,ON=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),bN=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fn={isBrowser:!0,classes:{URLSearchParams:NN,FormData:DN,Blob:LN},isStandardBrowserEnv:ON,isStandardBrowserWebWorkerEnv:bN,protocols:["http","https","file","blob","url","data"]};function MN(t,e){return hh(t,new fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return fn.isNode&&x.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function $N(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UN(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function lT(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&x.isArray(s)?s.length:o,l?(x.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!x.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&x.isArray(s[o])&&(s[o]=UN(s[o])),!a)}if(x.isFormData(t)&&x.isFunction(t.entries)){const n={};return x.forEachEntry(t,(r,s)=>{e($N(r),s,n,0)}),n}return null}const FN={"Content-Type":void 0};function jN(t,e,n){if(x.isString(t))try{return(e||JSON.parse)(t),x.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const dh={transitional:aT,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=x.isObject(e);if(i&&x.isHTMLForm(e)&&(e=new FormData(e)),x.isFormData(e))return s&&s?JSON.stringify(lT(e)):e;if(x.isArrayBuffer(e)||x.isBuffer(e)||x.isStream(e)||x.isFile(e)||x.isBlob(e))return e;if(x.isArrayBufferView(e))return e.buffer;if(x.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MN(e,this.formSerializer).toString();if((a=x.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),jN(e)):e}],transformResponse:[function(e){const n=this.transitional||dh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&x.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};x.forEach(["delete","get","head"],function(e){dh.headers[e]={}});x.forEach(["post","put","patch"],function(e){dh.headers[e]=x.merge(FN)});const Ig=dh,VN=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BN=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&VN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B0=Symbol("internals");function To(t){return t&&String(t).trim().toLowerCase()}function xu(t){return t===!1||t==null?t:x.isArray(t)?t.map(xu):String(t)}function zN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $d(t,e,n,r,s){if(x.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!x.isString(e)){if(x.isString(r))return e.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(e)}}function WN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function qN(t,e){const n=x.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class fh{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=To(l);if(!c)throw new Error("header name must be a non-empty string");const h=x.findKey(s,c);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=xu(a))}const o=(a,l)=>x.forEach(a,(u,c)=>i(u,c,l));return x.isPlainObject(e)||e instanceof this.constructor?o(e,n):x.isString(e)&&(e=e.trim())&&!HN(e)?o(BN(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=To(e),e){const r=x.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return zN(s);if(x.isFunction(n))return n.call(this,s,r);if(x.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=To(e),e){const r=x.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$d(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=To(o),o){const a=x.findKey(r,o);a&&(!n||$d(r,r[a],a,n))&&(delete r[a],s=!0)}}return x.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||$d(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return x.forEach(this,(s,i)=>{const o=x.findKey(r,i);if(o){n[o]=xu(s),delete n[i];return}const a=e?WN(i):String(i).trim();a!==i&&delete n[i],n[a]=xu(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return x.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&x.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[B0]=this[B0]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=To(o);r[a]||(qN(s,o),r[a]=!0)}return x.isArray(e)?e.forEach(i):i(e),this}}fh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.freezeMethods(fh.prototype);x.freezeMethods(fh);const zn=fh;function Ud(t,e){const n=this||Ig,r=e||n,s=zn.from(r.headers);let i=r.data;return x.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function uT(t){return!!(t&&t.__CANCEL__)}function nl(t,e,n){Y.call(this,t??"canceled",Y.ERR_CANCELED,e,n),this.name="CanceledError"}x.inherits(nl,Y,{__CANCEL__:!0});function KN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const GN=fn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),x.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),x.isString(i)&&l.push("path="+i),x.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function QN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XN(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function cT(t,e){return t&&!QN(e)?XN(t,e):e}const YN=fn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=x.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function JN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZN(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let h=i,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(d*1e3/f):void 0}}function z0(t,e){let n=0;const r=ZN(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:s};c[e?"download":"upload"]=!0,t(c)}}const eD=typeof XMLHttpRequest<"u",tD=eD&&function(t){return new Promise(function(n,r){let s=t.data;const i=zn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}x.isFormData(s)&&(fn.isStandardBrowserEnv||fn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(f+":"+p))}const c=cT(t.baseURL,t.url);u.open(t.method.toUpperCase(),oT(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const f=zn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};KN(function(v){n(v),l()},function(v){r(v),l()},w),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(r(new Y("Request aborted",Y.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Y("Network Error",Y.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||aT;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Y(p,w.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,t,u)),u=null},fn.isStandardBrowserEnv){const f=(t.withCredentials||YN(c))&&t.xsrfCookieName&&GN.read(t.xsrfCookieName);f&&i.set(t.xsrfHeaderName,f)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&x.forEach(i.toJSON(),function(p,w){u.setRequestHeader(w,p)}),x.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",z0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",z0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{u&&(r(!f||f.type?new nl(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=JN(c);if(d&&fn.protocols.indexOf(d)===-1){r(new Y("Unsupported protocol "+d+":",Y.ERR_BAD_REQUEST,t));return}u.send(s||null)})},Iu={http:IN,xhr:tD};x.forEach(Iu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nD={getAdapter:t=>{t=x.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=x.isString(n)?Iu[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Y(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(x.hasOwnProp(Iu,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!x.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Iu};function Fd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nl(null,t)}function H0(t){return Fd(t),t.headers=zn.from(t.headers),t.data=Ud.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nD.getAdapter(t.adapter||Ig.adapter)(t).then(function(r){return Fd(t),r.data=Ud.call(t,t.transformResponse,r),r.headers=zn.from(r.headers),r},function(r){return uT(r)||(Fd(t),r&&r.response&&(r.response.data=Ud.call(t,t.transformResponse,r.response),r.response.headers=zn.from(r.response.headers))),Promise.reject(r)})}const W0=t=>t instanceof zn?t.toJSON():t;function Ui(t,e){e=e||{};const n={};function r(u,c,h){return x.isPlainObject(u)&&x.isPlainObject(c)?x.merge.call({caseless:h},u,c):x.isPlainObject(c)?x.merge({},c):x.isArray(c)?c.slice():c}function s(u,c,h){if(x.isUndefined(c)){if(!x.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function i(u,c){if(!x.isUndefined(c))return r(void 0,c)}function o(u,c){if(x.isUndefined(c)){if(!x.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(W0(u),W0(c),!0)};return x.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||s,d=h(t[c],e[c],c);x.isUndefined(d)&&h!==a||(n[c]=d)}),n}const hT="1.4.0",kg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{kg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const q0={};kg.transitional=function(e,n,r){function s(i,o){return"[Axios v"+hT+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Y(s(o," has been removed"+(n?" in "+n:"")),Y.ERR_DEPRECATED);return n&&!q0[o]&&(q0[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function rD(t,e,n){if(typeof t!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Y("option "+i+" must be "+l,Y.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}}const xp={assertOptions:rD,validators:kg},ir=xp.validators;class cc{constructor(e){this.defaults=e,this.interceptors={request:new V0,response:new V0}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ui(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&xp.assertOptions(r,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),s!=null&&(x.isFunction(s)?n.paramsSerializer={serialize:s}:xp.assertOptions(s,{encode:ir.function,serialize:ir.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&x.merge(i.common,i[n.method]),o&&x.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=zn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,h=0,d;if(!l){const p=[H0.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),d=p.length,c=Promise.resolve(n);h<d;)c=c.then(p[h++],p[h++]);return c}d=a.length;let f=n;for(h=0;h<d;){const p=a[h++],w=a[h++];try{f=p(f)}catch(S){w.call(this,S);break}}try{c=H0.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Ui(this.defaults,e);const n=cT(e.baseURL,e.url);return oT(n,e.params,e.paramsSerializer)}}x.forEach(["delete","get","head","options"],function(e){cc.prototype[e]=function(n,r){return this.request(Ui(r||{},{method:e,url:n,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Ui(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cc.prototype[e]=n(),cc.prototype[e+"Form"]=n(!0)});const ku=cc;class Rg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new nl(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Rg(function(s){e=s}),cancel:e}}}const sD=Rg;function iD(t){return function(n){return t.apply(null,n)}}function oD(t){return x.isObject(t)&&t.isAxiosError===!0}const Ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ip).forEach(([t,e])=>{Ip[e]=t});const aD=Ip;function dT(t){const e=new ku(t),n=GS(ku.prototype.request,e);return x.extend(n,ku.prototype,e,{allOwnKeys:!0}),x.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dT(Ui(t,s))},n}const Fe=dT(Ig);Fe.Axios=ku;Fe.CanceledError=nl;Fe.CancelToken=sD;Fe.isCancel=uT;Fe.VERSION=hT;Fe.toFormData=hh;Fe.AxiosError=Y;Fe.Cancel=Fe.CanceledError;Fe.all=function(e){return Promise.all(e)};Fe.spread=iD;Fe.isAxiosError=oD;Fe.mergeConfig=Ui;Fe.AxiosHeaders=zn;Fe.formToJSON=t=>lT(x.isHTMLForm(t)?new FormData(t):t);Fe.HttpStatusCode=aD;Fe.default=Fe;const Nr=Fe;class Ag{constructor(e,n,r){this.posterUrl=n.poster_path?e+n.poster_path:"/projects/films_base/assets/images/no-poster.jpg",this.title=n.title?n.title:n.name,this.id=n.id,this.mediaType=r}}const K0="https://api.themoviedb.org/3",G0="api_key=582f9e2d6f3a1dc803b350bf76f168f2",lD="https://image.tmdb.org/t/p/w300",uD=(t,e,n,r,s,i,o,a)=>{const[l,u]=E.useState(!0),[c,h]=E.useState({show:!1,message:""}),d=E.useCallback(async(f,p,w,S,v,g)=>{u(!0),h({show:!1,message:""});try{let y;if(o==="home"?y=await Nr(`${K0}/${f}/${w}?${G0}&page=${v}&language=${p}&with_genres=${S}`):o==="search"&&(y=await Nr(`${K0}/search/${f}?${G0}&query=${g}&page=${v}&language=${p}`)),y.data.total_results===0)throw new Error(p==="ru"?" ,   ":"No matching results");const _=[],T=[];if(y.data.results.forEach(k=>{_.push(new Ag(lD,k,f)),v===1&&T.push(k.id)}),v===1){const k=y.data.total_pages>500?500:y.data.total_pages;a({type:"INITIAL_LOAD_MOVIES",payload:[_,T,k]})}else a({type:"APPEND_MOVIES",payload:[_,T]});u(!1)}catch(y){h({show:!0,message:y.message}),u(!1)}},[a,o]);return E.useEffect(()=>{d(t,e,n,r,s,i)},[t,e,n,r,s,d,i]),{isLoading:l,error:c}},cD=()=>{const t=localStorage.getItem("FBlang");return console.log(t),t||(navigator.language.split("-")[0]==="ru"?"ru":"en")},hD={lang:cD(),mediaType:"movie",filterList:"top_rated",filterGenre:"all",page:1,totalPages:0,moviesList:[],uniqueIds:[],moviesListMode:"home",searchQuery:""},fT=E.createContext(),dD=({children:t})=>{const e="/projects/films_base/",[n,r]=E.useState(""),[s,i]=E.useReducer(WP,hD),{isLoading:o,error:a}=uD(s.mediaType,s.lang,s.filterList,s.filterGenre,s.page,s.searchQuery,s.moviesListMode,i),{lang:l,mediaType:u,filterList:c,filterGenre:h,page:d,moviesList:f,totalPages:p,searchQuery:w,moviesListMode:S}=s;return m.jsx(fT.Provider,{value:{baseName:e,lang:l,moviesFetchError:a,moviesFetchLoading:o,mediaType:u,filterList:c,filterGenre:h,page:d,totalPages:p,searchQuery:w,moviesListMode:S,dispatch:i,moviesList:f,currentTitle:n,setCurrentTitle:r},children:t})},Ee=()=>E.useContext(fT);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new pD;const d=i<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mD=function(t){const e=pT(t);return mT.encodeByteArray(e,!0)},hc=function(t){return mD(t).replace(/\./g,"")},gT=function(t){try{return mT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=()=>gD().__FIREBASE_DEFAULTS__,vD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gT(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return yD()||vD()||wD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vT=t=>{const e=yT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wT=()=>{var t;return(t=ph())===null||t===void 0?void 0:t.config},ET=t=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hc(JSON.stringify(n)),hc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function SD(){var t;const e=(t=ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xD(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ID(){try{return typeof indexedDB=="object"}catch{return!1}}function kD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RD,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?AD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function AD(t,e){return t.replace(PD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PD=/\{\$([^}]+)}/g;function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Q0(i)&&Q0(o)){if(!dc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Q0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DD(t,e){const n=new LD(t,e);return n.subscribe.bind(n)}class LD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jd),s.error===void 0&&(s.error=jd),s.complete===void 0&&(s.complete=jd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ED;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($D(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(t){return t===os?void 0:t}function $D(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Z||(Z={}));const FD={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},jD=Z.INFO,VD={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},BD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=jD,this._logHandler=BD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const zD=(t,e)=>e.some(n=>t instanceof n);let X0,Y0;function HD(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WD(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,kp=new WeakMap,TT=new WeakMap,Vd=new WeakMap,Ng=new WeakMap;function qD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Dr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function KD(t){if(kp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kp.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){Rp=t(Rp)}function QD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bd(this),e,...n);return TT.set(r,e.sort?e.sort():[e]),Dr(r)}:WD().includes(t)?function(...e){return t.apply(Bd(this),e),Dr(ST.get(this))}:function(...e){return Dr(t.apply(Bd(this),e))}}function XD(t){return typeof t=="function"?QD(t):(t instanceof IDBTransaction&&KD(t),zD(t,HD())?new Proxy(t,Rp):t)}function Dr(t){if(t instanceof IDBRequest)return qD(t);if(Vd.has(t))return Vd.get(t);const e=XD(t);return e!==t&&(Vd.set(t,e),Ng.set(e,t)),e}const Bd=t=>Ng.get(t);function YD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Dr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dr(o.result),l.oldVersion,l.newVersion,Dr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const JD=["get","getKey","getAll","getAllKeys","count"],ZD=["put","add","delete","clear"],zd=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ZD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return zd.set(e,i),i}GD(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",Z0="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Pg("@firebase/app"),nL="@firebase/app-compat",rL="@firebase/analytics-compat",sL="@firebase/analytics",iL="@firebase/app-check-compat",oL="@firebase/app-check",aL="@firebase/auth",lL="@firebase/auth-compat",uL="@firebase/database",cL="@firebase/database-compat",hL="@firebase/functions",dL="@firebase/functions-compat",fL="@firebase/installations",pL="@firebase/installations-compat",mL="@firebase/messaging",gL="@firebase/messaging-compat",yL="@firebase/performance",vL="@firebase/performance-compat",wL="@firebase/remote-config",EL="@firebase/remote-config-compat",_L="@firebase/storage",SL="@firebase/storage-compat",TL="@firebase/firestore",CL="@firebase/firestore-compat",xL="firebase",IL="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",kL={[Ap]:"fire-core",[nL]:"fire-core-compat",[sL]:"fire-analytics",[rL]:"fire-analytics-compat",[oL]:"fire-app-check",[iL]:"fire-app-check-compat",[aL]:"fire-auth",[lL]:"fire-auth-compat",[uL]:"fire-rtdb",[cL]:"fire-rtdb-compat",[hL]:"fire-fn",[dL]:"fire-fn-compat",[fL]:"fire-iid",[pL]:"fire-iid-compat",[mL]:"fire-fcm",[gL]:"fire-fcm-compat",[yL]:"fire-perf",[vL]:"fire-perf-compat",[wL]:"fire-rc",[EL]:"fire-rc-compat",[_L]:"fire-gcs",[SL]:"fire-gcs-compat",[TL]:"fire-fst",[CL]:"fire-fst-compat","fire-js":"fire-js",[xL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,Np=new Map;function RL(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rs(t){const e=t.name;if(Np.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of fc.values())RL(n,t);return!0}function mh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lr=new rl("app","Firebase",AL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=IL;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=wT()),!n)throw Lr.create("no-options");const i=fc.get(s);if(i){if(dc(n,i.options)&&dc(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new UD(s);for(const l of Np.values())o.addComponent(l);const a=new PL(n,r,o);return fc.set(s,a),a}function Dg(t=Pp){const e=fc.get(t);if(!e&&t===Pp&&wT())return CT();if(!e)throw Lr.create("no-app",{appName:t});return e}function wn(t,e,n){var r;let s=(r=kL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(a.join(" "));return}Rs(new Fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebase-heartbeat-database",DL=1,ka="firebase-heartbeat-store";let Hd=null;function xT(){return Hd||(Hd=YD(NL,DL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Hd}async function LL(t){try{return await(await xT()).transaction(ka).objectStore(ka).get(IT(t))}catch(e){if(e instanceof Pn)ks.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(n.message)}}}async function e1(t,e){try{const r=(await xT()).transaction(ka,"readwrite");await r.objectStore(ka).put(e,IT(t)),await r.done}catch(n){if(n instanceof Pn)ks.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ks.warn(r.message)}}}function IT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=1024,bL=30*24*60*60*1e3;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=bL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t1(),{heartbeatsToSend:n,unsentEntries:r}=$L(this._heartbeatsCache.heartbeats),s=hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function t1(){return new Date().toISOString().substring(0,10)}function $L(t,e=OL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),n1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),n1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ID()?kD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n1(t){return hc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){Rs(new Fr("platform-logger",e=>new eL(e),"PRIVATE")),Rs(new Fr("heartbeat",e=>new ML(e),"PRIVATE")),wn(Ap,Z0,t),wn(Ap,Z0,"esm2017"),wn("fire-js","")}FL("");var jL="firebase",VL="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn(jL,VL,"app");function Lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BL=kT,RT=new rl("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Pg("@firebase/auth");function zL(t,...e){pc.logLevel<=Z.WARN&&pc.warn(`Auth (${Us}): ${t}`,...e)}function Ru(t,...e){pc.logLevel<=Z.ERROR&&pc.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,...e){throw Og(t,...e)}function En(t,...e){return Og(t,...e)}function AT(t,e,n){const r=Object.assign(Object.assign({},BL()),{[e]:n});return new rl("auth","Firebase",r).create(e,{appName:t.name})}function HL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qt(t,"argument-error"),AT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Og(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RT.create(t,...e)}function j(t,e,...n){if(!t)throw Og(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ru(e),new Error(e)}function Yn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WL(){return r1()==="http:"||r1()==="https:"}function r1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WL()||TD()||"connection"in navigator)?navigator.onLine:!0}function KL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yn(n>e,"Short delay should be less than long delay!"),this.isMobile=_D()||CD()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){Yn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new il(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,n,r,s={}){return NT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=sl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),PT.fetch()(DT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function NT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GL),e);try{const s=new XL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AT(t,c,u);Qt(t,c)}}catch(s){if(s instanceof Pn)throw s;Qt(t,"network-request-failed",{message:String(s)})}}async function ol(t,e,n,r,s={}){const i=await Fs(t,e,n,r,s);return"mfaPendingCredential"in i&&Qt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function DT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?bg(t.config,s):`${t.config.apiScheme}://${s}`}class XL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),QL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=En(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function JL(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=Ce(t),r=await n.getIdToken(e),s=Mg(r);j(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xo(Wd(s.auth_time)),issuedAtTime:Xo(Wd(s.iat)),expirationTime:Xo(Wd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wd(t){return Number(t)*1e3}function Mg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const s=gT(n);return s?JSON.parse(s):(Ru("Failed to decode base64 JWT payload"),null)}catch(s){return Ru("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eO(t){const e=Mg(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&tO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fi(t,JL(n,{idToken:r}));j(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?iO(i.providerUserInfo):[],a=sO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new LT(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function rO(t){const e=Ce(t);await mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iO(t){return t.map(e=>{var{providerId:n}=e,r=Lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e){const n=await NT(t,{},async()=>{const r=sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=DT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await oO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ra;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(j(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(j(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new LT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fi(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return rO(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Fi(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:T,providerData:k,stsTokenManager:I}=n;j(y&&I,e,"internal-error");const C=Ra.fromJSON(this.name,I);j(typeof y=="string",e,"internal-error"),or(h,e.name),or(d,e.name),j(typeof _=="boolean",e,"internal-error"),j(typeof T=="boolean",e,"internal-error"),or(f,e.name),or(p,e.name),or(w,e.name),or(S,e.name),or(v,e.name),or(g,e.name);const O=new ws({uid:y,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:T,photoURL:p,phoneNumber:f,tenantId:w,stsTokenManager:C,createdAt:v,lastLoginAt:g});return k&&Array.isArray(k)&&(O.providerData=k.map($=>Object.assign({},$))),S&&(O._redirectEventId=S),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ra;s.updateFromServerResponse(n);const i=new ws({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function Fn(t){Yn(t instanceof Function,"Expected a class definition");let e=s1.get(t);return e?(Yn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OT.type="NONE";const i1=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){return`firebase:${t}:${e}:${n}`}class Ci{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Au(this.userKey,s.apiKey,i),this.fullPersistenceKey=Au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ci(Fn(i1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Fn(i1);const o=Au(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ws._fromJSON(e,c);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ci(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ci(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(jT(e))return"Webos";if($g(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bT(t=lt()){return/firefox\//i.test(t)}function $g(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(t=lt()){return/crios\//i.test(t)}function $T(t=lt()){return/iemobile/i.test(t)}function UT(t=lt()){return/android/i.test(t)}function FT(t=lt()){return/blackberry/i.test(t)}function jT(t=lt()){return/webos/i.test(t)}function gh(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aO(t=lt()){var e;return gh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lO(){return xD()&&document.documentMode===10}function VT(t=lt()){return gh(t)||UT(t)||jT(t)||FT(t)||/windows phone/i.test(t)||$T(t)}function uO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e=[]){let n;switch(t){case"Browser":n=o1(lt());break;case"Worker":n=`${o1(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${r}`}async function zT(t,e){return Fs(t,"GET","/v2/recaptchaConfig",so(t,e))}function a1(t){return t!==void 0&&t.enterprise!==void 0}class HT{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function WT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=En("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",cO().appendChild(r)})}function hO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dO="https://www.google.com/recaptcha/enterprise.js?render=",fO="recaptcha-enterprise",pO="NO_RECAPTCHA";class qT{constructor(e){this.type=fO,this.auth=js(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{zT(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new HT(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;a1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(pO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&a1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}WT(dO+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function gc(t,e,n,r=!1){const s=new qT(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l1(this),this.idTokenSubscription=new l1(this),this.beforeStateQueue=new mO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ci.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ce(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}async initializeRecaptchaConfig(){const e=await zT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new HT(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new qT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Ci.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return Ce(t)}class l1{constructor(e){this.auth=e,this.observer=null,this.addObserver=DD(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){const n=mh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(dc(i,e??{}))return s;Qt(s,"already-initialized")}return n.initialize({options:e})}function vO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wO(t,e,n){const r=js(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=KT(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||_O()}function KT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=KT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u1(o)}}}function u1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _O(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function SO(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t,e){return ol(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function CO(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Ug{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await gc(e,r,"signInWithPassword");return qd(e,s)}else return qd(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await gc(e,r,"signInWithPassword");return qd(e,i)}else return Promise.reject(s)});case"emailLink":return TO(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return SO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return CO(e,{idToken:n,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e){return ol(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="http://localhost";class As extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Lg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new As(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xi(e,n)}buildRequest(){const e={requestUri:xO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kO(t){const e=Lo(Oo(t)).link,n=e?Lo(Oo(e)).deep_link_id:null,r=Lo(Oo(t)).deep_link_id;return(r?Lo(Oo(r)).link:null)||r||n||e||t}class Fg{constructor(e){var n,r,s,i,o,a;const l=Lo(Oo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=IO((s=l.mode)!==null&&s!==void 0?s:null);j(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kO(e);try{return new Fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fg.parseLink(n);return j(r,"argument-error"),Aa._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends al{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bn.credential(n,r)}catch{return null}}}bn.GOOGLE_SIGN_IN_METHOD="google.com";bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends al{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends al{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t,e){return ol(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ws._fromIdTokenResponse(e,r,s),o=c1(r);return new Ps({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=c1(r);return new Ps({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function c1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Pn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yc(e,n,r,s)}}function GT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(t,i,e,r):i})}async function RO(t,e,n=!1){const r=await Fi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Fi(t,GT(r,s,e,t),n);j(i.idToken,r,"internal-error");const o=Mg(i.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),Ps._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(t,e,n=!1){const r="signIn",s=await GT(t,r,e),i=await Ps._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function PO(t,e){return QT(js(t),e)}async function NO(t,e,n){var r;const s=js(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await gc(s,i,"signUpPassword");o=Kd(s,u)}else o=Kd(s,i).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await gc(s,i,"signUpPassword");return Kd(s,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Ps._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function DO(t,e,n){return PO(Ce(t),io.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ce(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fi(r,LO(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function OO(t,e,n,r){return Ce(t).onIdTokenChanged(e,n,r)}function bO(t,e,n){return Ce(t).beforeAuthStateChanged(e,n)}function MO(t,e,n,r){return Ce(t).onAuthStateChanged(e,n,r)}function $O(t){return Ce(t).signOut()}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){const t=lt();return $g(t)||gh(t)}const FO=1e3,jO=10;class YT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=UO()&&uO(),this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);lO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YT.type="LOCAL";const VO=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const ZT=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await BO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Bg("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function HO(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function WO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KO(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebaseLocalStorageDb",GO=1,wc="firebaseLocalStorage",nC="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(t,e){return t.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function QO(){const t=indexedDB.deleteDatabase(tC);return new ll(t).toPromise()}function Lp(){const t=indexedDB.open(tC,GO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wc,{keyPath:nC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wc)?e(r):(r.close(),await QO(),e(await Lp()))})})}async function h1(t,e,n){const r=vh(t,!0).put({[nC]:e,value:n});return new ll(r).toPromise()}async function XO(t,e){const n=vh(t,!1).get(e),r=await new ll(n).toPromise();return r===void 0?null:r.value}function d1(t,e){const n=vh(t,!0).delete(e);return new ll(n).toPromise()}const YO=800,JO=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(KO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WO(),!this.activeServiceWorker)return;this.sender=new zO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await h1(e,vc,"1"),await d1(e,vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vh(s,!1).getAll();return new ll(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const ZO=rC;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e){return e?Fn(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eb(t){return QT(t.auth,new zg(t),t.bypassAuthState)}function tb(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),AO(n,new zg(t),t.bypassAuthState)}async function nb(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),RO(n,new zg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eb;case"linkViaPopup":case"linkViaRedirect":return nb;case"reauthViaPopup":case"reauthViaRedirect":return tb;default:Qt(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new il(2e3,1e4);async function sb(t,e,n){const r=js(t);HL(t,e,jg);const s=sC(r,n);return new ds(r,"signInViaPopup",e,s).executeNotNull()}class ds extends iC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rb.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="pendingRedirect",Pu=new Map;class ob extends iC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await ab(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ab(t,e){const n=cb(e),r=ub(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function lb(t,e){Pu.set(t._key(),e)}function ub(t){return Fn(t._redirectPersistence)}function cb(t){return Au(ib,t.config.apiKey,t.name)}async function hb(t,e,n=!1){const r=js(t),s=sC(r,e),o=await new ob(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=10*60*1e3;class fb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(En(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=db&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yb=/^https?/;async function vb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mb(t);for(const n of e)try{if(wb(n))return}catch{}Qt(t,"unauthorized-domain")}function wb(t){const e=Dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yb.test(n))return!1;if(gb.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new il(3e4,6e4);function p1(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _b(t){return new Promise((e,n)=>{var r,s,i;function o(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(En(t,"network-request-failed"))},timeout:Eb.get()})}if(!((s=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=_n().gapi)===null||i===void 0)&&i.load)o();else{const a=hO("iframefcb");return _n()[a]=()=>{gapi.load?o():n(En(t,"network-request-failed"))},WT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function Sb(t){return Nu=Nu||_b(t),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new il(5e3,15e3),Cb="__/auth/iframe",xb="emulator/auth/iframe",Ib={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rb(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bg(e,xb):`https://${t.config.authDomain}/${Cb}`,r={apiKey:e.apiKey,appName:t.name,v:Us},s=kb.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sl(r).slice(1)}`}async function Ab(t){const e=await Sb(t),n=_n().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:Rb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ib,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),a=_n().setTimeout(()=>{i(o)},Tb.get());function l(){_n().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nb=500,Db=600,Lb="_blank",Ob="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bb(t,e,n,r=Nb,s=Db){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Pb),{width:r.toString(),height:s.toString(),top:i,left:o}),u=lt().toLowerCase();n&&(a=MT(u)?Lb:n),bT(u)&&(e=e||Ob,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(aO(u)&&a!=="_self")return Mb(e||"",a),new m1(null);const h=window.open(e||"",a,c);j(h,t,"popup-blocked");try{h.focus()}catch{}return new m1(h)}function Mb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__/auth/handler",Ub="emulator/auth/handler",Fb=encodeURIComponent("fac");async function g1(t,e,n,r,s,i){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Us,eventId:s};if(e instanceof jg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ND(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(i||{}))o[c]=h}if(e instanceof al){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Fb}=${encodeURIComponent(l)}`:"";return`${jb(t)}?${sl(a).slice(1)}${u}`}function jb({config:t}){return t.emulator?bg(t,Ub):`https://${t.authDomain}/${$b}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class Vb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=hb,this._overrideRedirectResult=lb}async _openPopup(e,n,r,s){var i;Yn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await g1(e,n,r,Dp(),s);return bb(e,o,Bg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g1(e,n,r,Dp(),s);return HO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ab(e),r=new fb(e);return n.register("authEvent",s=>(j(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Gd];o!==void 0&&n(!!o),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VT()||$g()||gh()}}const Bb=Vb;var y1="@firebase/auth",v1="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Wb(t){Rs(new Fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(t)},u=new gO(r,s,i,l);return vO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rs(new Fr("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(r=>new zb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wn(y1,v1,Hb(t)),wn(y1,v1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=5*60,Kb=ET("authIdTokenMaxAge")||qb;let w1=null;const Gb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kb)return;const s=n==null?void 0:n.token;w1!==s&&(w1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Qb(t=Dg()){const e=mh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yO(t,{popupRedirectResolver:Bb,persistence:[ZO,VO,ZT]}),r=ET("authTokenSyncURL");if(r){const i=Gb(r);bO(n,i,()=>i(n.currentUser)),OO(n,o=>i(o))}const s=yT("auth");return s&&wO(n,`http://${s}`),n}Wb("Browser");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Hg=Hg||{},B=Xb||self;function wh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ul(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Yb(t){return Object.prototype.hasOwnProperty.call(t,Qd)&&t[Qd]||(t[Qd]=++Jb)}var Qd="closure_uid_"+(1e9*Math.random()>>>0),Jb=0;function Zb(t,e,n){return t.call.apply(t.bind,arguments)}function eM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function st(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?st=Zb:st=eM,st.apply(null,arguments)}function Jl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function He(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Gr(){this.s=this.s,this.o=this.o}var tM=0;Gr.prototype.s=!1;Gr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tM!=0)&&Yb(this)};Gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function E1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var nM=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",()=>{},e),B.removeEventListener("test",()=>{},e)}catch{}return t}();function Pa(t){return/^[\s\xa0]*$/.test(t)}function Eh(){var t=B.navigator;return t&&(t=t.userAgent)?t:""}function dn(t){return Eh().indexOf(t)!=-1}function qg(t){return qg[" "](t),t}qg[" "]=function(){};function rM(t,e){var n=QM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var sM=dn("Opera"),ji=dn("Trident")||dn("MSIE"),lC=dn("Edge"),Op=lC||ji,uC=dn("Gecko")&&!(Eh().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge"))&&!(dn("Trident")||dn("MSIE"))&&!dn("Edge"),iM=Eh().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge");function cC(){var t=B.document;return t?t.documentMode:void 0}var bp;e:{var Xd="",Yd=function(){var t=Eh();if(uC)return/rv:([^\);]+)(\)|;)/.exec(t);if(lC)return/Edge\/([\d\.]+)/.exec(t);if(ji)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iM)return/WebKit\/(\S+)/.exec(t);if(sM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yd&&(Xd=Yd?Yd[1]:""),ji){var Jd=cC();if(Jd!=null&&Jd>parseFloat(Xd)){bp=String(Jd);break e}}bp=Xd}var Mp;if(B.document&&ji){var _1=cC();Mp=_1||parseInt(bp,10)||void 0}else Mp=void 0;var oM=Mp;function Na(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uC){e:{try{qg(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.$.h.call(this)}}He(Na,it);var aM={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),lM=0;function uM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++lM,this.fa=this.ia=!1}function _h(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Kg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hC(t){const e={};for(const n in t)e[n]=t[n];return e}const S1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<S1.length;i++)n=S1[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sh(t){this.src=t,this.g={},this.h=0}Sh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Up(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uM(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function $p(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=aC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(_h(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Up(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Gg="closure_lm_"+(1e6*Math.random()|0),Zd={};function fC(t,e,n,r,s){if(r&&r.once)return mC(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)fC(t,e[i],n,r,s);return null}return n=Yg(n),t&&t[cl]?t.O(e,n,ul(r)?!!r.capture:!!r,s):pC(t,e,n,!1,r,s)}function pC(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ul(s)?!!s.capture:!!s,a=Xg(t);if(a||(t[Gg]=a=new Sh(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=hM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nM||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(yC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hM(){function t(n){return e.call(t.src,t.listener,n)}const e=dM;return t}function mC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)mC(t,e[i],n,r,s);return null}return n=Yg(n),t&&t[cl]?t.P(e,n,ul(r)?!!r.capture:!!r,s):pC(t,e,n,!0,r,s)}function gC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)gC(t,e[i],n,r,s);else r=ul(r)?!!r.capture:!!r,n=Yg(n),t&&t[cl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Up(i,n,r,s),-1<n&&(_h(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Xg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Up(e,n,r,s)),(n=-1<t?e[t]:null)&&Qg(n))}function Qg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cl])$p(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xg(e))?($p(n,t),n.h==0&&(n.src=null,e[Gg]=null)):_h(t)}}}function yC(t){return t in Zd?Zd[t]:Zd[t]="on"+t}function dM(t,e){if(t.fa)t=!0;else{e=new Na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qg(t),t=n.call(r,e)}return t}function Xg(t){return t=t[Gg],t instanceof Sh?t:null}var ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yg(t){return typeof t=="function"?t:(t[ef]||(t[ef]=function(e){return t.handleEvent(e)}),t[ef])}function ze(){Gr.call(this),this.i=new Sh(this),this.S=this,this.J=null}He(ze,Gr);ze.prototype[cl]=!0;ze.prototype.removeEventListener=function(t,e,n,r){gC(this,t,e,n,r)};function Qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var s=e;e=new it(r,t),dC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Zl(o,r,!0,e)&&s}if(o=e.g=t,s=Zl(o,r,!0,e)&&s,s=Zl(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Zl(o,r,!1,e)&&s}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_h(n[r]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Zl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$p(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Jg=B.JSON.stringify;class fM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function pM(){var t=Zg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mM{constructor(){this.h=this.g=null}add(e,n){const r=vC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vC=new fM(()=>new gM,t=>t.reset());class gM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vM(t){B.setTimeout(()=>{throw t},0)}let Da,La=!1,Zg=new mM,wC=()=>{const t=B.Promise.resolve(void 0);Da=()=>{t.then(wM)}};var wM=()=>{for(var t;t=pM();){try{t.h.call(t.g)}catch(n){vM(n)}var e=vC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}La=!1};function Th(t,e){ze.call(this),this.h=t||1,this.g=e||B,this.j=st(this.qb,this),this.l=Date.now()}He(Th,ze);N=Th.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qe(this,"tick"),this.ga&&(ey(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ey(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Th.$.N.call(this),ey(this),delete this.g};function ty(t,e,n){if(typeof t=="function")n&&(t=st(t,n));else if(t&&typeof t.handleEvent=="function")t=st(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function EC(t){t.g=ty(()=>{t.g=null,t.i&&(t.i=!1,EC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EM extends Gr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EC(this)}N(){super.N(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(t){Gr.call(this),this.h=t,this.g={}}He(Oa,Gr);var T1=[];function _C(t,e,n,r){Array.isArray(n)||(n&&(T1[0]=n.toString()),n=T1);for(var s=0;s<n.length;s++){var i=fC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function SC(t){Kg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qg(e)},t),t.g={}}Oa.prototype.N=function(){Oa.$.N.call(this),SC(this)};Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ch(){this.g=!0}Ch.prototype.Ea=function(){this.g=!1};function _M(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function SM(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function di(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CM(t,n)+(r?" "+r:"")})}function TM(t,e){t.info(function(){return"TIMEOUT: "+e})}Ch.prototype.info=function(){};function CM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Jg(n)}catch{return e}}var Vs={},C1=null;function xh(){return C1=C1||new ze}Vs.Ta="serverreachability";function TC(t){it.call(this,Vs.Ta,t)}He(TC,it);function ba(t){const e=xh();Qe(e,new TC(e))}Vs.STAT_EVENT="statevent";function CC(t,e){it.call(this,Vs.STAT_EVENT,t),this.stat=e}He(CC,it);function ft(t){const e=xh();Qe(e,new CC(e,t))}Vs.Ua="timingevent";function xC(t,e){it.call(this,Vs.Ua,t),this.size=e}He(xC,it);function hl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}var Ih={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},IC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ny(){}ny.prototype.h=null;function x1(t){return t.h||(t.h=t.i())}function kC(){}var dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ry(){it.call(this,"d")}He(ry,it);function sy(){it.call(this,"c")}He(sy,it);var Fp;function kh(){}He(kh,ny);kh.prototype.g=function(){return new XMLHttpRequest};kh.prototype.i=function(){return{}};Fp=new kh;function fl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oa(this),this.P=xM,t=Op?125:void 0,this.V=new Th(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RC}function RC(){this.i=null,this.g="",this.h=!1}var xM=45e3,jp={},Ec={};N=fl.prototype;N.setTimeout=function(t){this.P=t};function Vp(t,e,n){t.L=1,t.v=Ah(Jn(e)),t.s=n,t.S=!0,AC(t,null)}function AC(t,e){t.G=Date.now(),pl(t),t.A=Jn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$C(n.i,"t",r),t.C=0,n=t.l.J,t.h=new RC,t.g=s2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new EM(st(t.Pa,t,t.g),t.O)),_C(t.U,t.g,"readystatechange",t.nb),e=t.I?hC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ba(),_M(t.j,t.u,t.A,t.m,t.W,t.s)}N.nb=function(t){t=t.target;const e=this.M;e&&pn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const c=pn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Op||this.g&&(this.h.h||this.g.ja()||A1(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?ba(3):ba(2)),Rh(this);var n=this.g.da();this.ca=n;t:if(PC(this)){var r=A1(this.g);t="";var s=r.length,i=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Yo(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,SM(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pa(a)){var u=a;break t}}u=null}if(n=u)di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bp(this,n);else{this.i=!1,this.o=3,ft(12),fs(this),Yo(this);break e}}this.S?(NC(this,c,o),Op&&this.i&&c==3&&(_C(this.U,this.V,"tick",this.mb),this.V.start())):(di(this.j,this.m,o,null),Bp(this,o)),c==4&&fs(this),this.i&&!this.J&&(c==4?e2(this.l,this):(this.i=!1,pl(this)))}else qM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),fs(this),Yo(this)}}}catch{}finally{}};function PC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function NC(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=IM(t,n),s==Ec){e==4&&(t.o=4,ft(14),r=!1),di(t.j,t.m,null,"[Incomplete Response]");break}else if(s==jp){t.o=4,ft(15),di(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else di(t.j,t.m,s,null),Bp(t,s);PC(t)&&s!=Ec&&s!=jp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(e),e.M=!0,ft(11))):(di(t.j,t.m,n,"[Invalid Chunked Response]"),fs(t),Yo(t))}N.mb=function(){if(this.g){var t=pn(this.g),e=this.g.ja();this.C<e.length&&(Rh(this),NC(this,t,e),this.i&&t!=4&&pl(this))}};function IM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ec:(n=Number(e.substring(n,r)),isNaN(n)?jp:(r+=1,r+n>e.length?Ec:(e=e.slice(r,r+n),t.C=r+n,e)))}N.cancel=function(){this.J=!0,fs(this)};function pl(t){t.Y=Date.now()+t.P,DC(t,t.P)}function DC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=hl(st(t.lb,t),e)}function Rh(t){t.B&&(B.clearTimeout(t.B),t.B=null)}N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(TM(this.j,this.A),this.L!=2&&(ba(),ft(17)),fs(this),this.o=2,Yo(this)):DC(this,this.Y-t)};function Yo(t){t.l.H==0||t.J||e2(t.l,t)}function fs(t){Rh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ey(t.V),SC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||zp(n.i,t))){if(!t.K&&zp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Tc(n),Dh(n);else break e;uy(n),ft(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=hl(st(n.ib,n),6e3));if(1>=jC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ps(n,11)}else if((t.K||n.g==t)&&Tc(n),!Pa(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(iy(i,i.h),i.h=null))}if(r.F){const w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,oe(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=r2(r,r.J?r.pa:null,r.Y),o.K){VC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Rh(a),pl(a)),r.g=o}else JC(r);0<n.j.length&&Lh(n)}else u[0]!="stop"&&u[0]!="close"||ps(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ps(n,7):ly(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ba(4)}catch{}}function kM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function LC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RM(t),r=kM(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var OC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Es(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=t.h,_c(this,t.j),this.s=t.s,this.g=t.g,Sc(this,t.m),this.l=t.l;var e=t.i,n=new Ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),I1(this,n),this.o=t.o}else t&&(e=String(t).match(OC))?(this.h=!1,_c(this,e[1]||"",!0),this.s=bo(e[2]||""),this.g=bo(e[3]||"",!0),Sc(this,e[4]),this.l=bo(e[5]||"",!0),I1(this,e[6]||"",!0),this.o=bo(e[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Mo(e,k1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Mo(e,k1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Mo(n,n.charAt(0)=="/"?DM:NM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Mo(n,OM)),t.join("")};function Jn(t){return new Es(t)}function _c(t,e,n){t.j=n?bo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function I1(t,e,n){e instanceof Ma?(t.i=e,bM(t.i,t.h)):(n||(e=Mo(e,LM)),t.i=new Ma(e,t.h))}function oe(t,e,n){t.i.set(e,n)}function Ah(t){return oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var k1=/[#\/\?@]/g,NM=/[#\?:]/g,DM=/[#\?]/g,LM=/[#\?@]/g,OM=/#/g;function Ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qr(t){t.g||(t.g=new Map,t.h=0,t.i&&AM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Ma.prototype;N.add=function(t,e){Qr(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function bC(t,e){Qr(t),e=oo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MC(t,e){return Qr(t),e=oo(t,e),t.g.has(e)}N.forEach=function(t,e){Qr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};N.ta=function(){Qr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};N.Z=function(t){Qr(this);let e=[];if(typeof t=="string")MC(this,t)&&(e=e.concat(this.g.get(oo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Qr(this),this.i=null,t=oo(this,t),MC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $C(t,e,n){bC(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),Wg(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bM(t,e){e&&!t.j&&(Qr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(bC(this,r),$C(this,s,n))},t)),t.j=e}var MM=class{constructor(t,e){this.g=t,this.map=e}};function UC(t){this.l=t||$M,B.PerformanceNavigationTiming?(t=B.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(B.g&&B.g.Ka&&B.g.Ka()&&B.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $M=10;function FC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function jC(t){return t.h?1:t.g?t.g.size:0}function zp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function iy(t,e){t.g?t.g.add(e):t.h=e}function VC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}UC.prototype.cancel=function(){if(this.i=BC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function BC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Wg(t.i)}var UM=class{stringify(t){return B.JSON.stringify(t,void 0)}parse(t){return B.JSON.parse(t,void 0)}};function FM(){this.g=new UM}function jM(t,e,n){const r=n||"";try{LC(t,function(s,i){let o=s;ul(s)&&(o=Jg(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function VM(t,e){const n=new Ch;if(B.Image){const r=new Image;r.onload=Jl(eu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jl(eu,n,r,"TestLoadImage: error",!1,e),r.onabort=Jl(eu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jl(eu,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function eu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ml(t){this.l=t.fc||null,this.j=t.ob||!1}He(ml,ny);ml.prototype.g=function(){return new Ph(this.l,this.j)};ml.prototype.i=function(t){return function(){return t}}({});function Ph(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He(Ph,ze);var oy=0;N=Ph.prototype;N.open=function(t,e){if(this.readyState!=oy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$a(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||B).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=oy};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof B.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gl(this):$a(this),this.readyState==3&&zC(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,gl(this))};N.Ya=function(t){this.g&&(this.response=t,gl(this))};N.ka=function(){this.g&&gl(this)};function gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$a(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $a(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BM=B.JSON.parse;function xe(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HC,this.L=this.M=!1}He(xe,ze);var HC="",zM=/^https?$/i,HM=["POST","PUT"];N=xe.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fp.g(),this.C=this.u?x1(this.u):x1(Fp),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){R1(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=B.FormData&&t instanceof B.FormData,!(0<=aC(HM,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KC(this),0<this.B&&((this.L=WM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=ty(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){R1(this,i)}};function WM(t){return ji&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Hg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function R1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WC(t),Nh(t)}function WC(t){t.F||(t.F=!0,Qe(t,"complete"),Qe(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),Nh(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),xe.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?qC(this):this.kb())};N.kb=function(){qC(this)};function qC(t){if(t.h&&typeof Hg<"u"&&(!t.C[1]||pn(t)!=4||t.da()!=2)){if(t.v&&pn(t)==4)ty(t.La,0,t);else if(Qe(t,"readystatechange"),pn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(OC)[1]||null;!s&&B.self&&B.self.location&&(s=B.self.location.protocol.slice(0,-1)),r=!zM.test(s?s.toLowerCase():"")}n=r}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var i=2<pn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",WC(t)}}finally{Nh(t)}}}}function Nh(t,e){if(t.g){KC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function KC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function pn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BM(e)}};function A1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qM(t){const e={};t=(t.g&&2<=pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Pa(t[r]))continue;var n=yM(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}cM(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GC(t){let e="";return Kg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ay(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):oe(t,e,n))}function Co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QC(t){this.Ga=0,this.j=[],this.l=new Ch,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Co("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Co("baseRetryDelayMs",5e3,t),this.hb=Co("retryDelaySeedMs",1e4,t),this.eb=Co("forwardChannelMaxRetries",2,t),this.xa=Co("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new UC(t&&t.concurrentRequestLimit),this.Ja=new FM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=QC.prototype;N.ra=8;N.H=1;function ly(t){if(XC(t),t.H==3){var e=t.W++,n=Jn(t.I);if(oe(n,"SID",t.K),oe(n,"RID",e),oe(n,"TYPE","terminate"),yl(t,n),e=new fl(t,t.l,e),e.L=2,e.v=Ah(Jn(n)),n=!1,B.navigator&&B.navigator.sendBeacon)try{n=B.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&B.Image&&(new Image().src=e.v,n=!0),n||(e.g=s2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pl(e)}n2(t)}function Dh(t){t.g&&(cy(t),t.g.cancel(),t.g=null)}function XC(t){Dh(t),t.u&&(B.clearTimeout(t.u),t.u=null),Tc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&B.clearTimeout(t.m),t.m=null)}function Lh(t){if(!FC(t.i)&&!t.m){t.m=!0;var e=t.Na;Da||wC(),La||(Da(),La=!0),Zg.add(e,t),t.C=0}}function KM(t,e){return jC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=hl(st(t.Na,t,e),t2(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new fl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=hC(i),dC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YC(this,s,e),n=Jn(this.I),oe(n,"RID",t),oe(n,"CVER",22),this.F&&oe(n,"X-HTTP-Session-Id",this.F),yl(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(GC(i)))+"&"+e:this.o&&ay(n,this.o,i)),iy(this.i,s),this.bb&&oe(n,"TYPE","init"),this.P?(oe(n,"$req",e),oe(n,"SID","null"),s.aa=!0,Vp(s,n,null)):Vp(s,n,e),this.H=2}}else this.H==3&&(t?P1(this,t):this.j.length==0||FC(this.i)||P1(this))};function P1(t,e){var n;e?n=e.m:n=t.W++;const r=Jn(t.I);oe(r,"SID",t.K),oe(r,"RID",n),oe(r,"AID",t.V),yl(t,r),t.o&&t.s&&ay(r,t.o,t.s),n=new fl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),iy(t.i,n),Vp(n,r,e)}function yl(t,e){t.na&&Kg(t.na,function(n,r){oe(e,r,n)}),t.h&&LC({},function(n,r){oe(e,r,n)})}function YC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?st(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{jM(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Da||wC(),La||(Da(),La=!0),Zg.add(e,t),t.A=0}}function uy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=hl(st(t.Ma,t),t2(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,ZC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hl(st(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ft(10),Dh(this),ZC(this))};function cy(t){t.B!=null&&(B.clearTimeout(t.B),t.B=null)}function ZC(t){t.g=new fl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jn(t.wa);oe(e,"RID","rpc"),oe(e,"SID",t.K),oe(e,"AID",t.V),oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&oe(e,"TO",t.qa),oe(e,"TYPE","xmlhttp"),yl(t,e),t.o&&t.s&&ay(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ah(Jn(e)),n.s=null,n.S=!0,AC(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Dh(this),uy(this),ft(19))};function Tc(t){t.v!=null&&(B.clearTimeout(t.v),t.v=null)}function e2(t,e){var n=null;if(t.g==e){Tc(t),cy(t),t.g=null;var r=2}else if(zp(t.i,e))n=e.F,VC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=xh(),Qe(r,new xC(r,n)),Lh(t)}else JC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&KM(t,e)||r==2&&uy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ps(t,5);break;case 4:ps(t,10);break;case 3:ps(t,6);break;default:ps(t,2)}}}function t2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ps(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=st(t.pb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||_c(n,"https"),Ah(n)),VM(n.toString(),r)}else ft(2);t.H=0,t.h&&t.h.za(e),n2(t),XC(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ft(2)):(this.l.info("Failed to ping google.com"),ft(1))};function n2(t){if(t.H=0,t.ma=[],t.h){const e=BC(t.i);(e.length!=0||t.j.length!=0)&&(E1(t.ma,e),E1(t.ma,t.j),t.i.i.length=0,Wg(t.j),t.j.length=0),t.h.ya()}}function r2(t,e,n){var r=n instanceof Es?Jn(n):new Es(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sc(r,r.m);else{var s=B.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Es(null);r&&_c(i,r),e&&(i.g=e),s&&Sc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&oe(r,n,e),oe(r,"VER",t.ra),yl(t,r),r}function s2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xe(new ml({ob:!0})):new xe(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function i2(){}N=i2.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Cc(){if(ji&&!(10<=Number(oM)))throw Error("Environmental error: no available transport.")}Cc.prototype.g=function(t,e){return new Ot(t,e)};function Ot(t,e){ze.call(this),this.g=new QC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Pa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ao(this)}He(Ot,ze);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=r2(t,null,t.Y),Lh(t)};Ot.prototype.close=function(){ly(this.g)};Ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jg(t),t=n);e.j.push(new MM(e.fb++,t)),e.H==3&&Lh(e)};Ot.prototype.N=function(){this.g.h=null,delete this.j,ly(this.g),delete this.g,Ot.$.N.call(this)};function o2(t){ry.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}He(o2,ry);function a2(){sy.call(this),this.status=1}He(a2,sy);function ao(t){this.g=t}He(ao,i2);ao.prototype.Ba=function(){Qe(this.g,"a")};ao.prototype.Aa=function(t){Qe(this.g,new o2(t))};ao.prototype.za=function(t){Qe(this.g,new a2)};ao.prototype.ya=function(){Qe(this.g,"b")};function GM(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}He(sn,GM);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)tf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){tf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){tf(this,r),s=0;break}}this.h=s,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ne(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var QM={};function hy(t){return-128<=t&&128>t?rM(t,function(e){return new ne([e|0],0>e?-1:0)}):new ne([t|0],0>t?-1:0)}function mn(t){if(isNaN(t)||!isFinite(t))return Ii;if(0>t)return Ke(mn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hp;return new ne(e,0)}function l2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ke(l2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mn(Math.pow(e,8)),r=Ii,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=mn(Math.pow(e,i)),r=r.R(i).add(mn(o))):(r=r.R(n),r=r.add(mn(o)))}return r}var Hp=4294967296,Ii=hy(0),Wp=hy(1),N1=hy(16777216);N=ne.prototype;N.ea=function(){if(zt(this))return-Ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hp+r)*e,e*=Hp}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(zt(this))return"-"+Ke(this).toString(t);for(var e=mn(Math.pow(t,6)),n=this,r="";;){var s=Ic(n,e).g;n=xc(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,jn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zt(t){return t.h==-1}N.X=function(t){return t=xc(this,t),zt(t)?-1:jn(t)?0:1};function Ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ne(n,~t.h).add(Wp)}N.abs=function(){return zt(this)?Ke(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ne(n,n[n.length-1]&-2147483648?-1:0)};function xc(t,e){return t.add(Ke(e))}N.R=function(t){if(jn(this)||jn(t))return Ii;if(zt(this))return zt(t)?Ke(this).R(Ke(t)):Ke(Ke(this).R(t));if(zt(t))return Ke(this.R(Ke(t)));if(0>this.X(N1)&&0>t.X(N1))return mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,tu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,tu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,tu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,tu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ne(n,0)};function tu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xo(t,e){this.g=t,this.h=e}function Ic(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new xo(Ii,Ii);if(zt(t))return e=Ic(Ke(t),e),new xo(Ke(e.g),Ke(e.h));if(zt(e))return e=Ic(t,Ke(e)),new xo(Ke(e.g),e.h);if(30<t.g.length){if(zt(t)||zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wp,r=e;0>=r.X(t);)n=D1(n),r=D1(r);var s=Gs(n,1),i=Gs(r,1);for(r=Gs(r,2),n=Gs(n,2);!jn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Gs(r,1),n=Gs(n,1)}return e=xc(t,s.R(e)),new xo(s,e)}for(s=Ii;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=mn(n),o=i.R(e);zt(o)||0<o.X(t);)n-=r,i=mn(n),o=i.R(e);jn(i)&&(i=Wp),s=s.add(i),t=xc(t,o)}return new xo(s,t)}N.gb=function(t){return Ic(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ne(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ne(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ne(n,this.h^t.h)};function D1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ne(n,t.h)}function Gs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ne(s,t.h)}Cc.prototype.createWebChannel=Cc.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;Ih.NO_ERROR=0;Ih.TIMEOUT=8;Ih.HTTP_ERROR=6;IC.COMPLETE="complete";kC.EventType=dl;dl.OPEN="a";dl.CLOSE="b";dl.ERROR="c";dl.MESSAGE="d";ze.prototype.listen=ze.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;ne.prototype.add=ne.prototype.add;ne.prototype.multiply=ne.prototype.R;ne.prototype.modulo=ne.prototype.gb;ne.prototype.compare=ne.prototype.X;ne.prototype.toNumber=ne.prototype.ea;ne.prototype.toString=ne.prototype.toString;ne.prototype.getBits=ne.prototype.D;ne.fromNumber=mn;ne.fromString=l2;var XM=function(){return new Cc},YM=function(){return xh()},nf=Ih,JM=IC,ZM=Vs,L1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},e4=ml,nu=kC,t4=xe,n4=sn,ki=ne;const O1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Pg("@firebase/firestore");function b1(){return Ns.logLevel}function b(t,...e){if(Ns.logLevel<=Z.DEBUG){const n=e.map(dy);Ns.debug(`Firestore (${lo}): ${t}`,...n)}}function Zn(t,...e){if(Ns.logLevel<=Z.ERROR){const n=e.map(dy);Ns.error(`Firestore (${lo}): ${t}`,...n)}}function Vi(t,...e){if(Ns.logLevel<=Z.WARN){const n=e.map(dy);Ns.warn(`Firestore (${lo}): ${t}`,...n)}}function dy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function le(t,e){t||V()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i4{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Or,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new u2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new et(e)}}class o4{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class a4{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new o4(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.T=n.token,new l4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=c4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function Bi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Ue(0,0))}static max(){return new W(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Ua{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const h4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Ua{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return h4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new M(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new M(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new M(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(Te.fromString(e))}static fromName(e){return new U(Te.fromString(e).popFirst(5))}static empty(){return new U(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Te(e.slice()))}}function d4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=W.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new jr(s,U.empty(),e)}function f4(t){return new jr(t.readTime,t.key,-1)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(W.min(),U.empty(),-1)}static max(){return new jr(W.max(),U.empty(),-1)}}function p4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==m4)throw t;b("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(s=>s?P.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new P((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new P((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}fy.ct=-1;function Oh(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function y4(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qe.RED,this.left=s??qe.EMPTY,this.right=i??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,s){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $1(this.data.getIterator())}getIteratorFrom(e){return new $1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class $1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new ot(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new d2("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const v4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(le(!!t),typeof t=="string"){let e=0;const n=v4.exec(t);if(le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function my(t){const e=t.mapValue.fields.__previous_value__;return py(e)?my(e):e}function Fa(t){const e=Vr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?py(t)?4:E4(t)?9007199254740991:10:V()}function In(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fa(t).isEqual(Fa(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Vr(r.timestampValue),o=Vr(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ds(r.bytesValue).isEqual(Ds(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return De(r.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return De(r.integerValue)===De(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=De(r.doubleValue),o=De(s.doubleValue);return i===o?kc(i)===kc(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Bi(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(M1(i)!==M1(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!In(i[a],o[a])))return!1;return!0}(t,e);default:return V()}}function Va(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function zi(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=De(s.integerValue||s.doubleValue),a=De(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return U1(t.timestampValue,e.timestampValue);case 4:return U1(Fa(t),Fa(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Ds(s),a=Ds(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ee(o[l],a[l]);if(u!==0)return u}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ee(De(s.latitude),De(i.latitude));return o!==0?o:ee(De(s.longitude),De(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=zi(o[l],a[l]);if(u)return u}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===su.mapValue&&i===su.mapValue)return 0;if(s===su.mapValue)return 1;if(i===su.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=ee(a[c],u[c]);if(h!==0)return h;const d=zi(o[a[c]],l[u[c]]);if(d!==0)return d}return ee(a.length,u.length)}(t.mapValue,e.mapValue);default:throw V()}}function U1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=Vr(t),r=Vr(e),s=ee(n.seconds,r.seconds);return s!==0?s:ee(n.nanos,r.nanos)}function Hi(t){return qp(t)}function qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Vr(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ds(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=qp(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${qp(r.fields[a])}`;return i+"}"}(t.mapValue):V();var e,n}function Kp(t){return!!t&&"integerValue"in t}function gy(t){return!!t&&"arrayValue"in t}function F1(t){return!!t&&"nullValue"in t}function j1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function Jo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Jo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Et(Jo(this.value))}}function f2(t){const e=[];return Bs(t.fields,(n,r)=>{const s=new rt([n]);if(Du(r)){const i=f2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,W.min(),W.min(),W.min(),Et.empty(),0)}static newFoundDocument(e,n,r,s){return new nt(e,1,n,W.min(),r,s,0)}static newNoDocument(e,n){return new nt(e,2,n,W.min(),W.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,W.min(),W.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function V1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=zi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function B1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function _4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{}class be extends p2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T4(e,n,r):n==="array-contains"?new I4(e,r):n==="in"?new k4(e,r):n==="not-in"?new R4(e,r):n==="array-contains-any"?new A4(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C4(e,r):new x4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zi(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends p2{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new kn(e,n)}matches(e){return m2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function m2(t){return t.op==="and"}function g2(t){return S4(t)&&m2(t)}function S4(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Gp(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+Hi(t.value);if(g2(t))return t.filters.map(e=>Gp(e)).join(",");{const e=t.filters.map(n=>Gp(n)).join(",");return`${t.op}(${e})`}}function y2(t,e){return t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.field.isEqual(r.field)&&In(n.value,r.value)}(t,e):t instanceof kn?function(n,r){return r instanceof kn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&y2(i,r.filters[o]),!0):!1}(t,e):void V()}function v2(t){return t instanceof be?function(e){return`${e.field.canonicalString()} ${e.op} ${Hi(e.value)}`}(t):t instanceof kn?function(e){return e.op.toString()+" {"+e.getFilters().map(v2).join(" ,")+"}"}(t):"Filter"}class T4 extends be{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class C4 extends be{constructor(e,n){super(e,"in",n),this.keys=w2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x4 extends be{constructor(e,n){super(e,"not-in",n),this.keys=w2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class I4 extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gy(n)&&Va(n.arrayValue,this.value)}}class k4 extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class R4 extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class A4 extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function z1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new P4(t,e,n,r,s,i,o)}function yy(t){const e=q(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hi(r)).join(",")),e.dt=n}return e.dt}function vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B1(t.startAt,e.startAt)&&B1(t.endAt,e.endAt)}function Qp(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function N4(t,e,n,r,s,i,o,a){return new bh(t,e,n,r,s,i,o,a)}function Mh(t){return new bh(t)}function H1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D4(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function L4(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function O4(t){return t.collectionGroup!==null}function Ri(t){const e=q(t);if(e.wt===null){e.wt=[];const n=L4(e),r=D4(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Zo(n)),e.wt.push(new Zo(rt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zo(rt.keyField(),i))}}}return e.wt}function er(t){const e=q(t);if(!e._t)if(e.limitType==="F")e._t=z1(e.path,e.collectionGroup,Ri(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ri(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Zo(i.field,o))}const r=e.endAt?new Rc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Rc(e.startAt.position,e.startAt.inclusive):null;e._t=z1(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Xp(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return vy(er(t),er(e))&&t.limitType===e.limitType}function E2(t){return`${yy(er(t))}|lt:${t.limitType}`}function Yp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>v2(r)).join(", ")}]`),Oh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hi(r)).join(",")),`Target(${n})`}(er(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):U.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Ri(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=V1(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ri(n),r)||n.endAt&&!function(s,i,o){const a=V1(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ri(n),r))}(t,e)}function b4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _2(t){return(e,n)=>{let r=!1;for(const s of Ri(t)){const i=M4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function M4(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?zi(a,l):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return h2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new we(U.comparator);function tr(){return $4}const S2=new we(U.comparator);function $o(...t){let e=S2;for(const n of t)e=e.insert(n.key,n);return e}function T2(t){let e=S2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ms(){return ea()}function C2(){return ea()}function ea(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const U4=new we(U.comparator),F4=new ot(U.comparator);function G(...t){let e=F4;for(const n of t)e=e.add(n);return e}const j4=new ot(ee);function V4(){return j4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function I2(t){return{integerValue:""+t}}function B4(t,e){return y4(e)?I2(e):x2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function z4(t,e,n){return t instanceof Ac?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&py(s)&&(s=my(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Wi?R2(t,e):t instanceof Ba?A2(t,e):function(r,s){const i=k2(r,s),o=W1(i)+W1(r.gt);return Kp(i)&&Kp(r.gt)?I2(o):x2(r.serializer,o)}(t,e)}function H4(t,e,n){return t instanceof Wi?R2(t,e):t instanceof Ba?A2(t,e):n}function k2(t,e){return t instanceof Pc?Kp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ac extends Fh{}class Wi extends Fh{constructor(e){super(),this.elements=e}}function R2(t,e){const n=P2(e);for(const r of t.elements)n.some(s=>In(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends Fh{constructor(e){super(),this.elements=e}}function A2(t,e){let n=P2(e);for(const r of t.elements)n=n.filter(s=>!In(s,r));return{arrayValue:{values:n}}}class Pc extends Fh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function W1(t){return De(t.integerValue||t.doubleValue)}function P2(t){return gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.field=e,this.transform=n}}function q4(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Wi&&r instanceof Wi||n instanceof Ba&&r instanceof Ba?Bi(n.elements,r.elements,In):n instanceof Pc&&r instanceof Pc?In(n.gt,r.gt):n instanceof Ac&&r instanceof Ac}(t.transform,e.transform)}class K4{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jh{}function N2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L2(t.key,Sn.none()):new El(t.key,t.data,Sn.none());{const n=t.data,r=Et.empty();let s=new ot(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xr(t.key,r,new Pt(s.toArray()),Sn.none())}}function G4(t,e,n){t instanceof El?function(r,s,i){const o=r.value.clone(),a=K1(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(r,s,i){if(!Lu(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=K1(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(D2(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n,r){return t instanceof El?function(s,i,o,a){if(!Lu(s.precondition,i))return o;const l=s.value.clone(),u=G1(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,i,o,a){if(!Lu(s.precondition,i))return o;const l=G1(s.fieldTransforms,a,i),u=i.data;return u.setAll(D2(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,i,o){return Lu(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function Q4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=k2(r.transform,s||null);i!=null&&(n===null&&(n=Et.empty()),n.set(r.field,i))}return n||null}function q1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Bi(n,r,(s,i)=>q4(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends jh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xr extends jh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function D2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K1(t,e,n){const r=new Map;le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,H4(o,a,n[s]))}return r}function G1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,z4(i,o,e))}return r}class L2 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X4 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&G4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=N2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),G())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(n,r)=>q1(n,r))&&Bi(this.baseMutations,e.baseMutations,(n,r)=>q1(n,r))}}class wy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){le(e.mutations.length===r.length);let s=U4;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,X;function e5(t){switch(t){default:return V();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function O2(t){if(t===void 0)return Zn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Pe.OK:return R.OK;case Pe.CANCELLED:return R.CANCELLED;case Pe.UNKNOWN:return R.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return R.INTERNAL;case Pe.UNAVAILABLE:return R.UNAVAILABLE;case Pe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Pe.NOT_FOUND:return R.NOT_FOUND;case Pe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Pe.ABORTED:return R.ABORTED;case Pe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Pe.DATA_LOSS:return R.DATA_LOSS;default:return V()}}(X=Pe||(Pe={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return iu}static getOrCreateInstance(){return iu===null&&(iu=new Ey),iu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let iu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new ki([4294967295,4294967295],0);function Q1(t){const e=t5().encode(t),n=new n4;return n.update(e),new Uint8Array(n.digest())}function X1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ki([n,r],0),new ki([s,i],0)]}class _y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ki.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ki.fromNumber(r)));return s.compare(n5)===1&&(s=new ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Q1(e),[r,s]=X1(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _y(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Q1(e),[r,s]=X1(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vh(W.min(),s,new we(ee),tr(),G())}}class _l{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _l(r,n,G(),G(),G())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class b2{constructor(e,n){this.targetId=e,this.Vt=n}}class M2{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Y1{constructor(){this.St=0,this.Dt=Z1(),this.Ct=ut.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=G(),n=G(),r=G();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:V()}}),new _l(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Z1()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class r5{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=tr(),this.zt=J1(),this.Wt=new we(ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Qp(o))if(s===0){const a=new U(o.path);this.Yt(r,a,nt.newNoDocument(a,W.min()))}else le(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Ey.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var d,f,p,w,S,v;const g={localCacheCount:c,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(g.bloomFilter={applied:u===0,hashCount:(d=y==null?void 0:y.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(w=(p=(f=y==null?void 0:y.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&w!==void 0?w:0,padding:(v=(S=y==null?void 0:y.bits)===null||S===void 0?void 0:S.padding)!==null&&v!==void 0?v:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Ds(i).toUint8Array()}catch(c){if(c instanceof d2)return Vi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new _y(l,o,a)}catch(c){return Vi(c instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Qp(a.target)){const l=new U(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,nt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=G();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Vh(e,n,this.Wt,this.jt,r);return this.jt=tr(),this.zt=J1(),this.Wt=new we(ee),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Y1,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ot(ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Y1),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function J1(){return new we(U.comparator)}function Z1(){return new we(U.comparator)}const s5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),i5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),o5=(()=>({and:"AND",or:"OR"}))();class a5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||Oh(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l5(t,e){return Nc(t,e.toTimestamp())}function Tn(t){return le(!!t),W.fromTimestamp(function(e){const n=Vr(e);return new Ue(n.seconds,n.nanos)}(t))}function Sy(t,e){return function(n){return new Te(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function U2(t){const e=Te.fromString(t);return le(B2(e)),e}function Zp(t,e){return Sy(t.databaseId,e.path)}function rf(t,e){const n=U2(e);if(n.get(1)!==t.databaseId.projectId)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(F2(n))}function em(t,e){return Sy(t.databaseId,e)}function u5(t){const e=U2(t);return e.length===4?Te.emptyPath():F2(e)}function tm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F2(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ew(t,e,n){return{name:Zp(t,e),fields:n.value.mapValue.fields}}function c5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(le(u===void 0||typeof u=="string"),ut.fromBase64String(u||"")):(le(u===void 0||u instanceof Uint8Array),ut.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:O2(l.code);return new M(u,l.message||"")}(o);n=new M2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=rf(t,r.document.name),i=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):W.min(),a=new Et({mapValue:{fields:r.document.fields}}),l=nt.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ou(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=rf(t,r.document),i=r.readTime?Tn(r.readTime):W.min(),o=nt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=rf(t,r.document),i=r.removedTargetIds||[];n=new Ou([],i,s,null)}else{if(!("filter"in e))return V();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Z4(s,i),a=r.targetId;n=new b2(a,o)}}return n}function h5(t,e){let n;if(e instanceof El)n={update:ew(t,e.key,e.value)};else if(e instanceof L2)n={delete:Zp(t,e.key)};else if(e instanceof Xr)n={update:ew(t,e.key,e.data),updateMask:E5(e.fieldMask)};else{if(!(e instanceof X4))return V();n={verify:Zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Ac)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wi)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ba)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pc)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:l5(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:V()}(t,e.precondition)),n}function d5(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Tn(r.updateTime):Tn(s);return i.isEqual(W.min())&&(i=Tn(s)),new K4(i,r.transformResults||[])}(n,e))):[]}function f5(t,e){return{documents:[em(t,e.path)]}}function p5(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=em(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=em(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return V2(kn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Xs(c.field),direction:y5(c.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Jp(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function m5(t){let e=u5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){le(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(c){const h=j2(c);return h instanceof kn&&g2(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Zo(Ys(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Oh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Rc(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Rc(d,h)}(n.endAt)),N4(e,s,o,i,a,"F",l,u)}function g5(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ys(e.unaryFilter.field);return be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ys(e.unaryFilter.field);return be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(e.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ys(e.unaryFilter.field);return be.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):t.fieldFilter!==void 0?function(e){return be.create(Ys(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return kn.create(e.compositeFilter.filters.map(n=>j2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V()}function y5(t){return s5[t]}function v5(t){return i5[t]}function w5(t){return o5[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return rt.fromServerFormat(t.fieldPath)}function V2(t){return t instanceof be?function(e){if(e.op==="=="){if(j1(e.value))return{unaryFilter:{field:Xs(e.field),op:"IS_NAN"}};if(F1(e.value))return{unaryFilter:{field:Xs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(j1(e.value))return{unaryFilter:{field:Xs(e.field),op:"IS_NOT_NAN"}};if(F1(e.value))return{unaryFilter:{field:Xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(e.field),op:v5(e.op),value:e.value}}}(t):t instanceof kn?function(e){const n=e.getFilters().map(r=>V2(r));return n.length===1?n[0]:{compositeFilter:{op:w5(e.op),filters:n}}}(t):V()}function E5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,s,i=W.min(),o=W.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.fe=e}}function S5(t){const e=m5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.rn=new C5}addToCollectionParentIndex(e,n){return this.rn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(jr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class C5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qi(0)}static Mn(){return new qi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ta(r.mutation,s,Pt.empty(),Ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,G()).next(()=>r))}getLocalViewOfDocuments(e,n,r=G()){const s=ms();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$o();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,G()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=tr();const o=ea(),a=ea();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Xr)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ta(c.mutation,u,c.mutation.getFieldMask(),Ue.now())):o.set(u.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new I5(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ea();let s=new we((o,a)=>o-a),i=G();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Pt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(s.get(a.batchId)||G()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=C2();c.forEach(d=>{if(!i.has(d)){const f=N2(n.get(d),r.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):P.resolve(ms());let a=-1,l=i;return o.next(u=>P.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,G())).next(c=>({batchId:a,changes:T2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let s=$o();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=$o();return this.indexManager.getCollectionParents(e,s).next(o=>P.forEach(o,a=>{const l=function(u,c){return new bh(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{i=i.insert(c,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,nt.newInvalidDocument(u)))});let o=$o();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&ta(u.mutation,l,Pt.empty(),Ue.now()),Uh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return P.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Tn(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:S5(r.bundledQuery),readTime:Tn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.overlays=new we(U.comparator),this.ls=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ms();return P.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const s=ms(),i=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return P.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new we((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=ms(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ms(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return P.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J4(n,r));let i=this.ls.get(n);i===void 0&&(i=G(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.fs=new ot(je.ds),this.ws=new ot(je._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new je(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new je(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new U(new Te([])),r=new je(n,e),s=new je(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new U(new Te([])),r=new je(n,e),s=new je(n,e+1);let i=G();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new je(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return U.comparator(e.key,n.key)||ee(e.As,n.As)}static _s(e,n){return ee(e.As,n.As)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ot(je.ds)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),s=new je(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ee);return n.forEach(s=>{const i=new je(s,0),o=new je(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),P.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;U.isDocumentKey(i)||(i=i.child(""));const o=new je(new U(i),0);let a=new ot(ee);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},o),P.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){le(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return P.forEach(n.mutations,s=>{const i=new je(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new je(n,0),s=this.Rs.firstAfterOrEqual(r);return P.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.Ds=e,this.docs=new we(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nt.newInvalidDocument(s))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=tr();const o=n.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||p4(f4(c),r)<=0||(s.has(c.key)||Uh(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,r,s){V()}Cs(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D5(this)}getSize(e){return P.resolve(this.size)}}class D5 extends x5{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.persistence=e,this.xs=new uo(n=>yy(n),vy),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ty,this.targetCount=0,this.Ms=qi.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),P.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new qi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Fn(n),P.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),P.waitFor(i).next(()=>s)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),P.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n){this.$s={},this.overlays={},this.Os=new fy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new L5(this),this.indexManager=new T5,this.remoteDocumentCache=function(r){return new N5(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new _5(n),this.qs=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new P5(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const s=new b5(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return P.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class b5 extends g4{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Qs=new Ty,this.js=null}static zs(e){return new Cy(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),P.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Ws,r=>{const s=U.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,W.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return P.or([()=>P.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=G(),s=G();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new xy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(H1(n))return P.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xp(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=G(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Xp(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return H1(n)||s.isEqual(W.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(b1()<=Z.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yp(n)),this.Wi(e,o,n,d4(s,-1)))})}ji(e,n){let r=new ot(_2(e));return n.forEach((s,i)=>{Uh(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return b1()<=Z.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Yp(n)),this.Ui.getDocumentsMatchingQuery(e,n,jr.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new we(ee),this.Yi=new uo(i=>yy(i),vy),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k5(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function U5(t,e,n,r){return new $5(t,e,n,r)}async function z2(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=G();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function F5(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=P.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(p=>{const w=l.docVersions.get(f);le(w!==null),p.version.compareTo(w)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=G();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function H2(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function j5(t,e){const n=q(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const d=s.get(h);if(!d)return;a.push(n.Bs.removeMatchingKeys(i,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,c.addedDocuments,h)));let f=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),s=s.insert(h,f),function(p,w,S){return p.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,f,c)&&a.push(n.Bs.updateTargetData(i,f))});let l=tr(),u=G();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(V5(i,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(W.min())){const c=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=s,i))}function V5(t,e,n){let r=G(),s=G();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=tr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:s}})}function B5(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,P.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new Er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function nm(t,e,n){const r=q(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wl(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function tw(t,e,n){const r=q(t);let s=W.min(),i=G();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=q(a),h=c.Yi.get(u);return h!==void 0?P.resolve(c.Ji.get(h)):c.Bs.getTargetData(l,u)}(r,o,er(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:W.min(),n?i:G())).next(a=>(H5(r,b4(e),a),{documents:a,ir:i})))}function H5(t,e,n){let r=t.Xi.get(e)||W.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class nw{constructor(){this.activeTargetIds=V4()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W5{constructor(){this.Hr=new nw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function sf(){return ou===null?ou=268435456+Math.round(2147483648*Math.random()):ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class Q5 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=sf(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(u=>(b("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Vi("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=K5[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=sf();return new Promise((o,a)=>{const l=new t4;l.setWithCredentials(!0),l.listenOnce(JM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nf.NO_ERROR:const c=l.getResponseJson();b(Ze,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case nf.TIMEOUT:b(Ze,`RPC '${e}' ${i} timed out`),a(new M(R.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const h=l.getStatus();if(b(Ze,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(S)>=0?S:R.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(R.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{b(Ze,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);b(Ze,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=sf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XM(),a=YM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new e4({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");b(Ze,`Creating RPC '${e}' stream ${s}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const p=new G5({ro:S=>{f?b(Ze,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(d||(b(Ze,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),b(Ze,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},oo:()=>h.close()}),w=(S,v,g)=>{S.listen(v,y=>{try{g(y)}catch(_){setTimeout(()=>{throw _},0)}})};return w(h,nu.EventType.OPEN,()=>{f||b(Ze,`RPC '${e}' stream ${s} transport opened.`)}),w(h,nu.EventType.CLOSE,()=>{f||(f=!0,b(Ze,`RPC '${e}' stream ${s} transport closed`),p.wo())}),w(h,nu.EventType.ERROR,S=>{f||(f=!0,Vi(Ze,`RPC '${e}' stream ${s} transport errored:`,S),p.wo(new M(R.UNAVAILABLE,"The operation could not be completed")))}),w(h,nu.EventType.MESSAGE,S=>{var v;if(!f){const g=S.data[0];le(!!g);const y=g,_=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(_){b(Ze,`RPC '${e}' stream ${s} received error:`,_);const T=_.status;let k=function(C){const O=Pe[C];if(O!==void 0)return O2(O)}(T),I=_.message;k===void 0&&(k=R.INTERNAL,I="Unknown error status: "+T+" with message "+_.message),f=!0,p.wo(new M(k,I)),h.close()}else b(Ze,`RPC '${e}' stream ${s} received:`,g),p._o(g)}}),w(a,ZM.STAT_EVENT,S=>{S.stat===L1.PROXY?b(Ze,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===L1.NOPROXY&&b(Ze,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){return new a5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&b("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new W2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new M(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X5 extends q2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=c5(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?W.min():i.readTime?Tn(i.readTime):W.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=tm(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Qp(a)?{documents:f5(s,a)}:{query:p5(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=$2(s,i.resumeToken);const l=Jp(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(W.min())>0){o.readTime=Nc(s,i.snapshotVersion.toTimestamp());const l=Jp(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=g5(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=tm(this.serializer),n.removeTarget=e,this.Wo(n)}}class Y5 extends q2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=d5(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.cu(r,n)}return le(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=tm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h5(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(R.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(R.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class Z5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zn(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{zs(this)&&(b("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=q(a);l.vu.add(4),await Sl(l),l.bu.set("Unknown"),l.vu.delete(4),await zh(l)}(this))})}),this.bu=new Z5(r,s)}}async function zh(t){if(zs(t))for(const e of t.Ru)await e(!0)}async function Sl(t){for(const e of t.Ru)await e(!1)}function K2(t,e){const n=q(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Ry(n)?ky(n):co(n).Ko()&&Iy(n,e))}function G2(t,e){const n=q(t),r=co(n);n.Au.delete(e),r.Ko()&&Q2(n,e),n.Au.size===0&&(r.Ko()?r.jo():zs(n)&&n.bu.set("Unknown"))}function Iy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).su(e)}function Q2(t,e){t.Vu.qt(e),co(t).iu(e)}function ky(t){t.Vu=new r5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),co(t).start(),t.bu.gu()}function Ry(t){return zs(t)&&!co(t).Uo()&&t.Au.size>0}function zs(t){return q(t).vu.size===0}function X2(t){t.Vu=void 0}async function t3(t){t.Au.forEach((e,n)=>{Iy(t,e)})}async function n3(t,e){X2(t),Ry(t)?(t.bu.Iu(e),ky(t)):t.bu.set("Unknown")}async function r3(t,e,n){if(t.bu.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dc(t,r)}else if(e instanceof Ou?t.Vu.Ht(e):e instanceof b2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(W.min()))try{const r=await H2(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),Q2(s,a);const c=new Er(u.target,a,l,u.sequenceNumber);Iy(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){b("RemoteStore","Failed to raise snapshot:",r),await Dc(t,r)}}async function Dc(t,e,n){if(!wl(e))throw e;t.vu.add(1),await Sl(t),t.bu.set("Offline"),n||(n=()=>H2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{b("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await zh(t)})}function Y2(t,e){return e().catch(n=>Dc(t,n,e))}async function Hh(t){const e=q(t),n=Br(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;s3(e);)try{const s=await B5(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,i3(e,s)}catch(s){await Dc(e,s)}J2(e)&&Z2(e)}function s3(t){return zs(t)&&t.Eu.length<10}function i3(t,e){t.Eu.push(e);const n=Br(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function J2(t){return zs(t)&&!Br(t).Uo()&&t.Eu.length>0}function Z2(t){Br(t).start()}async function o3(t){Br(t).hu()}async function a3(t){const e=Br(t);for(const n of t.Eu)e.uu(n.mutations)}async function l3(t,e,n){const r=t.Eu.shift(),s=wy.from(r,e,n);await Y2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hh(t)}async function u3(t,e){e&&Br(t).ou&&await async function(n,r){if(s=r.code,e5(s)&&s!==R.ABORTED){const i=n.Eu.shift();Br(n).Qo(),await Y2(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Hh(n)}var s}(t,e),J2(t)&&Z2(t)}async function sw(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.vu.add(3),await Sl(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await zh(n)}async function c3(t,e){const n=q(t);e?(n.vu.delete(2),await zh(n)):e||(n.vu.add(2),await Sl(n),n.bu.set("Unknown"))}function co(t){return t.Su||(t.Su=function(e,n,r){const s=q(e);return s.fu(),new X5(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:t3.bind(null,t),ao:n3.bind(null,t),nu:r3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Ry(t)?ky(t):t.bu.set("Unknown")):(await t.Su.stop(),X2(t))})),t.Su}function Br(t){return t.Du||(t.Du=function(e,n,r){const s=q(e);return s.fu(),new Y5(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:o3.bind(null,t),ao:u3.bind(null,t),au:a3.bind(null,t),cu:l3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Hh(t)):(await t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ay(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),wl(t))return new M(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=$o(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new Ai(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ai;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Cu=new we(U.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ki{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ki(e,n,Ai.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.Nu=void 0,this.listeners=[]}}class d3{constructor(){this.queries=new uo(e=>E2(e),$h),this.onlineState="Unknown",this.ku=new Set}}async function ex(t,e){const n=q(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new h3),s)try{i.Nu=await n.onListen(r)}catch(o){const a=Py(o,`Initialization of query '${Yp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Ny(n)}async function tx(t,e){const n=q(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function f3(t,e){const n=q(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&Ny(n)}function p3(t,e,n){const r=q(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Ny(t){t.ku.forEach(e=>{e.next()})}class nx{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ki(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.key=e}}class sx{constructor(e){this.key=e}}class m3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=G(),this.mutatedKeys=G(),this.tc=_2(e),this.ec=new Ai(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new iw,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,h)=>{const d=s.get(c),f=Uh(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;d&&f?d.data.isEqual(f.data)?p!==w&&(r.track({type:3,doc:f}),S=!0):this.rc(d,f)||(r.track({type:2,doc:f}),S=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),S=!0):d&&!f&&(r.track({type:1,doc:d}),S=!0,(l||u)&&(a=!0)),S&&(f?(o=o.add(f),i=w?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(h)-f(d)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Ki(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=G(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new sx(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new rx(r))}),n}hc(e){this.Yu=e.ir,this.Zu=G();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ki.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class g3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y3{constructor(e){this.key=e,this.fc=!1}}class v3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new uo(a=>E2(a),$h),this._c=new Map,this.mc=new Set,this.gc=new we(U.comparator),this.yc=new Map,this.Ic=new Ty,this.Tc={},this.Ec=new Map,this.Ac=qi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function w3(t,e){const n=A3(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await z5(n.localStore,er(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await E3(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&K2(n.remoteStore,o)}return s}async function E3(t,e,n,r,s){t.Rc=(h,d,f)=>async function(p,w,S,v){let g=w.view.sc(S);g.zi&&(g=await tw(p.localStore,w.query,!1).then(({documents:T})=>w.view.sc(T,g)));const y=v&&v.targetChanges.get(w.targetId),_=w.view.applyChanges(g,p.isPrimaryClient,y);return aw(p,w.targetId,_.cc),_.snapshot}(t,h,d,f);const i=await tw(t.localStore,e,!0),o=new m3(e,i.ir),a=o.sc(i.documents),l=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);aw(t,n,u.cc);const c=new g3(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function _3(t,e){const n=q(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!$h(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),G2(n.remoteStore,r.targetId),rm(n,r.targetId)}).catch(vl)):(rm(n,r.targetId),await nm(n.localStore,r.targetId,!0))}async function S3(t,e,n){const r=P3(t);try{const s=await function(i,o){const a=q(i),l=Ue.now(),u=o.reduce((d,f)=>d.add(f.key),G());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=tr(),p=G();return a.Zi.getEntries(d,u).next(w=>{f=w,f.forEach((S,v)=>{v.isValidDocument()||(p=p.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(w=>{c=w;const S=[];for(const v of o){const g=Q4(v,c.get(v.key).overlayedDocument);g!=null&&S.push(new Xr(v.key,g,f2(g.value.mapValue),Sn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,S,o)}).next(w=>{h=w;const S=w.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(d,w.batchId,S)})}).then(()=>({batchId:h.batchId,changes:T2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new we(ee)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await Tl(r,s.changes),await Hh(r.remoteStore)}catch(s){const i=Py(s,"Failed to persist write");n.reject(i)}}async function ix(t,e){const n=q(t);try{const r=await j5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?le(o.fc):s.removedDocuments.size>0&&(le(o.fc),o.fc=!1))}),await Tl(n,r,e)}catch(r){await vl(r)}}function ow(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=q(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(o)&&(l=!0)}),l&&Ny(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T3(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new we(U.comparator);o=o.insert(i,nt.newNoDocument(i,W.min()));const a=G().add(i),l=new Vh(W.min(),new Map,new we(ee),o,a);await ix(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),Dy(r)}else await nm(r.localStore,e,!1).then(()=>rm(r,e,n)).catch(vl)}async function C3(t,e){const n=q(t),r=e.batch.batchId;try{const s=await F5(n.localStore,e);ax(n,r,null),ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tl(n,s)}catch(s){await vl(s)}}async function x3(t,e,n){const r=q(t);try{const s=await function(i,o){const a=q(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(le(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);ax(r,e,n),ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tl(r,s)}catch(s){await vl(s)}}function ox(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function ax(t,e,n){const r=q(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||lx(t,r)})}function lx(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(G2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Dy(t))}function aw(t,e,n){for(const r of n)r instanceof rx?(t.Ic.addReference(r.key,e),I3(t,r)):r instanceof sx?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||lx(t,r.key)):V()}function I3(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),Dy(t))}function Dy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new U(Te.fromString(e)),r=t.Ac.next();t.yc.set(r,new y3(n)),t.gc=t.gc.insert(n,r),K2(t.remoteStore,new Er(er(Mh(n.path)),r,"TargetPurposeLimboResolution",fy.ct))}}async function Tl(t,e,n){const r=q(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=xy.Li(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const u=q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>P.forEach(l,h=>P.forEach(h.Fi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>P.forEach(h.Bi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!wl(c))throw c;b("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ji.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(h,p)}}}(r.localStore,i))}async function k3(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=await z2(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(R.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tl(n,r.er)}}function R3(t,e){const n=q(t),r=n.yc.get(e);if(r&&r.fc)return G().add(r.key);{let s=G();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function A3(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T3.bind(null,e),e.dc.nu=f3.bind(null,e.eventManager),e.dc.Pc=p3.bind(null,e.eventManager),e}function P3(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class lw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return U5(this.persistence,new M5,e.initialUser,this.serializer)}createPersistence(e){return new O5(Cy.zs,this.serializer)}createSharedClientState(e){return new W5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class N3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k3.bind(null,this.syncEngine),await c3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new d3}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new Q5(s));var s;return function(i,o,a,l){return new J5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>ow(this.syncEngine,a,0),o=rw.D()?new rw:new q5,new e3(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const c=new v3(r,s,i,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=q(e);b("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Sl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=et.UNAUTHENTICATED,this.clientId=c2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{b("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(b("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function af(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await z2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O3(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>sw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>sw(e.remoteStore,i)),t._onlineComponents=e}function L3(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function O3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{await af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!L3(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await af(t,new lw)}}else b("FirestoreClient","Using default OfflineComponentProvider"),await af(t,new lw);return t._offlineComponents}async function cx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),await uw(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),await uw(t,new N3))),t._onlineComponents}function b3(t){return cx(t).then(e=>e.syncEngine)}async function sm(t){const e=await cx(t),n=e.eventManager;return n.onListen=w3.bind(null,e.syncEngine),n.onUnlisten=_3.bind(null,e.syncEngine),n}function M3(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new ux({next:h=>{i.enqueueAndForget(()=>tx(s,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new M(R.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new M(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new nx(Mh(o.path),u,{includeMetadataChanges:!0,Ku:!0});return ex(s,c)}(await sm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e,n){if(!n)throw new M(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U3(t,e,n,r){if(e===!0&&r===!0)throw new M(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hw(t){if(!U.isDocumentKey(t))throw new M(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ly(t);throw new M(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Oy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new r4;switch(n.type){case"firstParty":return new a4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=cw.get(e);n&&(b("ComponentProvider","Removing Datastore"),cw.delete(e),n.terminate())}(this),Promise.resolve()}}function F3(t,e,n,r={}){var s;const i=(t=Cn(t,Oy))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=et.MOCK_USER;else{a=_T(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new et(u)}t._authCredentials=new s4(new u2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class Wh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wh(this.firestore,e,this._query)}}class za extends Wh{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new U(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Yr(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=c2.A()),$3("doc","path",e),t instanceof Oy){const r=Te.fromString(e,...n);return hw(r),new xt(t,null,new U(r))}{if(!(t instanceof xt||t instanceof za))throw new M(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return hw(r),new xt(t.firestore,t instanceof za?t.converter:null,new U(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new W2(this,"async_queue_retry"),this.Xc=()=>{const n=of();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=of();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!wl(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Ay.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&V()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function fw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let Gi=class extends Oy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new j3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dx(this),this._firestoreClient.terminate()}};function V3(t,e){const n=typeof t=="object"?t:Dg(),r=typeof t=="string"?t:e||"(default)",s=mh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vT("firestore");i&&F3(s,...i)}return s}function by(t){return t._firestoreClient||dx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dx(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new w4(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hx(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new D3(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qi(ut.fromBase64String(e))}catch(n){throw new M(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qi(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=/^__.*__$/;class z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}class fx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function px(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Gh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(px(this.ca)&&B3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class H3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}ya(e,n,r,s=!1){return new Gh({ca:e,methodName:n,ga:r,path:rt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mx(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new H3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W3(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);$y("Data must be an object, but it was:",o,r);const a=gx(r,o);let l,u;if(i.merge)l=new Pt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const h of i.mergeFields){const d=im(e,h,n);if(!o.contains(d))throw new M(R.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);vx(c,d)||c.push(d)}l=new Pt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new z3(new Et(a),l,u)}class Qh extends Kh{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function q3(t,e,n){return new Gh({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class K3 extends Kh{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=q3(this,e,!0),r=this.pa.map(i=>Cl(i,n)),s=new Wi(r);return new W4(e.path,s)}isEqual(e){return this===e}}function G3(t,e,n,r){const s=t.ya(1,e,n);$y("Data must be an object, but it was:",s,r);const i=[],o=Et.empty();Bs(r,(l,u)=>{const c=Uy(e,l,n);u=Ce(u);const h=s.da(c);if(u instanceof Qh)i.push(c);else{const d=Cl(u,h);d!=null&&(i.push(c),o.set(c,d))}});const a=new Pt(i);return new fx(o,a,s.fieldTransforms)}function Q3(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[im(e,r,n)],l=[s];if(i.length%2!=0)throw new M(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(im(e,i[d])),l.push(i[d+1]);const u=[],c=Et.empty();for(let d=a.length-1;d>=0;--d)if(!vx(u,a[d])){const f=a[d];let p=l[d];p=Ce(p);const w=o.da(f);if(p instanceof Qh)u.push(f);else{const S=Cl(p,w);S!=null&&(u.push(f),c.set(f,S))}}const h=new Pt(u);return new fx(c,h,o.fieldTransforms)}function Cl(t,e){if(yx(t=Ce(t)))return $y("Unsupported field value:",e,t),gx(t,e);if(t instanceof Kh)return function(n,r){if(!px(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=Cl(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ce(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return B4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ue.fromDate(n);return{timestampValue:Nc(r.serializer,s)}}if(n instanceof Ue){const s=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nc(r.serializer,s)}}if(n instanceof My)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qi)return{bytesValue:$2(r.serializer,n._byteString)};if(n instanceof xt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ly(n)}`)}(t,e)}function gx(t,e){const n={};return h2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,s)=>{const i=Cl(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof My||t instanceof Qi||t instanceof xt||t instanceof Kh)}function $y(t,e,n){if(!yx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ly(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function im(t,e,n){if((e=Ce(e))instanceof qh)return e._internalPath;if(typeof e=="string")return Uy(t,e);throw Lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const X3=new RegExp("[~\\*/\\[\\]]");function Uy(t,e,n){if(e.search(X3)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new M(R.INVALID_ARGUMENT,a+t+l)}function vx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y3 extends wx{data(){return super.data()}}function Ex(t,e){return typeof e=="string"?Uy(t,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z3{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new My(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=my(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const n=Vr(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);le(B2(r));const s=new ja(r.get(1),r.get(3)),i=new U(r.popFirst(5));return s.isEqual(n)||Zn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _x extends wx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ex("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bu extends _x{data(e={}){return super.data(e)}}class t${constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bu(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new bu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new bu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:n$(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){t=Cn(t,xt);const e=Cn(t.firestore,Gi);return M3(by(e),t._key).then(n=>xx(e,t,n))}class Sx extends Z3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function xl(t,e,n){t=Cn(t,xt);const r=Cn(t.firestore,Gi),s=e$(t.converter,e,n);return Cx(r,[W3(mx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Sn.none())])}function r$(t,e,n,...r){t=Cn(t,xt);const s=Cn(t.firestore,Gi),i=mx(s);let o;return o=typeof(e=Ce(e))=="string"||e instanceof qh?Q3(i,"updateDoc",t._key,e,n,r):G3(i,"updateDoc",t._key,e),Cx(s,[o.toMutation(t._key,Sn.exists(!0))])}function Tx(t,...e){var n,r,s;t=Ce(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||fw(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(fw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,c;if(t instanceof xt)u=Cn(t.firestore,Gi),c=Mh(t._key.path),l={next:h=>{e[o]&&e[o](xx(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Cn(t,Wh);u=Cn(h.firestore,Gi),c=h._query;const d=new Sx(u);l={next:f=>{e[o]&&e[o](new t$(u,d,h,f))},error:e[o+1],complete:e[o+2]},J3(t._query)}return function(h,d,f,p){const w=new ux(p),S=new nx(d,w,f);return h.asyncQueue.enqueueAndForget(async()=>ex(await sm(h),S)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>tx(await sm(h),S))}}(by(u),c,a,l)}function Cx(t,e){return function(n,r){const s=new Or;return n.asyncQueue.enqueueAndForget(async()=>S3(await b3(n),r,s)),s.promise}(by(t),e)}function xx(t,e,n){const r=n.docs.get(e._key),s=new Sx(t);return new _x(t,s,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}function s$(...t){return new K3("arrayUnion",t)}(function(t,e=!0){(function(n){lo=n})(Us),Rs(new Fr("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Gi(new i4(n.getProvider("auth-internal")),new u4(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),wn(O1,"3.13.0",t),wn(O1,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebasestorage.googleapis.com",kx="storageBucket",i$=2*60*1e3,o$=10*60*1e3,a$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends Pn{constructor(e,n,r=0){super(lf(e),`Firebase Storage: ${n} (${lf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function lf(t){return"storage/"+t}function Fy(){const t="An unknown error occurred, please check the error payload for server response.";return new _e(ue.UNKNOWN,t)}function l$(t){return new _e(ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u$(t){return new _e(ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _e(ue.UNAUTHENTICATED,t)}function h$(){return new _e(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d$(t){return new _e(ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Rx(){return new _e(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ax(){return new _e(ue.CANCELED,"User canceled the upload/download.")}function f$(t){return new _e(ue.INVALID_URL,"Invalid URL '"+t+"'.")}function p$(t){return new _e(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m$(){return new _e(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kx+"' property when initializing the app?")}function Px(){return new _e(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g$(){return new _e(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y$(){return new _e(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v$(t){return new _e(ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function om(t){return new _e(ue.INVALID_ARGUMENT,t)}function Nx(){return new _e(ue.APP_DELETED,"The Firebase app was deleted.")}function w$(t){return new _e(ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function na(t,e){return new _e(ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Io(t){throw new _e(ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nt.makeFromUrl(e,n)}catch{return new Nt(e,"")}if(r.path==="")return r;throw p$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${s}/o${d}`,"i"),p={bucket:1,path:3},w=n===Ix?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${w}/${s}/${S}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:f,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<y.length;_++){const T=y[_],k=T.regex.exec(e);if(k){const I=k[T.indices.bucket];let C=k[T.indices.path];C||(C=""),r=new Nt(I,C),T.postModify(r);break}}if(r==null)throw f$(e);return r}}class E${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function h(S){s=setTimeout(()=>{s=null,t(f,l())},S)}function d(){i&&clearTimeout(i)}function f(S,...v){if(u){d();return}if(S){d(),c.call(null,S,...v);return}if(l()||o){d(),c.call(null,S,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let p=!1;function w(S){p||(p=!0,d(),!u&&(s!==null?(S||(a=2),clearTimeout(s),h(0)):S||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function S$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){return t!==void 0}function C$(t){return typeof t=="function"}function x$(t){return typeof t=="object"&&!Array.isArray(t)}function Xh(t){return typeof t=="string"||t instanceof String}function pw(t){return jy()&&t instanceof Blob}function jy(){return typeof Blob<"u"&&!SD()}function mw(t,e,n,r){if(r<e)throw om(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw om(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Dx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r,s,i,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new au(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===_s.NO_ERROR,l=i.getStatus();if(!a||Lx(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===_s.ABORT;r(!1,new au(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new au(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());T$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Fy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Nx():Ax();o(l)}else{const l=Rx();o(l)}};this.canceled_?n(!1,new au(!1,null,!0)):this.backoffId_=_$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class au{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N$(t,e,n,r,s,i,o=!0){const a=Dx(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return A$(u,e),k$(u,n),R$(u,i),P$(u,r),new I$(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L$(...t){const e=D$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jy())return new Blob(t);throw new _e(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){if(typeof atob>"u")throw v$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uf{constructor(e,n){this.data=e,this.contentType=n||null}}function M$(t,e){switch(t){case gn.RAW:return new uf(Ox(e));case gn.BASE64:case gn.BASE64URL:return new uf(bx(t,e));case gn.DATA_URL:return new uf(U$(e),F$(e))}throw Fy()}function Ox(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $$(t){let e;try{e=decodeURIComponent(t)}catch{throw na(gn.DATA_URL,"Malformed data URL.")}return Ox(e)}function bx(t,e){switch(t){case gn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw na(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw na(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=b$(e)}catch(s){throw s.message.includes("polyfill")?s:na(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Mx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw na(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=j$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U$(t){const e=new Mx(t);return e.base64?bx(gn.BASE64,e.rest):$$(e.rest)}function F$(t){return new Mx(t).contentType}function j$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){let r=0,s="";pw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(pw(this.data_)){const r=this.data_,s=O$(r,e,n);return s===null?null:new gr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gr(r,!0)}}static getBlob(...e){if(jy()){const n=e.map(r=>r instanceof gr?r.data_:r);return new gr(L$.apply(null,n))}else{const n=e.map(o=>Xh(o)?M$(gn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new gr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){let e;try{e=JSON.parse(t)}catch{return null}return x$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ux(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e){return e}class ct{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||z$}}let lu=null;function H$(t){return!Xh(t)||t.length<2?t:Ux(t)}function Fx(){if(lu)return lu;const t=[];t.push(new ct("bucket")),t.push(new ct("generation")),t.push(new ct("metageneration")),t.push(new ct("name","fullPath",!0));function e(i,o){return H$(o)}const n=new ct("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ct("size");return s.xform=r,t.push(s),t.push(new ct("timeCreated")),t.push(new ct("updated")),t.push(new ct("md5Hash",null,!0)),t.push(new ct("cacheControl",null,!0)),t.push(new ct("contentDisposition",null,!0)),t.push(new ct("contentEncoding",null,!0)),t.push(new ct("contentLanguage",null,!0)),t.push(new ct("contentType",null,!0)),t.push(new ct("metadata","customMetadata",!0)),lu=t,lu}function W$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Nt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function q$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return W$(r,t),r}function jx(t,e,n){const r=$x(e);return r===null?null:q$(t,r,n)}function K$(t,e,n,r){const s=$x(e);if(s===null||!Xh(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),f=Il(d,n,r),p=Dx({alt:"media",token:u});return f+p})[0]}function Vx(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class fo{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){if(!t)throw Fy()}function Vy(t,e){function n(r,s){const i=jx(t,s,e);return Hn(i!==null),i}return n}function G$(t,e){function n(r,s){const i=jx(t,s,e);return Hn(i!==null),K$(i,s,t.host,t._protocol)}return n}function kl(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=h$():s=c$():n.getStatus()===402?s=u$(t.bucket):n.getStatus()===403?s=d$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Bx(t){const e=kl(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=l$(t.path)),i.serverResponse=s.serverResponse,i}return n}function Q$(t,e,n){const r=e.fullServerUrl(),s=Il(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new fo(s,i,Vy(t,n),o);return a.errorHandler=Bx(e),a}function X$(t,e,n){const r=e.fullServerUrl(),s=Il(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new fo(s,i,G$(t,n),o);return a.errorHandler=Bx(e),a}function Y$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zx(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Y$(null,e)),r}function J$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let _=0;_<2;_++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=zx(e,r,s),c=Vx(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=gr.getBlob(h,r,d);if(f===null)throw Px();const p={name:u.fullPath},w=Il(i,t.host,t._protocol),S="POST",v=t.maxUploadRetryTime,g=new fo(w,S,Vy(t,n),v);return g.urlParams=p,g.headers=o,g.body=f.uploadData(),g.errorHandler=kl(e),g}class Oc{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function By(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Hn(!1)}return Hn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Z$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=zx(e,r,s),a={name:o.fullPath},l=Il(i,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Vx(o,n),d=t.maxUploadRetryTime;function f(w){By(w);let S;try{S=w.getResponseHeader("X-Goog-Upload-URL")}catch{Hn(!1)}return Hn(Xh(S)),S}const p=new fo(l,u,f,d);return p.urlParams=a,p.headers=c,p.body=h,p.errorHandler=kl(e),p}function eU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const c=By(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hn(!1)}h||Hn(!1);const d=Number(h);return Hn(!isNaN(d)),new Oc(d,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new fo(n,o,i,a);return l.headers=s,l.errorHandler=kl(e),l}const gw=256*1024;function tU(t,e,n,r,s,i,o,a){const l=new Oc(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw g$();const u=l.total-l.current;let c=u;s>0&&(c=Math.min(c,s));const h=l.current,d=h+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,d);if(w===null)throw Px();function S(_,T){const k=By(_,["active","final"]),I=l.current+c,C=r.size();let O;return k==="final"?O=Vy(e,i)(_,T):O=null,new Oc(I,C,k==="final",O)}const v="POST",g=e.maxUploadRetryTime,y=new fo(n,v,S,g);return y.headers=p,y.body=w.uploadData(),y.progressCallback=a||null,y.errorHandler=kl(t),y}const vt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cf(t){switch(t){case"running":case"pausing":case"canceling":return vt.RUNNING;case"paused":return vt.PAUSED;case"success":return vt.SUCCESS;case"canceled":return vt.CANCELED;case"error":return vt.ERROR;default:return vt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r){if(C$(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Io("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Io("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Io("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Io("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Io("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sU extends rU{initXhr(){this.xhr_.responseType="text"}}function Js(){return new sU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Fx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Lx(s.status,[]))if(i)s=Rx();else{this.sleepTime=Math.max(this.sleepTime*2,a$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Z$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Js,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=eU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Js,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=gw*this._chunkMultiplier,n=new Oc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=tU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Js,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){gw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Q$(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Js,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=J$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Js,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ax(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=cf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new nU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cf(this._state)){case vt.SUCCESS:Qs(this._resolve.bind(null,this.snapshot))();break;case vt.CANCELED:case vt.ERROR:const n=this._reject;Qs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cf(this._state)){case vt.RUNNING:case vt.PAUSED:e.next&&Qs(e.next.bind(e,this.snapshot))();break;case vt.SUCCESS:e.complete&&Qs(e.complete.bind(e))();break;case vt.CANCELED:case vt.ERROR:e.error&&Qs(e.error.bind(e,this._error))();break;default:e.error&&Qs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this._service=e,n instanceof Nt?this._location=n:this._location=Nt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Os(e,n)}get root(){const e=new Nt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ux(this._location.path)}get storage(){return this._service}get parent(){const e=V$(this._location.path);if(e===null)return null;const n=new Nt(this._location.bucket,e);return new Os(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw w$(e)}}function oU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iU(t,new gr(e),n)}function aU(t){t._throwIfRoot("getDownloadURL");const e=X$(t.storage,t._location,Fx());return t.storage.makeRequestWithTokens(e,Js).then(n=>{if(n===null)throw y$();return n})}function lU(t,e){const n=B$(t._location.path,e),r=new Nt(t._location.bucket,n);return new Os(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return/^[A-Za-z]+:\/\//.test(t)}function cU(t,e){return new Os(t,e)}function Hx(t,e){if(t instanceof zy){const n=t;if(n._bucket==null)throw m$();const r=new Os(n,n._bucket);return e!=null?Hx(r,e):r}else return e!==void 0?lU(t,e):t}function hU(t,e){if(e&&uU(e)){if(t instanceof zy)return cU(t,e);throw om("To use ref(service, url), the first argument must be a Storage instance.")}else return Hx(t,e)}function yw(t,e){const n=e==null?void 0:e[kx];return n==null?null:Nt.makeFromBucketSpec(n,t)}function dU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:_T(s,t.app.options.projectId))}class zy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Ix,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i$,this._maxUploadRetryTime=o$,this._requests=new Set,s!=null?this._bucket=Nt.makeFromBucketSpec(s,this._host):this._bucket=yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nt.makeFromBucketSpec(this._url,e):this._bucket=yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Os(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new E$(Nx());{const o=N$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vw="@firebase/storage",ww="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="storage";function fU(t,e,n){return t=Ce(t),oU(t,e,n)}function pU(t){return t=Ce(t),aU(t)}function mU(t,e){return t=Ce(t),hU(t,e)}function gU(t=Dg(),e){t=Ce(t);const r=mh(t,Wx).getImmediate({identifier:e}),s=vT("storage");return s&&yU(r,...s),r}function yU(t,e,n,r={}){dU(t,e,n,r)}function vU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zy(n,r,s,e,Us)}function wU(){Rs(new Fr(Wx,vU,"PUBLIC").setMultipleInstances(!0)),wn(vw,ww,""),wn(vw,ww,"esm2017")}wU();const EU={apiKey:"AIzaSyAzprVs3tA3oUsLUjr0k__RWuf5uGWt8nM",authDomain:"filmsbase-bea7b.firebaseapp.com",projectId:"filmsbase-bea7b",storageBucket:"filmsbase-bea7b.appspot.com",messagingSenderId:"350143607848",appId:"1:350143607848:web:8a1a9944e08d52a0cab11d",measurementId:"G-B08QMRKV1W"},_U=CT(EU),Jr=V3(),SU=gU(_U),qx=new bn;qx.setCustomParameters({prompt:"select_account"});const Xt=Qb(),TU=()=>sb(Xt,qx),CU=async(t,e)=>await DO(Xt,t,e),xU=async(t,e)=>await NO(Xt,t,e),Hy=async(t,e)=>{if(!t)return;const n=Yr(Jr,"users",t.uid);if(!(await ho(n)).exists())try{e&&await Vg(t,{displayName:e}),await xl(n,{userLists:[{title:" ...",data:[]}]})}catch(s){console.log("createUserDocumentFromAuth error:"),console.log(s)}return n},IU=async()=>await $O(Xt),kU=async t=>{console.log(t);const e=new Date().getTime()+t.name,n=mU(SU,e),r=fU(n,t);r.on("state_changed",s=>{const i=s.bytesTransferred/s.totalBytes*100;switch(console.log("Upload is "+i+"% done"),s.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},s=>{console.log(s)},()=>{pU(r.snapshot.ref).then(s=>{Vg(Xt.currentUser,{photoURL:s})})})},RU=async t=>{Vg(Xt.currentUser,{displayName:t})},AU=t=>MO(Xt,t),PU=async t=>{const e={title:t,data:[]},n=Yr(Jr,"users",Xt.currentUser.uid);(await ho(n)).data().userLists.find(s=>s.title===e.title)||await r$(n,{userLists:s$(e)})},NU=async t=>{const e=Yr(Jr,"users",Xt.currentUser.uid),n=(await ho(e)).data().userLists;await xl(e,{userLists:n.toSpliced(t,1)})},DU=async(t,e)=>{const n=Yr(Jr,"users",Xt.currentUser.uid),r=(await ho(n)).data().userLists,s={...r[t],title:e};await xl(n,{userLists:r.toSpliced(t,1,s)})},LU=async(t,e,n)=>{const r=Yr(Jr,"users",Xt.currentUser.uid),s=(await ho(r)).data().userLists;s[t].data.push({mediaType:n,id:e}),await xl(r,{userLists:s})},OU=async(t,e,n)=>{const r=Yr(Jr,"users",Xt.currentUser.uid),s=(await ho(r)).data().userLists;s[t].data=s[t].data.filter(i=>i.id!==e&&i.mediaType!==n),await xl(r,{userLists:s})},bU=(t,e)=>{switch(e.type){case"LOGIN":return{currentUser:e.payload};case"LOGOUT":return{currentUser:null};default:return t}},MU={currentUser:null},Kx=E.createContext(),$U=({children:t})=>{const[e,n]=E.useReducer(bU,MU),{currentUser:r}=e;return E.useEffect(()=>AU(i=>{i&&Hy(i),n({type:"LOGIN",payload:i})}),[]),m.jsx(Kx.Provider,{value:{currentUser:r,dispatch:n},children:t})},po=()=>E.useContext(Kx),UU=()=>{const{baseName:t}=Ee();return m.jsx("div",{className:"logo-container",children:m.jsxs(Tg,{to:t,children:[m.jsx("img",{src:`${t}assets/images/logo.svg`,alt:"FilmsBase"}),m.jsxs("h3",{children:["FILMS",m.jsx("span",{className:"logo-accent",children:"BASE"})]})]})})},FU=()=>{const{lang:t,mediaType:e,dispatch:n}=Ee();return m.jsxs("div",{className:"media-type-links",children:[m.jsx("button",{className:e==="movie"?"active":"",onClick:()=>{n({type:"SET_MEDIA_TYPE",payload:"movie"})},children:t==="en"?"Movies":""}),m.jsx("button",{className:e==="tv"?"active":"",onClick:()=>{n({type:"SET_MEDIA_TYPE",payload:"tv"})},children:t==="en"?"TV Shows":""})]})},jU=()=>{const{mediaType:t,lang:e,baseName:n}=Ee(),r=e==="en"?["Find","movie...","tv show..."]:["","...","..."],s=ah(),[i,o]=E.useState(""),a=()=>{i&&(s(`${n}search/${i}`),o(""))};return m.jsx("div",{className:"search-box-container",children:m.jsxs("form",{className:"search-box-form",onSubmit:l=>{l.preventDefault(),a()},children:[m.jsx("button",{className:"search-button",children:m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2ZM0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9Z",fill:"var(--primary-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9428 13.9428C14.3333 13.5523 14.9665 13.5523 15.357 13.9428L19.707 18.2928C20.0975 18.6833 20.0975 19.3165 19.707 19.707C19.3165 20.0975 18.6833 20.0975 18.2928 19.707L13.9428 15.357C13.5523 14.9665 13.5523 14.3333 13.9428 13.9428Z",fill:"var(--primary-color)"})]})}),m.jsx("input",{type:"text",className:"search-box-input",placeholder:`${r[0]} ${t==="movie"?r[1]:r[2]}`,value:i,onChange:l=>o(l.target.value)})]})})},VU=()=>localStorage.getItem("theme")||"dark",Gx=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Yh=E.createContext({}),Jh=E.createContext(null),Zh=typeof document<"u",Ha=Zh?E.useLayoutEffect:E.useEffect,Qx=E.createContext({strict:!1});function BU(t,e,n,r){const{visualElement:s}=E.useContext(Yh),i=E.useContext(Qx),o=E.useContext(Jh),a=E.useContext(Gx).reducedMotion,l=E.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return E.useInsertionEffect(()=>{u&&u.update(n,o)}),Ha(()=>{u&&u.render()}),E.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Ha:E.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function fi(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zU(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fi(n)&&(n.current=r))},[e])}function Wa(t){return typeof t=="string"||Array.isArray(t)}function ed(t){return typeof t=="object"&&typeof t.start=="function"}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qy=["initial",...Wy];function td(t){return ed(t.animate)||qy.some(e=>Wa(t[e]))}function Xx(t){return!!(td(t)||t.variants)}function HU(t,e){if(td(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wa(n)?n:void 0,animate:Wa(r)?r:void 0}}return t.inherit!==!1?e:{}}function WU(t){const{initial:e,animate:n}=HU(t,E.useContext(Yh));return E.useMemo(()=>({initial:e,animate:n}),[Ew(e),Ew(n)])}function Ew(t){return Array.isArray(t)?t.join(" "):t}const _w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qa={};for(const t in _w)qa[t]={isEnabled:e=>_w[t].some(n=>!!e[n])};function qU(t){for(const e in t)qa[e]={...qa[e],...t[e]}}const Ky=E.createContext({}),Yx=E.createContext({}),KU=Symbol.for("motionComponentSymbol");function GU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&qU(t);function i(a,l){let u;const c={...E.useContext(Gx),...a,layoutId:QU(a)},{isStatic:h}=c,d=WU(a),f=r(a,h);if(!h&&Zh){d.visualElement=BU(s,f,c,e);const p=E.useContext(Yx),w=E.useContext(Qx).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,w,t,p))}return E.createElement(Yh.Provider,{value:d},u&&d.visualElement?E.createElement(u,{visualElement:d.visualElement,...c}):null,n(s,a,zU(f,d.visualElement,l),f,h,d.visualElement))}const o=E.forwardRef(i);return o[KU]=s,o}function QU({layoutId:t}){const e=E.useContext(Ky).id;return e&&t!==void 0?e+"-"+t:t}function XU(t){function e(r,s={}){return GU(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const YU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gy(t){return typeof t!="string"||t.includes("-")?!1:!!(YU.indexOf(t)>-1||/[A-Z]/.test(t))}const bc={};function JU(t){Object.assign(bc,t)}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Rl);function Jx(t,{layout:e,layoutId:n}){return Hs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bc[t]||t==="opacity")}const It=t=>!!(t&&t.getVelocity),ZU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e9=Rl.length;function t9(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<e9;o++){const a=Rl[o];if(t[a]!==void 0){const l=ZU[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const Zx=t=>e=>typeof e=="string"&&e.startsWith(t),eI=Zx("--"),am=Zx("var(--"),n9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,r9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zr=(t,e,n)=>Math.min(Math.max(n,t),e),Ws={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ra={...Ws,transform:t=>zr(0,1,t)},uu={...Ws,default:1},sa=t=>Math.round(t*1e5)/1e5,nd=/(-)?([\d]*\.?[\d])+/g,tI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,s9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Al(t){return typeof t=="string"}const Pl=t=>({test:e=>Al(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ar=Pl("deg"),xn=Pl("%"),F=Pl("px"),i9=Pl("vh"),o9=Pl("vw"),Sw={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},Tw={...Ws,transform:Math.round},nI={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,size:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:uu,scaleX:uu,scaleY:uu,scaleZ:uu,skew:ar,skewX:ar,skewY:ar,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:ra,originX:Sw,originY:Sw,originZ:F,zIndex:Tw,fillOpacity:ra,strokeOpacity:ra,numOctaves:Tw};function Qy(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(eI(h)){i[h]=d;continue}const f=nI[h],p=r9(d,f);if(Hs.has(h)){if(l=!0,o[h]=p,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=p):s[h]=p}if(e.transform||(l||r?s.transform=t9(t.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;s.transformOrigin=`${h} ${d} ${f}`}}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rI(t,e,n){for(const r in e)!It(e[r])&&!Jx(r,n)&&(t[r]=e[r])}function a9({transformTemplate:t},e,n){return E.useMemo(()=>{const r=Xy();return Qy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function l9(t,e,n){const r=t.style||{},s={};return rI(s,r,t),Object.assign(s,a9(t,e,n)),t.transformValues?t.transformValues(s):s}function u9(t,e,n){const r={},s=l9(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const c9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||c9.has(t)}let sI=t=>!Mc(t);function h9(t){t&&(sI=e=>e.startsWith("on")?!Mc(e):t(e))}try{h9(require("@emotion/is-prop-valid").default)}catch{}function d9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(sI(s)||n===!0&&Mc(s)||!e&&!Mc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Cw(t,e,n){return typeof t=="string"?t:F.transform(e+n*t)}function f9(t,e,n){const r=Cw(e,t.x,t.width),s=Cw(n,t.y,t.height);return`${r} ${s}`}const p9={offset:"stroke-dashoffset",array:"stroke-dasharray"},m9={offset:"strokeDashoffset",array:"strokeDasharray"};function g9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?p9:m9;t[i.offset]=F.transform(-r);const o=F.transform(e),a=F.transform(n);t[i.array]=`${o} ${a}`}function Yy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if(Qy(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:w}=t;f.transform&&(w&&(p.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=f9(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&g9(f,o,a,l,!1)}const iI=()=>({...Xy(),attrs:{}}),Jy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y9(t,e,n,r){const s=E.useMemo(()=>{const i=iI();return Yy(i,e,{enableHardwareAcceleration:!1},Jy(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};rI(i,t.style,t),s.style={...i,...s.style}}return s}function v9(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Gy(n)?y9:u9)(r,i,o,n),c={...d9(r,typeof n=="string",t),...l,ref:s},{children:h}=r,d=E.useMemo(()=>It(h)?h.get():h,[h]);return E.createElement(n,{...c,children:d})}}const Zy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function oI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const aI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lI(t,e,n,r){oI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(aI.has(s)?s:Zy(s),e.attrs[s])}function ev(t,e){const{style:n}=t,r={};for(const s in n)(It(n[s])||e.style&&It(e.style[s])||Jx(s,t))&&(r[s]=n[s]);return r}function uI(t,e){const n=ev(t,e);for(const r in t)if(It(t[r])||It(e[r])){const s=Rl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function tv(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function nv(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const $c=t=>Array.isArray(t),w9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),E9=t=>$c(t)?t[t.length-1]||0:t;function Mu(t){const e=It(t)?t.get():t;return w9(e)?e.toValue():e}function _9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:S9(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const cI=t=>(e,n)=>{const r=E.useContext(Yh),s=E.useContext(Jh),i=()=>_9(t,e,r,s);return n?i():nv(i)};function S9(t,e,n,r){const s={},i=r(t,{});for(const d in i)s[d]=Mu(i[d]);let{initial:o,animate:a}=t;const l=td(t),u=Xx(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!ed(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=tv(t,f);if(!p)return;const{transitionEnd:w,transition:S,...v}=p;for(const g in v){let y=v[g];if(Array.isArray(y)){const _=c?y.length-1:0;y=y[_]}y!==null&&(s[g]=y)}for(const g in w)s[g]=w[g]}),s}const T9={useVisualState:cI({scrapeMotionValuesFromProps:uI,createRenderState:iI,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Yy(n,r,{enableHardwareAcceleration:!1},Jy(e.tagName),t.transformTemplate),lI(e,n)}})},C9={useVisualState:cI({scrapeMotionValuesFromProps:ev,createRenderState:Xy})};function x9(t,{forwardMotionProps:e=!1},n,r){return{...Gy(t)?T9:C9,preloadedFeatures:n,useRender:v9(e),createVisualElement:r,Component:t}}function Vn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const hI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function rd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const I9=t=>e=>hI(e)&&t(e,rd(e));function Wn(t,e,n,r){return Vn(t,e,I9(n),r)}const k9=(t,e)=>n=>e(t(n)),br=(...t)=>t.reduce(k9);function dI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const xw=dI("dragHorizontal"),Iw=dI("dragVertical");function fI(t){let e=!1;if(t==="y")e=Iw();else if(t==="x")e=xw();else{const n=xw(),r=Iw();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function pI(){const t=fI(!0);return t?(t(),!1):!0}class Zr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function R9(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&s,d=h?e:n;return u&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&s&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const pe={delta:0,timestamp:0,isProcessing:!1},A9=40;let lm=!0,Ka=!1;const sd=["read","update","preRender","render","postRender"],Pi=sd.reduce((t,e)=>(t[e]=R9(()=>Ka=!0),t),{}),P9=t=>Pi[t].process(pe),mI=t=>{Ka=!1,pe.delta=lm?1e3/60:Math.max(Math.min(t-pe.timestamp,A9),1),pe.timestamp=t,pe.isProcessing=!0,sd.forEach(P9),pe.isProcessing=!1,Ka&&(lm=!1,requestAnimationFrame(mI))},N9=()=>{Ka=!0,lm=!0,pe.isProcessing||requestAnimationFrame(mI)},he=sd.reduce((t,e)=>{const n=Pi[e];return t[e]=(r,s=!1,i=!1)=>(Ka||N9(),n.schedule(r,s,i)),t},{});function nr(t){sd.forEach(e=>Pi[e].cancel(t))}function kw(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.type==="touch"||pI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&he.update(()=>a[r](i,o))};return Wn(t.current,n,s,{passive:!t.getProps()[r]})}class D9 extends Zr{mount(){this.unmount=br(kw(this.node,!0),kw(this.node,!1))}unmount(){}}class L9 extends Zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=br(Vn(this.node.current,"focus",()=>this.onFocus()),Vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gI=(t,e)=>e?t===e?!0:gI(t,e.parentElement):!1,Me=t=>t;function hf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,rd(n))}class O9 extends Zr{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Wn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();he.update(()=>{gI(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Wn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=br(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||hf("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&he.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Vn(this.node.current,"keyup",o),hf("down",(a,l)=>{this.startPress(a,l)})},n=Vn(this.node.current,"keydown",e),r=()=>{this.isPressing&&hf("cancel",(i,o)=>this.cancelPress(i,o))},s=Vn(this.node.current,"blur",r);this.removeAccessibleListeners=br(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&he.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&he.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Wn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=br(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const um=new WeakMap,df=new WeakMap,b9=t=>{const e=um.get(t.target);e&&e(t)},M9=t=>{t.forEach(b9)};function $9({root:t,...e}){const n=t||document;df.has(n)||df.set(n,{});const r=df.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(M9,{root:t,...e})),r[s]}function U9(t,e,n){const r=$9(e);return um.set(t,n),r.observe(t),()=>{um.delete(t),r.unobserve(t)}}const F9={some:0,all:1};class j9 extends Zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:F9[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return U9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(V9(e,n))&&this.startObserver()}unmount(){}}function V9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B9={inView:{Feature:j9},tap:{Feature:O9},focus:{Feature:L9},hover:{Feature:D9}};function yI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function z9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function H9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function id(t,e,n){const r=t.getProps();return tv(r,e,n!==void 0?n:r.custom,z9(t),H9(t))}const W9="framerAppearId",q9="data-"+Zy(W9);let K9=Me,rv=Me;const Mr=t=>t*1e3,qn=t=>t/1e3,G9={current:!1},vI=t=>Array.isArray(t)&&typeof t[0]=="number";function wI(t){return!!(!t||typeof t=="string"&&EI[t]||vI(t)||Array.isArray(t)&&t.every(wI))}const jo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function _I(t){if(t)return vI(t)?jo(t):Array.isArray(t)?t.map(_I):EI[t]}function Q9(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=_I(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Rw={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ff={},SI={};for(const t in Rw)SI[t]=()=>(ff[t]===void 0&&(ff[t]=Rw[t]()),ff[t]);function X9(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const TI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Y9=1e-7,J9=12;function Z9(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=TI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Y9&&++a<J9);return o}function Nl(t,e,n,r){if(t===e&&n===r)return Me;const s=i=>Z9(i,0,1,t,n);return i=>i===0||i===1?i:TI(s(i),e,r)}const eF=Nl(.42,0,1,1),tF=Nl(0,0,.58,1),CI=Nl(.42,0,.58,1),nF=t=>Array.isArray(t)&&typeof t[0]!="number",xI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,II=t=>e=>1-t(1-e),kI=t=>1-Math.sin(Math.acos(t)),sv=II(kI),rF=xI(sv),RI=Nl(.33,1.53,.69,.99),iv=II(RI),sF=xI(iv),iF=t=>(t*=2)<1?.5*iv(t):.5*(2-Math.pow(2,-10*(t-1))),oF={linear:Me,easeIn:eF,easeInOut:CI,easeOut:tF,circIn:kI,circInOut:rF,circOut:sv,backIn:iv,backInOut:sF,backOut:RI,anticipate:iF},Aw=t=>{if(Array.isArray(t)){rv(t.length===4);const[e,n,r,s]=t;return Nl(e,n,r,s)}else if(typeof t=="string")return oF[t];return t},ov=(t,e)=>n=>!!(Al(n)&&s9.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),AI=(t,e,n)=>r=>{if(!Al(r))return r;const[s,i,o,a]=r.match(nd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},aF=t=>zr(0,255,t),pf={...Ws,transform:t=>Math.round(aF(t))},gs={test:ov("rgb","red"),parse:AI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pf.transform(t)+", "+pf.transform(e)+", "+pf.transform(n)+", "+sa(ra.transform(r))+")"};function lF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const cm={test:ov("#"),parse:lF,transform:gs.transform},pi={test:ov("hsl","hue"),parse:AI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform(sa(e))+", "+xn.transform(sa(n))+", "+sa(ra.transform(r))+")"},ht={test:t=>gs.test(t)||cm.test(t)||pi.test(t),parse:t=>gs.test(t)?gs.parse(t):pi.test(t)?pi.parse(t):cm.parse(t),transform:t=>Al(t)?t:t.hasOwnProperty("red")?gs.transform(t):pi.transform(t)},ge=(t,e,n)=>-n*t+n*e+t;function mf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=mf(l,a,t+1/3),i=mf(l,a,t),o=mf(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const gf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},cF=[cm,gs,pi],hF=t=>cF.find(e=>e.test(t));function Pw(t){const e=hF(t);let n=e.parse(t);return e===pi&&(n=uF(n)),n}const PI=(t,e)=>{const n=Pw(t),r=Pw(e),s={...n};return i=>(s.red=gf(n.red,r.red,i),s.green=gf(n.green,r.green,i),s.blue=gf(n.blue,r.blue,i),s.alpha=ge(n.alpha,r.alpha,i),gs.transform(s))};function dF(t){var e,n;return isNaN(t)&&Al(t)&&(((e=t.match(nd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(tI))===null||n===void 0?void 0:n.length)||0)>0}const NI={regex:n9,countKey:"Vars",token:"${v}",parse:Me},DI={regex:tI,countKey:"Colors",token:"${c}",parse:ht.parse},LI={regex:nd,countKey:"Numbers",token:"${n}",parse:Ws.parse};function yf(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Uc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&yf(n,NI),yf(n,DI),yf(n,LI),n}function OI(t){return Uc(t).values}function bI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Uc(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(NI.token,o[l]):l<r+n?a=a.replace(DI.token,ht.transform(o[l])):a=a.replace(LI.token,sa(o[l]));return a}}const fF=t=>typeof t=="number"?0:t;function pF(t){const e=OI(t);return bI(t)(e.map(fF))}const Hr={test:dF,parse:OI,createTransformer:bI,getAnimatableNone:pF},MI=(t,e)=>n=>`${n>0?e:t}`;function $I(t,e){return typeof t=="number"?n=>ge(t,e,n):ht.test(t)?PI(t,e):t.startsWith("var(")?MI(t,e):FI(t,e)}const UI=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>$I(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},mF=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=$I(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},FI=(t,e)=>{const n=Hr.createTransformer(e),r=Uc(t),s=Uc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?br(UI(r.values,s.values),n):MI(t,e)},Ga=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Nw=(t,e)=>n=>ge(t,e,n);function gF(t){return typeof t=="number"?Nw:typeof t=="string"?ht.test(t)?PI:FI:Array.isArray(t)?UI:typeof t=="object"?mF:Nw}function yF(t,e,n){const r=[],s=n||gF(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Me:e;a=br(l,a)}r.push(a)}return r}function jI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(rv(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yF(e,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Ga(t[c],t[c+1],u);return o[c](h)};return n?u=>l(zr(t[0],t[i-1],u)):l}function vF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ga(0,e,r);t.push(ge(n,1,s))}}function wF(t){const e=[0];return vF(e,t.length-1),e}function EF(t,e){return t.map(n=>n*e)}function _F(t,e){return t.map(()=>e||CI).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nF(r)?r.map(Aw):Aw(r),i={done:!1,value:e[0]},o=EF(n&&n.length===e.length?n:wF(e),t),a=jI(o,e,{ease:Array.isArray(s)?s:_F(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function VI(t,e){return e?t*(1e3/e):0}const SF=5;function BI(t,e,n){const r=Math.max(e-SF,0);return VI(n-t(r),e-r)}const vf=.001,TF=.01,Dw=10,CF=.05,xF=1;function IF({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;K9(t<=Mr(Dw));let o=1-e;o=zr(CF,xF,o),t=zr(TF,Dw,qn(t)),o<1?(s=u=>{const c=u*o,h=c*t,d=c-n,f=hm(u,o),p=Math.exp(-h);return vf-d/f*p},i=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),w=hm(Math.pow(u,2),o);return(-s(u)+vf>0?-1:1)*((d-f)*p)/w}):(s=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-vf+c*h},i=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=RF(s,i,a);if(t=Mr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const kF=12;function RF(t,e,n){let r=n;for(let s=1;s<kF;s++)r=r-t(r)/e(r);return r}function hm(t,e){return t*Math.sqrt(1-e*e)}const AF=["duration","bounce"],PF=["stiffness","damping","mass"];function Lw(t,e){return e.some(n=>t[n]!==void 0)}function NF(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Lw(t,PF)&&Lw(t,AF)){const n=IF(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function zI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=NF(r),f=c?-qn(c):0,p=l/(2*Math.sqrt(a*u)),w=i-s,S=qn(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let g;if(p<1){const y=hm(S,p);g=_=>{const T=Math.exp(-p*S*_);return i-T*((f+p*S*w)/y*Math.sin(y*_)+w*Math.cos(y*_))}}else if(p===1)g=y=>i-Math.exp(-S*y)*(w+(f+S*w)*y);else{const y=S*Math.sqrt(p*p-1);g=_=>{const T=Math.exp(-p*S*_),k=Math.min(y*_,300);return i-T*((f+p*S*w)*Math.sinh(k)+y*w*Math.cosh(k))/y}}return{calculatedDuration:d&&h||null,next:y=>{const _=g(y);if(d)o.done=y>=h;else{let T=f;y!==0&&(p<1?T=BI(g,y,_):T=0);const k=Math.abs(T)<=n,I=Math.abs(i-_)<=e;o.done=k&&I}return o.value=o.done?i:_,o}}}function Ow({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const S=h+w,v=o===void 0?S:o(S);v!==S&&(w=v-h);const g=C=>-w*Math.exp(-C/r),y=C=>v+g(C),_=C=>{const O=g(C),$=y(C);d.done=Math.abs(O)<=u,d.value=d.done?v:$};let T,k;const I=C=>{f(d.value)&&(T=C,k=zI({keyframes:[d.value,p(d.value)],velocity:BI(y,C,d.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:C=>{let O=!1;return!k&&T===void 0&&(O=!0,_(C),I(C)),T!==void 0&&C>T?k.next(C-T):(!O&&_(C),d)}}}const DF=t=>{const e=({timestamp:n})=>t(n);return{start:()=>he.update(e,!0),stop:()=>nr(e),now:()=>pe.isProcessing?pe.timestamp:performance.now()}},bw=2e4;function Mw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bw;)e+=n,r=t.next(e);return e>=bw?1/0:e}const LF={decay:Ow,inertia:Ow,tween:Fc,keyframes:Fc,spring:zI};function jc({autoplay:t=!0,delay:e=0,driver:n=DF,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,p=!1,w,S;const v=()=>{w&&w(),S=new Promise(H=>{w=H})};v();let g;const y=LF[s]||Fc;let _;y!==Fc&&typeof r[0]!="number"&&(_=jI([0,100],r,{clamp:!1}),r=[0,100]);const T=y({...d,keyframes:r});let k;a==="mirror"&&(k=y({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let I="idle",C=null,O=null,$=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=Mw(T));const{calculatedDuration:de}=T;let yt=1/0,Ut=1/0;de!==null&&(yt=de+o,Ut=yt*(i+1)-o);let Ie=0;const ke=H=>{if(O===null)return;f>0&&(O=Math.min(O,H)),C!==null?Ie=C:Ie=(H-O)*f;const fe=Ie-e,es=fe<0;Ie=Math.max(fe,0),I==="finished"&&C===null&&(Ie=Ut);let an=Ie,qs=T;if(i){const ld=Ie/yt;let Ll=Math.floor(ld),ns=ld%1;!ns&&ld>=1&&(ns=1),ns===1&&Ll--,Ll=Math.min(Ll,i+1);const gv=!!(Ll%2);gv&&(a==="reverse"?(ns=1-ns,o&&(ns-=o/yt)):a==="mirror"&&(qs=k));let yv=zr(0,1,ns);Ie>Ut&&(yv=a==="reverse"&&gv?1:0),an=yv*yt}const kt=es?{done:!1,value:r[0]}:qs.next(an);_&&(kt.value=_(kt.value));let{done:ts}=kt;!es&&de!==null&&(ts=Ie>=Ut);const vk=C===null&&(I==="finished"||I==="running"&&ts||f<0&&Ie<=0);return h&&h(kt.value),vk&&D(),kt},Ft=()=>{g&&g.stop(),g=void 0},on=()=>{I="idle",Ft(),v(),O=$=null},D=()=>{I="finished",c&&c(),Ft(),v()},z=()=>{if(p)return;g||(g=n(ke));const H=g.now();l&&l(),C!==null?O=H-C:(!O||I==="finished")&&(O=H),$=O,C=null,I="running",g.start()};t&&z();const K={then(H,fe){return S.then(H,fe)},get time(){return qn(Ie)},set time(H){H=Mr(H),Ie=H,C!==null||!g||f===0?C=H:O=g.now()-H/f},get duration(){const H=T.calculatedDuration===null?Mw(T):T.calculatedDuration;return qn(H)},get speed(){return f},set speed(H){H===f||!g||(f=H,K.time=qn(Ie))},get state(){return I},play:z,pause:()=>{I="paused",C=Ie},stop:()=>{p=!0,I!=="idle"&&(I="idle",u&&u(),on())},cancel:()=>{$!==null&&ke($),on()},complete:()=>{I="finished"},sample:H=>(O=0,ke(H))};return K}const OF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cu=10,bF=2e4,MF=(t,e)=>e.type==="spring"||t==="backgroundColor"||!wI(e.ease);function $F(t,e,{onUpdate:n,onComplete:r,...s}){if(!(SI.waapi()&&OF.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(v=>{a=v})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=s;if(MF(e,s)){const v=jc({...s,repeat:0,delay:0});let g={done:!1,value:c[0]};const y=[];let _=0;for(;!g.done&&_<bF;)g=v.sample(_),y.push(g.value),_+=cu;f=void 0,c=y,h=_-cu,d="linear"}const p=Q9(t.owner.current,e,c,{...s,duration:h,ease:d,times:f}),w=()=>p.cancel(),S=()=>{he.update(w),a(),u()};return p.onfinish=()=>{t.set(X9(c,s)),r&&r(),S()},{then(v,g){return l.then(v,g)},get time(){return qn(p.currentTime||0)},set time(v){p.currentTime=Mr(v)},get speed(){return p.playbackRate},set speed(v){p.playbackRate=v},get duration(){return qn(h)},play:()=>{o||(p.play(),nr(w))},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:v}=p;if(v){const g=jc({...s,autoplay:!1});t.setWithVelocity(g.sample(v-cu).value,g.sample(v).value,cu)}S()},complete:()=>p.finish(),cancel:S}}function UF({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Me,pause:Me,stop:Me,then:i=>(i(),Promise.resolve()),cancel:Me,complete:Me});return e?jc({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const FF={type:"spring",stiffness:500,damping:25,restSpeed:10},jF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VF={type:"keyframes",duration:.8},BF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zF=(t,{keyframes:e})=>e.length>2?VF:Hs.has(t)?t.startsWith("scale")?jF(e[1]):FF:BF,dm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url(")),HF=new Set(["brightness","contrast","saturate","opacity"]);function WF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(nd)||[];if(!r)return t;const s=n.replace(r,"");let i=HF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const qF=/([a-z-]*)\(.*?\)/g,fm={...Hr,getAnimatableNone:t=>{const e=t.match(qF);return e?e.map(WF).join(" "):t}},KF={...nI,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:fm,WebkitFilter:fm},av=t=>KF[t];function HI(t,e){let n=av(t);return n!==fm&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WI=t=>/^0[^.\s]+$/.test(t);function GF(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||WI(t)}function QF(t,e,n,r){const s=dm(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),GF(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=HI(e,a)}return i}function XF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function qI(t,e){return t[e]||t.default||t}const lv=(t,e,n,r={})=>s=>{const i=qI(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Mr(o);const l=QF(e,t,n,i),u=l[0],c=l[l.length-1],h=dm(t,u),d=dm(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(XF(i)||(f={...f,...zF(t,f)}),f.duration&&(f.duration=Mr(f.duration)),f.repeatDelay&&(f.repeatDelay=Mr(f.repeatDelay)),!h||!d||G9.current||i.type===!1)return UF(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=$F(e,t,f);if(p)return p}return jc(f)};function Vc(t){return!!(It(t)&&t.add)}const YF=t=>/^\-?\d*\.?\d+$/.test(t);function uv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hv{constructor(){this.subscriptions=[]}add(e){return uv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JF=t=>!isNaN(parseFloat(t));class ZF{constructor(e,n={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=pe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,he.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>he.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=JF(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hv);const r=this.events[e].add(n);return e==="change"?()=>{r(),he.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?VI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xi(t,e){return new ZF(t,e)}const KI=t=>e=>e.test(t),ej={test:t=>t==="auto",parse:t=>t},GI=[Ws,F,xn,ar,o9,i9,ej],ko=t=>GI.find(KI(t)),tj=[...GI,ht,Hr],nj=t=>tj.find(KI(t));function rj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xi(n))}function dv(t,e){const n=id(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=E9(i[o]);rj(t,o,a)}}function pm(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&dv(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{pm(i,e)})})}function sj(t,e){if(Array.isArray(e))return pm(t,e);if(typeof e=="string")return pm(t,[e]);dv(t,e)}function ij(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(YF(c)||WI(c))?c=parseFloat(c):!nj(c)&&Hr.test(u)&&(c=HI(l,u)),t.addValue(l,Xi(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function oj(t,e){return e?(e[t]||e.default||e).from:void 0}function aj(t,e,n){const r={};for(const s in t){const i=oj(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function lj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function QI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const d=t.getValue(h),f=a[h];if(!d||f===void 0||c&&lj(c,h))continue;const p={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!d.hasAnimated){const S=t.getProps()[q9];S&&(p.elapsed=window.HandoffAppearAnimations(S,h,d,he))}d.start(lv(h,d,f,t.shouldReduceMotion&&Hs.has(h)?{type:!1}:p));const w=d.animation;Vc(l)&&(l.add(h),w.then(()=>l.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&dv(t,o)}),u}function mm(t,e,n={}){const r=id(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(QI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=s;return uj(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function uj(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(cj).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(mm(u,e,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function cj(t,e){return t.sortNodePosition(e)}function XI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>mm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=mm(t,e,n);else{const s=typeof e=="function"?id(t,e,n.custom):e;r=Promise.all(QI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const hj=[...Wy].reverse(),dj=Wy.length;function fj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>XI(t,n,r)))}function pj(t){let e=fj(t);const n=gj();let r=!0;const s=(l,u)=>{const c=id(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},w=1/0;for(let v=0;v<dj;v++){const g=hj[v],y=n[g],_=c[g]!==void 0?c[g]:h[g],T=Wa(_),k=g===u?y.isActive:null;k===!1&&(w=v);let I=_===h[g]&&_!==c[g]&&T;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...p},!y.isActive&&k===null||!_&&!y.prevProp||ed(_)||typeof _=="boolean")continue;const C=mj(y.prevProp,_);let O=C||g===u&&y.isActive&&!I&&T||v>w&&T;const $=Array.isArray(_)?_:[_];let de=$.reduce(s,{});k===!1&&(de={});const{prevResolvedValues:yt={}}=y,Ut={...yt,...de},Ie=ke=>{O=!0,f.delete(ke),y.needsAnimating[ke]=!0};for(const ke in Ut){const Ft=de[ke],on=yt[ke];p.hasOwnProperty(ke)||(Ft!==on?$c(Ft)&&$c(on)?!yI(Ft,on)||C?Ie(ke):y.protectedKeys[ke]=!0:Ft!==void 0?Ie(ke):f.add(ke):Ft!==void 0&&f.has(ke)?Ie(ke):y.protectedKeys[ke]=!0)}y.prevProp=_,y.prevResolvedValues=de,y.isActive&&(p={...p,...de}),r&&t.blockInitialAnimation&&(O=!1),O&&!I&&d.push(...$.map(ke=>({animation:ke,options:{type:g,...l}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g);y!==void 0&&(v[g]=y)}),d.push({animation:v})}let S=!!d.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function mj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yI(e,t):!1}function rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gj(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class yj extends Zr{constructor(e){super(e),e.animationState||(e.animationState=pj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ed(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let vj=0;class wj extends Zr{constructor(){super(...arguments),this.id=vj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ej={animation:{Feature:yj},exit:{Feature:wj}},$w=(t,e)=>Math.abs(t-e);function _j(t,e){const n=$w(t.x,e.x),r=$w(t.y,e.y);return Math.sqrt(n**2+r**2)}class YI{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ef(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=_j(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=pe;this.history.push({...d,timestamp:f});const{onStart:p,onMove:w}=this.handlers;c||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=wf(c,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=Ef(u.type==="pointercancel"?this.lastMoveEventInfo:wf(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!hI(e))return;this.handlers=n,this.transformPagePoint=r;const s=rd(e),i=wf(s,this.transformPagePoint),{point:o}=i,{timestamp:a}=pe;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Ef(i,this.history)),this.removeListeners=br(Wn(window,"pointermove",this.handlePointerMove),Wn(window,"pointerup",this.handlePointerUp),Wn(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function wf(t,e){return e?{point:e(t.point)}:t}function Uw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ef({point:t},e){return{point:t,delta:Uw(t,JI(e)),offset:Uw(t,Sj(e)),velocity:Tj(e,.1)}}function Sj(t){return t[0]}function JI(t){return t[t.length-1]}function Tj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=JI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Mr(e)));)n--;if(!r)return{x:0,y:0};const i=qn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bt(t){return t.max-t.min}function gm(t,e=0,n=.01){return Math.abs(t-e)<=n}function Fw(t,e,n,r=.5){t.origin=r,t.originPoint=ge(e.min,e.max,t.origin),t.scale=bt(n)/bt(e),(gm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ge(n.min,n.max,t.origin)-t.originPoint,(gm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ia(t,e,n,r){Fw(t.x,e.x,n.x,r?r.originX:void 0),Fw(t.y,e.y,n.y,r?r.originY:void 0)}function jw(t,e,n){t.min=n.min+e.min,t.max=t.min+bt(e)}function Cj(t,e,n){jw(t.x,e.x,n.x),jw(t.y,e.y,n.y)}function Vw(t,e,n){t.min=e.min-n.min,t.max=t.min+bt(e)}function oa(t,e,n){Vw(t.x,e.x,n.x),Vw(t.y,e.y,n.y)}function xj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ge(n,t,r.max):Math.min(t,n)),t}function Bw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ij(t,{top:e,left:n,bottom:r,right:s}){return{x:Bw(t.x,n,s),y:Bw(t.y,e,r)}}function zw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kj(t,e){return{x:zw(t.x,e.x),y:zw(t.y,e.y)}}function Rj(t,e){let n=.5;const r=bt(t),s=bt(e);return s>r?n=Ga(e.min,e.max-r,t.min):r>s&&(n=Ga(t.min,t.max-s,e.min)),zr(0,1,n)}function Aj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ym=.35;function Pj(t=ym){return t===!1?t=0:t===!0&&(t=ym),{x:Hw(t,"left","right"),y:Hw(t,"top","bottom")}}function Hw(t,e,n){return{min:Ww(t,e),max:Ww(t,n)}}function Ww(t,e){return typeof t=="number"?t:t[e]||0}const qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),mi=()=>({x:qw(),y:qw()}),Kw=()=>({min:0,max:0}),Ne=()=>({x:Kw(),y:Kw()});function cn(t){return[t("x"),t("y")]}function ZI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Nj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Dj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _f(t){return t===void 0||t===1}function vm({scale:t,scaleX:e,scaleY:n}){return!_f(t)||!_f(e)||!_f(n)}function as(t){return vm(t)||ek(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ek(t){return Gw(t.x)||Gw(t.y)}function Gw(t){return t&&t!=="0%"}function Bc(t,e,n){const r=t-n,s=e*r;return n+s}function Qw(t,e,n,r,s){return s!==void 0&&(t=Bc(t,s,r)),Bc(t,n,r)+e}function wm(t,e=0,n=1,r,s){t.min=Qw(t.min,e,n,r,s),t.max=Qw(t.max,e,n,r,s)}function tk(t,{x:e,y:n}){wm(t.x,e.translate,e.scale,e.originPoint),wm(t.y,n.translate,n.scale,n.originPoint)}function Lj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tk(t,o)),r&&as(i.latestValues)&&gi(t,i.latestValues))}e.x=Xw(e.x),e.y=Xw(e.y)}function Xw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cr(t,e){t.min=t.min+e,t.max=t.max+e}function Yw(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=ge(t.min,t.max,i);wm(t,e[n],e[r],o,e.scale)}const Oj=["x","scaleX","originX"],bj=["y","scaleY","originY"];function gi(t,e){Yw(t.x,e,Oj),Yw(t.y,e,bj)}function nk(t,e){return ZI(Dj(t.getBoundingClientRect(),e))}function Mj(t,e,n){const r=nk(t,n),{scroll:s}=e;return s&&(cr(r.x,s.offset.x),cr(r.y,s.offset.y)),r}const $j=new WeakMap;class Uj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=l=>{this.stopAnimation(),n&&this.snapToCursor(rd(l,"page").point)},i=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fI(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(p=>{let w=this.getAxisMotionValue(p).get()||0;if(xn.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const v=S.layout.layoutBox[p];v&&(w=bt(v)*(parseFloat(w)/100))}}this.originPoint[p]=w}),d&&he.update(()=>d(l,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:p}=u;if(h&&this.currentDirection===null){this.currentDirection=Fj(p),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,p),this.updateAxis("y",u.point,p),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new YI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&he.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!hu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xj(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},s=this.constraints;e&&fi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ij(r.layoutBox,e):this.constraints=!1,this.elastic=Pj(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cn(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Aj(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Mj(r,s.root,this.visualElement.getTransformPagePoint());let o=kj(s.layout.layoutBox,i);if(n){const a=n(Nj(o));this.hasMutatedConstraints=!!a,a&&(o=ZI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=cn(c=>{if(!hu(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=s?200:1e6,f=s?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(lv(e,r,0,n))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:r}=this.getProps();if(!hu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=Rj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cn(o=>{if(!hu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ge(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;$j.set(this.visualElement,this);const e=this.visualElement.current,n=Wn(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Vn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(cn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ym,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function hu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Fj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jj extends Zr{constructor(e){super(e),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new Uj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jw=t=>(e,n)=>{t&&he.update(()=>t(e,n))};class Vj extends Zr{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(e){this.session=new YI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Jw(e),onStart:Jw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&he.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Wn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Bj(){const t=E.useContext(Jh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=E.useId();return E.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const $u={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(F.test(t))t=parseFloat(t);else return t;const n=Zw(t,e.target.x),r=Zw(t,e.target.y);return`${n}% ${r}%`}},zj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Hr.parse(t);if(s.length>5)return r;const i=Hr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=ge(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Hj extends Hc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;JU(Wj),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$u.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||he.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rk(t){const[e,n]=Bj(),r=E.useContext(Ky);return Hc.createElement(Hj,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Yx),isPresent:e,safeToRemove:n})}const Wj={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:zj},sk=["TopLeft","TopRight","BottomLeft","BottomRight"],qj=sk.length,eE=t=>typeof t=="string"?parseFloat(t):t,tE=t=>typeof t=="number"||F.test(t);function Kj(t,e,n,r,s,i){s?(t.opacity=ge(0,n.opacity!==void 0?n.opacity:1,Gj(r)),t.opacityExit=ge(e.opacity!==void 0?e.opacity:1,0,Qj(r))):i&&(t.opacity=ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<qj;o++){const a=`border${sk[o]}Radius`;let l=nE(e,a),u=nE(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||tE(l)===tE(u)?(t[a]=Math.max(ge(eE(l),eE(u),r),0),(xn.test(u)||xn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ge(e.rotate||0,n.rotate||0,r))}function nE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Gj=ik(0,.5,sv),Qj=ik(.5,.95,Me);function ik(t,e,n){return r=>r<t?0:r>e?1:n(Ga(t,e,r))}function rE(t,e){t.min=e.min,t.max=e.max}function jt(t,e){rE(t.x,e.x),rE(t.y,e.y)}function sE(t,e,n,r,s){return t-=e,t=Bc(t,1/n,r),s!==void 0&&(t=Bc(t,1/s,r)),t}function Xj(t,e=0,n=1,r=.5,s,i=t,o=t){if(xn.test(e)&&(e=parseFloat(e),e=ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ge(i.min,i.max,r);t===i&&(a-=e),t.min=sE(t.min,e,n,a,s),t.max=sE(t.max,e,n,a,s)}function iE(t,e,[n,r,s],i,o){Xj(t,e[n],e[r],e[s],e.scale,i,o)}const Yj=["x","scaleX","originX"],Jj=["y","scaleY","originY"];function oE(t,e,n,r){iE(t.x,e,Yj,n?n.x:void 0,r?r.x:void 0),iE(t.y,e,Jj,n?n.y:void 0,r?r.y:void 0)}function aE(t){return t.translate===0&&t.scale===1}function ok(t){return aE(t.x)&&aE(t.y)}function Em(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function lE(t){return bt(t.x)/bt(t.y)}class Zj{constructor(){this.members=[]}add(e){uv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uE(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const e6=(t,e)=>t.depth-e.depth;class t6{constructor(){this.children=[],this.isDirty=!1}add(e){uv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e6),this.isDirty=!1,this.children.forEach(e)}}function n6(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(nr(r),t(i-e))};return he.read(r,!0),()=>nr(r)}function r6(t){window.MotionDebug&&window.MotionDebug.record(t)}function s6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function i6(t,e,n){const r=It(t)?t:Xi(t);return r.start(lv("",r,e,n)),r.animation}const cE=["","X","Y","Z"],hE=1e3;let o6=0;const ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ak({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=o6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ls.totalNodes=ls.resolvedTargetDeltas=ls.recalculatedProjection=0,this.nodes.forEach(u6),this.nodes.forEach(p6),this.nodes.forEach(m6),this.nodes.forEach(c6),r6(ls)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new t6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s6(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=n6(d,250),$u.hasAnimatedSinceResize&&($u.hasAnimatedSinceResize=!1,this.nodes.forEach(fE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||E6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!Em(this.targetLayout,p)||f,y=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const _={...qI(w,"layout"),onPlay:S,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||fE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dE);return}this.isUpdating||this.nodes.forEach(d6),this.isUpdating=!1,this.nodes.forEach(f6),this.nodes.forEach(a6),this.nodes.forEach(l6),this.clearAllSnapshots();const a=performance.now();pe.delta=zr(0,1e3/60,a-pe.timestamp),pe.timestamp=a,pe.isProcessing=!0,Pi.update.process(pe),Pi.preRender.process(pe),Pi.render.process(pe),pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h6),this.sharedNodes.forEach(y6)}scheduleUpdateProjection(){he.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ok(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||as(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ne();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(cr(a.x,l.offset.x),cr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ne();jt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){jt(a,o);const{scroll:d}=this.root;d&&(cr(a.x,-d.offset.x),cr(a.y,-d.offset.y))}cr(a.x,c.offset.x),cr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Ne();jt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&gi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),as(c.latestValues)&&gi(l,c.latestValues)}return as(this.latestValues)&&gi(l,this.latestValues),l}removeTransform(o){const a=Ne();jt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!as(u.latestValues))continue;vm(u.latestValues)&&u.updateSnapshot();const c=Ne(),h=u.measurePageBox();jt(c,h),oE(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return as(this.latestValues)&&oE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=pe.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),oa(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),tk(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),oa(this.relativeTargetOrigin,this.target,f.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vm(this.parent.latestValues)||ek(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;jt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Lj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=mi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mi(),this.projectionDeltaWithTransform=mi());const w=this.projectionTransform;ia(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=uE(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=mi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Ne(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,w=f!==p,S=this.getStack(),v=!S||S.members.length<=1,g=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(w6));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const T=_/1e3;pE(h.x,o.x,T),pE(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oa(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v6(this.relativeTarget,this.relativeTargetOrigin,d,T),y&&Em(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ne()),jt(y,this.relativeTarget)),w&&(this.animationValues=c,Kj(c,u,this.latestValues,T,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{$u.hasAnimatedSinceResize=!0,this.currentAnimation=i6(0,hE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&lk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ne();const h=bt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=bt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}jt(a,l),gi(a,c),ia(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<cE.length;c++){const h="rotate"+cE[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Mu(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Mu(o.pointerEvents)||""),this.hasProjected&&!as(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=uE(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:p}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in bc){if(d[w]===void 0)continue;const{correct:S,applyTo:v}=bc[w],g=u.transform==="none"?d[w]:S(d[w],h);if(v){const y=v.length;for(let _=0;_<y;_++)u[v[_]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Mu(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dE),this.root.sharedNodes.clear()}}}function a6(t){t.updateLayout()}function l6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?cn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=bt(d);d.min=r[h].min,d.max=d.min+f}):lk(i,n.layoutBox,r)&&cn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=bt(r[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=mi();ia(a,r,n.layoutBox);const l=mi();o?ia(l,t.applyTransform(s,!0),n.measuredBox):ia(l,r,n.layoutBox);const u=!ok(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const p=Ne();oa(p,n.layoutBox,d.layoutBox);const w=Ne();oa(w,r,f.layoutBox),Em(p,w)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function u6(t){ls.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h6(t){t.clearSnapshot()}function dE(t){t.clearMeasurements()}function d6(t){t.isLayoutDirty=!1}function f6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p6(t){t.resolveTargetDelta()}function m6(t){t.calcProjection()}function g6(t){t.resetRotation()}function y6(t){t.removeLeadSnapshot()}function pE(t,e,n){t.translate=ge(e.translate,0,n),t.scale=ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mE(t,e,n,r){t.min=ge(e.min,n.min,r),t.max=ge(e.max,n.max,r)}function v6(t,e,n,r){mE(t.x,e.x,n.x,r),mE(t.y,e.y,n.y,r)}function w6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const E6={duration:.45,ease:[.4,0,.1,1]};function gE(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function _6(t){gE(t.x),gE(t.y)}function lk(t,e,n){return t==="position"||t==="preserve-aspect"&&!gm(lE(e),lE(n),.2)}const S6=ak({attachResizeListener:(t,e)=>Vn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sf={current:void 0},uk=ak({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sf.current){const t=new S6({});t.mount(window),t.setOptions({layoutScroll:!0}),Sf.current=t}return Sf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T6={pan:{Feature:Vj},drag:{Feature:jj,ProjectionNode:uk,MeasureLayout:rk}},C6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function x6(t){const e=C6.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function _m(t,e,n=1){const[r,s]=x6(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);return i?i.trim():am(s)?_m(s,e,n+1):s}function I6(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!am(i))return;const o=_m(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!am(i))continue;const o=_m(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const k6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ck=t=>k6.has(t),R6=t=>Object.keys(t).some(ck),yE=t=>t===Ws||t===F,vE=(t,e)=>parseFloat(t.split(", ")[e]),wE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return vE(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?vE(i[1],t):0}},A6=new Set(["x","y","z"]),P6=Rl.filter(t=>!A6.has(t));function N6(t){const e=[];return P6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const EE={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:wE(4,13),y:wE(5,14)},D6=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=EE[u](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=EE[u](l,i)}),t},L6=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(ck);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=ko(c);const d=e[l];let f;if($c(d)){const p=d.length,w=d[0]===null?1:0;c=d[w],h=ko(c);for(let S=w;S<p&&d[S]!==null;S++)f?rv(ko(d[S])===f):f=ko(d[S])}else f=ko(d);if(h!==f)if(yE(h)&&yE(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===F&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[l]=h.transform(d):(o||(i=N6(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=D6(e,t,a);return i.length&&i.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Zh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function O6(t,e,n,r){return R6(e)?L6(t,e,n,r):{target:e,transitionEnd:r}}const b6=(t,e,n,r)=>{const s=I6(t,e,r);return e=s.target,r=s.transitionEnd,O6(t,e,n,r)},Sm={current:null},hk={current:!1};function M6(){if(hk.current=!0,!!Zh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sm.current=t.matches;t.addListener(e),e()}else Sm.current=!1}function $6(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(It(i))t.addValue(s,i),Vc(r)&&r.add(s);else if(It(o))t.addValue(s,Xi(i,{owner:t})),Vc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Xi(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const _E=new WeakMap,dk=Object.keys(qa),U6=dk.length,SE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F6=qy.length;class j6{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>he.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=td(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&It(d)&&(d.set(a[h],!1),Vc(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_E.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hk.current||M6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_E.delete(this.current),this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Hs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&he.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<U6;l++){const u=dk[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:f}=qa[u];d&&(o=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(a=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&fi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SE.length;r++){const s=SE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=$6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<F6;r++){const s=qy[r],i=this.props[s];(Wa(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xi(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=tv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!It(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fk extends j6{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=aj(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){ij(this,r,o);const a=b6(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function V6(t){return window.getComputedStyle(t)}class B6 extends fk{readValueFromInstance(e,n){if(Hs.has(n)){const r=av(n);return r&&r.default||0}else{const r=V6(e),s=(eI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nk(e,n)}build(e,n,r,s){Qy(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ev(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){oI(e,n,r,s)}}class z6 extends fk{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hs.has(n)){const r=av(n);return r&&r.default||0}return n=aI.has(n)?n:Zy(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ne()}scrapeMotionValuesFromProps(e,n){return uI(e,n)}build(e,n,r,s){Yy(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){lI(e,n,r,s)}mount(e){this.isSVGTag=Jy(e.tagName),super.mount(e)}}const H6=(t,e)=>Gy(t)?new z6(e,{enableHardwareAcceleration:!1}):new B6(e,{enableHardwareAcceleration:!0}),W6={layout:{ProjectionNode:uk,MeasureLayout:rk}},q6={...Ej,...B9,...T6,...W6},re=XU((t,e)=>x9(t,e,q6,H6));function pk(){const t=E.useRef(!1);return Ha(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function K6(){const t=pk(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>he.postRender(r),[r]),e]}class G6 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Q6({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(G6,{isPresent:e,childRef:r,sizeRef:s},E.cloneElement(t,{ref:r}))}const Tf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=nv(X6),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return E.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(Q6,{isPresent:n},t)),E.createElement(Jh.Provider,{value:u},t)};function X6(){return new Map}function Y6(t){return E.useEffect(()=>()=>t(),[])}const Zs=t=>t.key||"";function J6(t,e){t.forEach(n=>{const r=Zs(n);e.set(r,n)})}function Z6(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Nn=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=E.useContext(Ky).forceRender||K6()[0],l=pk(),u=Z6(t);let c=u;const h=E.useRef(new Map).current,d=E.useRef(c),f=E.useRef(new Map).current,p=E.useRef(!0);if(Ha(()=>{p.current=!1,J6(u,f),d.current=c}),Y6(()=>{p.current=!0,f.clear(),h.clear()}),p.current)return E.createElement(E.Fragment,null,c.map(g=>E.createElement(Tf,{key:Zs(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},g)));c=[...c];const w=d.current.map(Zs),S=u.map(Zs),v=w.length;for(let g=0;g<v;g++){const y=w[g];S.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((g,y)=>{if(S.indexOf(y)!==-1)return;const _=f.get(y);if(!_)return;const T=w.indexOf(y);let k=g;if(!k){const I=()=>{f.delete(y),h.delete(y);const C=d.current.findIndex(O=>O.key===y);if(d.current.splice(C,1),!h.size){if(d.current=u,l.current===!1)return;a(),r&&r()}};k=E.createElement(Tf,{key:Zs(_),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:i,mode:o},_),h.set(y,k)}c.splice(T,0,k)}),c=c.map(g=>{const y=g.key;return h.has(y)?g:E.createElement(Tf,{key:Zs(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),E.createElement(E.Fragment,null,h.size?c:c.map(g=>E.cloneElement(g)))};function eV(t){t.values.forEach(e=>e.stop())}function tV(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(XI(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{sj(r,n)})},stop(){t.forEach(n=>{eV(n)})},mount(){return()=>{e.stop()}}};return e}function nV(){const t=nv(tV);return Ha(t.mount,[]),t}const Dl=nV,mk=()=>m.jsxs("svg",{width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M13.5 27.0003C17.2632 27.0003 20.6666 25.4606 23.1149 22.9768C22.2406 20.2265 19.9794 18.0061 17.058 16.9727C16.0535 17.8121 14.7613 18.3171 13.3505 18.3171C11.9398 18.3171 10.6476 17.8121 9.64308 16.9727C6.80379 17.9771 4.58814 20.1026 3.66321 22.7462C6.12556 25.365 9.62181 27.0003 13.5 27.0003Z",fill:"var(--accent-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 25C19.8513 25 25 19.8513 25 13.5C25 7.14872 19.8513 2 13.5 2C7.14872 2 2 7.14872 2 13.5C2 19.8513 7.14872 25 13.5 25ZM27 13.5C27 20.9558 20.9558 27 13.5 27C6.04415 27 0 20.9558 0 13.5C0 6.04415 6.04415 0 13.5 0C20.9558 0 27 6.04415 27 13.5Z",fill:"var(--primary-color)"}),m.jsx("path",{d:"M13.3505 15.9183C16.5449 15.9183 19.1346 13.3286 19.1346 10.1342C19.1346 6.93972 16.5449 4.3501 13.3505 4.3501C10.156 4.3501 7.56641 6.93972 7.56641 10.1342C7.56641 13.3286 10.156 15.9183 13.3505 15.9183Z",fill:"var(--accent-color)"})]}),TE=()=>m.jsxs("svg",{width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 2.45455C7.39976 2.45455 2.45455 7.39976 2.45455 13.5C2.45455 19.6002 7.39976 24.5455 13.5 24.5455C19.6002 24.5455 24.5455 19.6002 24.5455 13.5C24.5455 7.39976 19.6002 2.45455 13.5 2.45455ZM0 13.5C0 6.04416 6.04416 0 13.5 0C20.9558 0 27 6.04416 27 13.5C27 20.9558 20.9558 27 13.5 27C6.04416 27 0 20.9558 0 13.5Z",fill:"var(--primary-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6705 9.3295C18.1098 9.76884 18.1098 10.4812 17.6705 10.9205L10.9205 17.6705C10.4812 18.1098 9.76884 18.1098 9.3295 17.6705C8.89017 17.2312 8.89017 16.5188 9.3295 16.0795L16.0795 9.3295C16.5188 8.89017 17.2312 8.89017 17.6705 9.3295Z",fill:"var(--primary-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.3295 9.3295C9.76884 8.89017 10.4812 8.89017 10.9205 9.3295L17.6705 16.0795C18.1098 16.5188 18.1098 17.2312 17.6705 17.6705C17.2312 18.1098 16.5188 18.1098 16.0795 17.6705L9.3295 10.9205C8.89017 10.4812 8.89017 9.76884 9.3295 9.3295Z",fill:"var(--primary-color)"})]}),od=({children:t,mode:e,hideModal:n})=>{if(e==="gallery")return m.jsx(re.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},className:"modal-container",children:t});if(e==="box")return m.jsx(re.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},className:"modal-container",children:m.jsxs("div",{className:"modal-box-container",children:[m.jsx("button",{className:"close-modal",onClick:n,children:m.jsx(TE,{})}),t]})});if(e==="overlay")return m.jsx(re.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},className:"modal-container",children:m.jsxs("div",{className:"modal-overlay-container",children:[m.jsx("button",{className:"close-modal",onClick:n,children:m.jsx(TE,{})}),t]})})};function Qa(t,e){E.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}const fv=()=>m.jsx("svg",{width:"24",height:"18",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.6095 0.405544C24.1302 0.94627 24.1302 1.82296 23.6095 2.36369L8.94281 17.5945C8.42211 18.1352 7.57789 18.1352 7.05719 17.5945L0.390524 10.6714C-0.130175 10.1307 -0.130175 9.25396 0.390524 8.71324C0.911223 8.17251 1.75544 8.17251 2.27614 8.71324L8 14.6572L21.7239 0.405544C22.2446 -0.135182 23.0888 -0.135182 23.6095 0.405544Z",fill:"var(--accent-color)"})}),gk=()=>m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6234 0.376577C18.1255 0.87868 18.1255 1.69275 17.6234 2.19485L2.19485 17.6234C1.69275 18.1255 0.87868 18.1255 0.376577 17.6234C-0.125526 17.1213 -0.125526 16.3073 0.376577 15.8051L15.8051 0.376577C16.3073 -0.125526 17.1213 -0.125526 17.6234 0.376577Z",fill:"var(--accent-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.376577 0.376577C0.87868 -0.125526 1.69275 -0.125526 2.19485 0.376577L17.6234 15.8051C18.1255 16.3073 18.1255 17.1213 17.6234 17.6234C17.1213 18.1255 16.3073 18.1255 15.8051 17.6234L0.376577 2.19485C-0.125526 1.69275 -0.125526 0.87868 0.376577 0.376577Z",fill:"var(--accent-color)"})]}),rV=({hideModal:t})=>{const{currentUser:e}=po(),{baseName:n}=Ee(),r=ah(),[s,i]=E.useState({show:!1,value:e==null?void 0:e.displayName}),o=E.useRef(null),a=E.useRef(null),l=()=>{t(),r(`${n}profile`)},u=()=>{i(p=>({...p,show:!0}))},c=()=>{i(()=>({value:e.displayName,show:!1}))},h=p=>{p.preventDefault();const w=s.value;w===""||w.length<3||w.length>100||(t(),RU(w))},d=p=>{kU(p),r(`${n}profile`),t()},f=()=>{t(),r(n),IU()};return Qa(o,c),Qa(a,t),m.jsxs("div",{className:"user-modal-inner",ref:a,children:[e!=null&&e.photoURL?m.jsx("div",{className:"profile-pic-container",children:m.jsx("img",{className:"profile-pic",src:e==null?void 0:e.photoURL})}):m.jsx(mk,{}),m.jsx(Nn,{children:m.jsx("div",{className:"user-name-container",children:s.show?m.jsx(re.div,{className:"new-user-input-container",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},children:m.jsxs("form",{onSubmit:h,ref:o,children:[m.jsx("input",{type:"text",value:s.value,onChange:p=>i(w=>({...w,value:p.target.value})),autoFocus:!0}),m.jsxs("div",{className:"input-buttons-container",children:[m.jsx("button",{className:"submit-button",type:"submit",children:m.jsx(fv,{})}),m.jsx("button",{className:"cancel-button",type:"button",onClick:c,children:m.jsx(gk,{})})]})]})}):m.jsx(re.h3,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},children:e==null?void 0:e.displayName})})}),m.jsx("input",{type:"file",id:"file",onChange:p=>d(p.target.files[0]),hidden:!0}),m.jsxs("ul",{className:"profile-actions-container",children:[m.jsx("li",{children:m.jsx("button",{onClick:l,children:""})}),m.jsx("li",{children:m.jsx("button",{onClick:u,children:" "})}),m.jsx("li",{children:m.jsx("label",{htmlFor:"file",children:" "})}),m.jsx("li",{children:m.jsx("button",{onClick:f,children:""})})]})]})},sV=()=>{const{baseName:t,lang:e,dispatch:n}=Ee(),{currentUser:r}=po(),[s,i]=E.useState(!1),[o,a]=E.useState(()=>VU()),l=()=>{i(()=>!1)};E.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const u=()=>{a(o==="dark"?()=>"light":"dark")},c=()=>{e==="ru"?(n({type:"SET_LANG",payload:"en"}),localStorage.setItem("FBlang","en")):(n({type:"SET_LANG",payload:"ru"}),localStorage.setItem("FBlang","ru"))};return m.jsxs(m.Fragment,{children:[m.jsx(Nn,{children:s&&m.jsx(od,{hideModal:l,mode:"box",children:m.jsx(rV,{hideModal:l})})}),m.jsxs("div",{className:"header-icons-container",children:[r?m.jsx("button",{onClick:()=>i(()=>!0),children:r.photoURL?m.jsx("div",{className:"profile-pic-container",children:m.jsx("img",{className:"profile-pic",src:r==null?void 0:r.photoURL})}):m.jsx(mk,{})}):m.jsx(Tg,{to:"auth",children:m.jsx("img",{src:`${t}assets/images/icons/icon-user-${o}.svg`,alt:"user-profile"})}),m.jsx("a",{href:"#",onClick:u,children:m.jsx("img",{src:`${t}assets/images/icons/icon-theme-${o}.svg`,alt:"switch-theme"})}),m.jsx("a",{href:"#",onClick:c,children:m.jsx("img",{src:`${t}assets/images/icons/icon-lang-${e}-${o}.svg`,alt:"language"})})]})]})},iV=()=>{const{currentTitle:t}=Ee();return m.jsx("div",{className:"title-container",children:m.jsx("h2",{className:"title-heading",children:t})})},oV=()=>{const{baseName:t}=Ee(),{pathname:e}=$s();return m.jsxs("header",{className:"header-container",children:[m.jsx(UU,{}),e===t?m.jsx(FU,{}):m.jsx(iV,{}),m.jsx(jU,{}),m.jsx(sV,{})]})},aV=()=>m.jsxs("div",{className:"page-wrapper",children:[m.jsx("div",{className:"bg-noise-container"}),m.jsx(oV,{}),m.jsx(OP,{})]}),lV="https://api.themoviedb.org/3",uV="api_key=582f9e2d6f3a1dc803b350bf76f168f2",cV=(t,e)=>{const[n,r]=E.useState([]),[s,i]=E.useState(!0),[o,a]=E.useState({show:!1,message:""}),l=E.useCallback(async(u,c)=>{i(!0);try{const{data:h}=await Nr(`${lV}/genre/${u}/list?${uV}&language=${c}`),d={id:"all",name:c==="ru"?"":"All"};r(()=>[d,...h.genres]),i(!1)}catch(h){a({show:!0,message:h.message}),i(!1)}},[]);return E.useEffect(()=>{l(t,e)},[t,e,l]),{isLoading:s,error:o,data:n}},_r=({errorMessage:t,componentMessage:e,showImage:n})=>{const{baseName:r}=Ee();return m.jsxs("div",{className:"error-message-container",children:[n&&m.jsx(re.img,{animate:{y:[15,0,15]},transition:{repeat:"loop",duration:4},src:`${r}assets/images/void.png`,alt:"error"}),m.jsxs("h3",{children:[e,": ",m.jsx("span",{children:t})]})]})},hV=()=>{const{filterGenre:t,dispatch:e,lang:n,mediaType:r}=Ee(),{isLoading:s,error:i,data:o}=cV(r,n),[a,l]=E.useState(0),u=Dl(),c=E.useRef(null);E.useEffect(()=>{c.current&&l(()=>c.current.scrollWidth)},[o,a,u]);const h=(d,f)=>{e({type:"SET_FILTER_GENRE",payload:`${f}`}),u.start({x:a/2-d.offsetLeft-d.scrollWidth,transition:{stiffness:50,type:"spring"}})};return s?m.jsx("div",{className:"genres-list-container",children:m.jsx("h3",{children:n==="ru"?"  ":"Loading..."})}):i.show?m.jsx("div",{className:"genres-list-container",children:m.jsx(_r,{errorMessage:i.message,componentMessage:"    ",showImage:!1})}):m.jsx("div",{className:"genres-list-container",children:m.jsx(re.ul,{ref:c,drag:"x",dragConstraints:{left:a/2*-1,right:a/2},animate:u,transition:{stiffness:100,type:"spring"},initial:{x:"50%"},children:o.map(d=>m.jsx("li",{onClick:f=>h(f.target,d.id),className:t===`${d.id}`?"active":"",children:`${d.name[0].toUpperCase()}${d.name.slice(1)}`},d.id))})})},dV={ru:[{upcoming:""},{now_playing:"  "},{popular:""},{top_rated:" "}],en:[{upcoming:"Upcoming"},{now_playing:"Now playing"},{popular:"Popular"},{top_rated:"Top rated"}]},fV={ru:[{on_the_air:"  "},{popular:""},{top_rated:" "}],en:[{on_the_air:"Now playing"},{popular:"Popular"},{top_rated:"Top rated"}]},pV=()=>{const{mediaType:t,filterList:e,lang:n,dispatch:r}=Ee(),s=t==="movie"?dV[n]:fV[n];return m.jsx("div",{className:"lists-container",children:m.jsx("ul",{children:s.map((i,o)=>{const a=Object.keys(i)[0],l=Object.values(i)[0];return m.jsx("li",{onClick:()=>r({type:"SET_FILTER_LIST",payload:a}),className:e===a?"active":"",children:l},o)})})})},pv=({title:t,poster:e,id:n,mediaType:r,isDrag:s})=>{const[i,o]=E.useState(!0),{baseName:a}=Ee(),l=()=>{o(!1)};return m.jsx(re.div,{layout:!0,animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},whileHover:{scale:1.05,zIndex:999},className:"movie-container",children:m.jsxs(Tg,{style:{pointerEvents:s?"none":""},to:`${a}${r}/${n}`,draggable:"false",children:[m.jsxs("div",{className:"movie-poster-container",children:[m.jsx(re.img,{initial:{opacity:0},animate:{opacity:i?0:1},transition:{opacity:{delay:.3,duration:.3}},onLoad:l,src:e,alt:t}),m.jsx(re.div,{initial:{opacity:.5},animate:{opacity:i?.5:0},transition:{opacity:{delay:.3,duration:.3}},className:"img-loading-container"})]}),m.jsx("div",{className:"movie-title-container",children:m.jsx("h3",{children:t})})]})})},ad=()=>m.jsx("div",{className:"loader-container",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[m.jsx("circle",{cx:"30",cy:"50",fill:"#ff6699",r:"20",children:m.jsx("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"-0.5s"})}),m.jsx("circle",{cx:"70",cy:"50",style:{fill:"var(--primary-color)"},r:"20",children:m.jsx("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"0s"})}),m.jsxs("circle",{cx:"30",cy:"50",fill:"#ff6699",r:"20",children:[m.jsx("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"-0.5s"}),m.jsx("animate",{attributeName:"fill-opacity",values:"0;0;1;1",calcMode:"discrete",keyTimes:"0;0.499;0.5;1",dur:"1s",repeatCount:"indefinite"})]})]})}),yk=()=>{const{moviesFetchLoading:t,moviesFetchError:e,dispatch:n,moviesList:r,page:s,totalPages:i}=Ee(),o=E.useCallback(()=>{if(s<i&&window.innerHeight+window.scrollY>=document.body.scrollHeight-100){const a=s+1;n({type:"INCREASE_PAGE",payload:a})}},[n,s,i]);return E.useEffect(()=>{if(!e.show)return i>1&&window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[e,i,o]),e.show?m.jsx(_r,{errorMessage:e.message,componentMessage:"   ",showImage:!0}):m.jsxs(m.Fragment,{children:[m.jsx(re.div,{layout:!0,layoutRoot:!0,className:"movies-list-container",children:r.map(({posterUrl:a,title:l,id:u,mediaType:c})=>(l.length>35&&(l=l.slice(0,35)+"..."),m.jsxs(Nn,{children:[m.jsx(pv,{poster:a,title:l,id:u,mediaType:c}),";"]},u)))}),t&&m.jsx(ad,{})]})},mV=()=>{const{moviesListMode:t,searchQuery:e,dispatch:n,setCurrentTitle:r}=Ee();return E.useEffect(()=>{t!=="home"&&n({type:"SET_HOME_MODE"}),r(()=>"")},[e,n,t,r]),m.jsxs("section",{className:"section-home",children:[m.jsx(pV,{}),m.jsx(hV,{}),m.jsx(yk,{})]})};class gV{constructor(e,n,r,s){this.fetchedData=e,this.lang=n,this.mediaType=s,this.title=this.fetchedData.title?this.fetchedData.title:this.fetchedData.name,this.poster=e.poster_path?`${r}${e.poster_path}`:"/projects/films_base/assets/images/no-poster.jpg",this.data=this.mediaType==="movie"?this.getMovieData():this.getTVSeriesData(),this.description=this.fetchedData.overview}getMovieData(){return[...this.fetchedData.release_date?[{[`${this.lang==="en"?"Release date":" "}`]:this.getReleaseDate(this.fetchedData.release_date,this.lang)}]:[],...this.fetchedData.genres.length>0?[{[`${this.lang==="en"?"Genres":""}`]:this.getGenresList()}]:[],...this.fetchedData.production_countries.length>0?[{[`${this.lang==="en"?"Country":""}`]:this.getCountriesList()}]:[],...this.fetchedData.budget?[{[`${this.lang==="en"?"Budget":""}`]:this.getBudgetString(this.fetchedData.budget)}]:[],...this.fetchedData.revenue?[{[`${this.lang==="en"?"Revenue":""}`]:this.getBudgetString(this.fetchedData.revenue)}]:[],...this.fetchedData.runtime?[{[`${this.lang==="en"?"Runtime":""}`]:this.getRuntime(this.fetchedData.runtime)}]:[],...this.fetchedData.vote_average?[{[`${this.lang==="en"?"TMDB Rating":" TMDB"}`]:this.fetchedData.vote_average}]:[]]}getTVSeriesData(){return[...this.fetchedData.first_air_date?[{[`${this.lang==="en"?"Release date":" "}`]:this.getReleaseDate(this.fetchedData.first_air_date)}]:[],...this.fetchedData.genres.length>0?[{[`${this.lang==="en"?"Genres":""}`]:this.getGenresList()}]:[],...this.fetchedData.production_countries.length>0?[{[`${this.lang==="en"?"Country":""}`]:this.getCountriesList()}]:[],...this.fetchedData.number_of_seasons?[{[`${this.lang==="en"?"Total Seasons":" "}`]:this.fetchedData.number_of_seasons}]:[],...this.fetchedData.number_of_episodes?[{[`${this.lang==="en"?"Total episodes":""}`]:this.fetchedData.number_of_episodes}]:[],...this.fetchedData.vote_average?[{[`${this.lang==="en"?"TMDB Rating":" TMDB"}`]:this.fetchedData.vote_average}]:[]]}getCountriesList(){return this.fetchedData.production_countries.reduce((e,n,r)=>r===0?this.getCountryName(n.iso_3166_1,this.lang):`${e}, ${this.getCountryName(n.iso_3166_1,this.lang)}`,"")}getCountryName(e){return new Intl.DisplayNames([this.lang],{type:"region"}).of(e)}getReleaseDate(e){const n=new Date(e),r=n.getDay()+1;let s=this.getMonths(this.lang)[n.getMonth()];this.lang==="ru"&&(s=s[s.length-1]===""||s[s.length-1]===""?s.slice(0,-1)+"":s+"");const i=n.getFullYear();return this.lang==="en"?`${s} ${r}, ${i}`:`${r} ${s} ${i} .`}getMonths(){return Array.from({length:12},(e,n)=>new Intl.DateTimeFormat(this.lang,{month:"long"}).format(new Date(0,n)))}getGenresList(){return this.fetchedData.genres.reduce((e,n,r)=>r===0?n.name[0].toUpperCase()+n.name.slice(1):`${e}, ${n.name}`,"")}getBudgetString(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}getRuntime(e){const n=Math.floor(e/60),r=e%60;let s,i;if(this.lang==="ru"){const o=String(n),a=String(r);return o[o.length-1]==="1"?s="":Number(o[o.length-1])>1&&Number(o[o.length-1])<5?s="":s="",a[a.length-1]==="1"?i="":Number(a[a.length-1])>1&&Number(a[a.length-1])<5?i="":i="",(a==="11"||a==="12"||a==="13"||a==="14")&&(i=""),n===0?`${a} ${i}`:r===0?`${o} ${s}`:`${o} ${s} ${a} ${i}`}if(this.lang==="en")return n===1?s="hour":s="hours",r===1?i="minute":i="minutes",n===0?`${r} ${i}`:`${n} ${s} ${r} ${i}`}}const Cf="https://api.themoviedb.org/3",xf="api_key=582f9e2d6f3a1dc803b350bf76f168f2",CE="https://image.tmdb.org/t/p/original",yV=(t,e,n)=>{const[r,s]=E.useState([]),[i,o]=E.useState(!0),[a,l]=E.useState({show:!1,message:""}),[u,c]=E.useState([]),[h,d]=E.useState({show:!1,message:""}),[f,p]=E.useState([]),[w,S]=E.useState({show:!1,message:""}),v=E.useCallback(async(g,y,_)=>{o(!0),p(()=>[]),s(()=>[]),c(()=>[]);try{const{data:T}=await Nr(`${Cf}/${g}/${_}?${xf}&language=${y}`);s(()=>new gV(T,y,CE,g))}catch(T){l(()=>({show:!0,message:T.message}))}try{const{data:{backdrops:T}}=await Nr(`${Cf}/${g}/${_}/images?${xf}`),k=[];T.length>20&&T.splice(20),T.forEach(I=>{k.push(CE+I.file_path)}),c(()=>k)}catch(T){d(()=>({show:!0,message:T.message}))}try{const{data:{results:T}}=await Nr(`${Cf}/${g}/${_}/videos?${xf}&language=${y}`);if(T.length!==0){const k=[],I=T.filter(C=>C.type==="Trailer"&&C.site==="YouTube");I.length!==0&&I.forEach(C=>{k.push(C.key)}),p(()=>k)}}catch(T){S(()=>({show:!0,message:T.message}))}o(!1)},[]);return E.useEffect(()=>{v(t,e,n)},[t,e,n,v]),{isLoading:i,dataError:a,imagesError:h,videosError:w,data:r,images:u,videos:f}},vV=({openModal:t,imagesArray:e})=>{const[n,r]=E.useState([]),[s,i]=E.useState(0),[o,a]=E.useState(0),[l,u]=E.useState(!1),[c,h]=E.useState(!0),d=Dl(),f=E.useRef(null);E.useEffect(()=>{r(()=>e),e.length===0&&h(!1)},[e]),E.useEffect(()=>{s===n.length&&(a(()=>f.current.scrollWidth),o!==0&&(d.start({opacity:1,x:n.length>4?-Math.floor(o/n.length/2):0,transition:{duration:1}}),h(()=>!1)))},[s,n.length,d,o]);const p=w=>{s===n.length&&t(n,w)};return m.jsxs("div",{className:"gallery-container",children:[m.jsx(re.div,{ref:f,drag:"x",dragConstraints:{left:(o-o/n.length*2)*-1,right:0},onDrag:()=>u(()=>!0),onDragEnd:()=>u(()=>!1),className:"gallery-wrapper",animate:d,initial:{opacity:0},children:n.map((w,S)=>m.jsx("div",{className:"gallery-image-container",onClick:()=>p(S),style:{pointerEvents:l?"none":""},children:m.jsx("img",{src:w,alt:"img",onLoad:()=>{i(v=>v+1)}})},S))}),m.jsx(re.div,{initial:{opacity:1},animate:{opacity:c?1:0},transition:{opacity:{delay:.3,duration:.3}},className:"gallery-loading-container"})]})},wV=({image:t})=>{const[e,n]=E.useState(!0),r=()=>{n(!1)};return m.jsxs("div",{className:"movie-poster-container",children:[m.jsx(re.img,{animate:{opacity:e?0:1},initial:{opacity:0},transition:{opacity:{delay:.3,duration:.3}},onLoad:r,src:t,alt:"poster"}),m.jsx(re.div,{initial:{opacity:1},animate:{opacity:e?1:0},transition:{opacity:{delay:.3,duration:.3}},className:"img-loading-container"})]})},EV=({videoKey:t})=>{const[e,n]=E.useState(!0),r=()=>{n(()=>!1)};return m.jsxs("div",{className:"movie-video-container",children:[m.jsx(re.iframe,{animate:{opacity:e?0:1},initial:{opacity:0},src:`https://www.youtube.com/embed/${t}`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",onLoad:()=>r(),allowFullScreen:!0}),m.jsx(re.div,{className:"video-loading-container",animate:{opacity:e?1:0},initial:{opacity:1}})]})},_V=({hideModal:t,changeModalImage:e,control:n,modal:r})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"modal-index-controls",onClick:s=>t(s.target),children:[m.jsx("div",{className:"prev-btn",onClick:()=>{e("prev")},children:m.jsx("svg",{width:"30",height:"36",viewBox:"0 0 30 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M-8.74228e-07 18L30 0.679488L30 35.3205L-8.74228e-07 18Z",fill:"var(--primary-color)"})})}),m.jsx("div",{className:"next-btn",onClick:()=>{e("next")},children:m.jsx("svg",{width:"30",height:"36",viewBox:"0 0 30 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M30 18L4.45043e-07 35.3205L3.19526e-08 0.679491L30 18Z",fill:"var(--primary-color)"})})})]}),m.jsx(re.div,{className:"modal-images-wrapper",animate:n,initial:{x:`-${r.imageIndex*100}%`},transition:{stiffness:50,type:"spring"},children:r.imagesArray})]}),SV=()=>m.jsx("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.375 2.3C3.07663 2.3 2.79048 2.42116 2.5795 2.63683C2.36853 2.85249 2.25 3.145 2.25 3.45V19.6153L8.34611 15.1642C8.73727 14.8786 9.26273 14.8786 9.65389 15.1642L15.75 19.6153V3.45C15.75 3.145 15.6315 2.85249 15.4205 2.63683C15.2095 2.42116 14.9234 2.3 14.625 2.3H3.375ZM0.988515 1.01048C1.62145 0.363481 2.47989 0 3.375 0H14.625C15.5201 0 16.3785 0.363481 17.0115 1.01048C17.6444 1.65748 18 2.535 18 3.45V21.85C18 22.2808 17.7645 22.6754 17.3898 22.8725C17.0151 23.0697 16.564 23.0362 16.2211 22.7858L9 17.5132L1.77889 22.7858C1.43598 23.0362 0.984926 23.0697 0.610221 22.8725C0.235516 22.6754 0 22.2808 0 21.85V3.45C0 2.535 0.355579 1.65748 0.988515 1.01048Z",fill:"var(--primary-color)"})}),TV=()=>m.jsx("svg",{width:"19",height:"23",viewBox:"0 0 19 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M3.89995 0C2.98495 0 2.10743 0.363481 1.46043 1.01048C0.813432 1.65748 0.449951 2.535 0.449951 3.45V21.85C0.449951 22.2808 0.690701 22.6754 1.07373 22.8725C1.45676 23.0697 1.91784 23.0362 2.26838 22.7858L9.64995 17.5132L17.0315 22.7858C17.3821 23.0362 17.8431 23.0697 18.2262 22.8725C18.6092 22.6754 18.85 22.2808 18.85 21.85V3.45C18.85 2.535 18.4865 1.65748 17.8395 1.01048C17.1925 0.363481 16.3149 0 15.4 0H3.89995Z",fill:"var(--primary-color)"})}),CV=({hideModal:t,title:e,userLists:n,currentMovieData:r})=>{const{id:s,mediaType:i}=r,o=E.useRef(null);return Qa(o,t),m.jsxs("div",{className:"user-lists-widget-inner",ref:o,children:[m.jsxs("h3",{children:[" ",`${e}`,"  ..."]}),m.jsx("div",{className:"user-lists-widget-container",children:m.jsx("ul",{className:"user-lists-widget",children:n.map(({data:a,title:l},u)=>{const c=a.some(h=>h.id===s);return m.jsxs("li",{className:"user-list-item",children:[m.jsx("div",{className:"user-list-title",children:m.jsx("span",{children:l})}),c?m.jsx("button",{onClick:()=>OU(u,s,i),children:m.jsx(TV,{})}):m.jsx("button",{onClick:()=>LU(u,s,i),children:m.jsx(SV,{})})]},u)})})})]})},mv=()=>m.jsxs("svg",{width:"20",height:"28",viewBox:"0 0 20 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M15 27.5V7.5C15 6.12125 13.8787 5 12.5 5H2.5C1.12125 5 0 6.12125 0 7.5V27.5L7.5 22.9987L15 27.5Z",fill:"var(--primary-color)"}),m.jsx("path",{d:"M13.2325 2.5H15C16.3787 2.5 17.5 3.62125 17.5 5V18.0537L20 21.165V2.5C20 1.12125 18.8787 0 17.5 0H7.5C6.12125 0 5 1.12125 5 2.5H13.2325Z",fill:"var(--primary-color)"})]}),xV=({id:t,mediaType:e,title:n})=>{const{currentUser:r}=po(),[s,i]=E.useState(!1),[o,a]=E.useState([]),l=()=>{i(()=>!1)};return E.useEffect(()=>Tx(Yr(Jr,"users",r.uid),c=>{a(c.data().userLists)}),[r]),m.jsxs(m.Fragment,{children:[m.jsx(Nn,{children:s&&m.jsx(od,{mode:"box",hideModal:l,children:m.jsx(CV,{hideModal:l,title:n,userLists:o,currentMovieData:{id:t,mediaType:e}})})}),m.jsxs("div",{className:"add-to-user-list-container",onClick:()=>i(()=>!0),children:[m.jsx("h3",{children:"  "}),m.jsx(mv,{})]})]})},IV="https://api.themoviedb.org/3",kV="api_key=582f9e2d6f3a1dc803b350bf76f168f2",RV="https://image.tmdb.org/t/p/w300",AV=(t,e,n)=>{const[r,s]=E.useState(!0),[i,o]=E.useState({show:!1,message:""}),[a,l]=E.useState([]),u=E.useCallback(async c=>{s(!0),o({show:!1,message:""});try{const h=await Nr(`${IV}/${n}/${e}/similar?${kV}&language=${c}`),d=[];h.data.results.forEach(f=>{d.push(new Ag(RV,f,n))}),l(()=>d),s(!1)}catch(h){o({show:!0,message:h.message}),s(!1)}},[e,n]);return E.useEffect(()=>{u(t)},[u,t]),{data:a,isLoading:r,error:i}},PV=({itemID:t,itemMediaType:e})=>{const{lang:n}=Ee(),[r,s]=E.useState(0),[i,o]=E.useState(!1),a=E.useRef(null),l=Dl(),{data:u,isLoading:c,error:h}=AV(n,t,e);return E.useEffect(()=>{a.current&&s(()=>a.current.scrollWidth)},[u]),h.show?m.jsx(_r,{errorMessage:h.message,componentMessage:"   ",showImage:!0}):c?m.jsx(ad,{}):m.jsxs("div",{className:"similar-movies-list-wrapper",children:[u.length>0&&m.jsx("h2",{children:n==="en"?"Similar":""}),m.jsx(re.div,{layout:!0,layoutRoot:!0,className:"movies-list-container similar",drag:"x",dragConstraints:{left:r/1.2*-1,right:r/1.2},animate:l,initial:{x:"50%"},ref:a,onDrag:()=>o(()=>!0),onDragEnd:()=>o(()=>!1),children:u.map(({posterUrl:d,title:f,id:p,mediaType:w})=>(f.length>35&&(f=f.slice(0,35)+"..."),m.jsxs(Nn,{children:[m.jsx(pv,{poster:d,title:f,id:p,mediaType:w,isDrag:i}),";"]},p)))})]})},xE=()=>{const{setCurrentTitle:t,lang:e}=Ee(),{currentUser:n}=po(),{id:r}=WS(),s=$s(),i=s.pathname.split("/")[3];console.log(s.pathname,i);const[o,a]=E.useState({show:!1,imagesArray:[],imageIndex:0}),l=Dl(),{data:u,images:c,videos:h,dataError:d,imagesError:f,videosError:p,isLoading:w}=yV(i,e,r),{data:S,description:v,title:g,poster:y}=u;E.useEffect(()=>{window.scrollTo(0,0)},[s.pathname]),E.useEffect(()=>{w?t(()=>""):d.show?t(d.message):t(g)},[g,t,w,e,d]),E.useEffect(()=>{l.start({x:`-${o.imageIndex*100}%`})},[o.imageIndex,l]);const _=(I,C)=>{a(()=>({show:!0,imagesArray:I.map(($,de)=>m.jsx("div",{className:"modal-image-container",children:m.jsx("img",{src:$,alt:"gallery-image"})},de)),imageIndex:C}))},T=I=>{I.classList.contains("modal-index-controls")&&a(C=>({...C,show:!1}))},k=I=>{let C;I==="next"?C=o.imageIndex===o.imagesArray.length-1?0:o.imageIndex+1:C=o.imageIndex===0?o.imagesArray.length-1:o.imageIndex-1,a(O=>({...O,imageIndex:C}))};return w?m.jsx(ad,{}):m.jsxs("section",{className:"section-single-movie",children:[m.jsx(Nn,{children:o.show&&m.jsx(od,{mode:"gallery",children:m.jsx(_V,{hideModal:T,changeModalImage:k,control:l,modal:o})})}),m.jsxs("div",{className:"movie-wrapper",children:[m.jsxs("div",{className:"left-col",children:[d.show?m.jsx(_r,{errorMessage:d.message,componentMessage:"   ",showImage:!0}):m.jsx(wV,{image:y}),p.show?m.jsx(_r,{errorMessage:p.message,componentMessage:"   ",showImage:!0}):h.map((I,C)=>m.jsx(EV,{videoKey:I},C))]}),m.jsxs("div",{className:"right-col",children:[n&&m.jsx(xV,{id:r,mediaType:i,title:g}),m.jsx("div",{className:"data-container",children:d.show?m.jsx(_r,{errorMessage:d.message,componentMessage:"   ",showImage:!1}):S.map((I,C)=>{const[O,$]=Object.entries(I)[0];return m.jsxs("div",{className:"data-item",children:[m.jsx("span",{className:"label",children:O}),m.jsx("span",{className:"data-info",children:$})]},C)})}),m.jsx("div",{className:"description-container",children:m.jsx("p",{children:v})}),f.show?m.jsx(_r,{errorMessage:p.message,componentMessage:"   ",showImage:!0}):m.jsx(vV,{openModal:_,imagesArray:c})]})]}),m.jsx(PV,{itemID:r,itemMediaType:i})]})},NV=()=>{const{setCurrentTitle:t,dispatch:e,moviesListMode:n}=Ee(),{query:r}=WS();return E.useEffect(()=>{t(r),e({type:"SET_SEARCH_MODE",payload:r})},[r,t,e,n]),m.jsx("section",{className:"section-search-results",children:m.jsx(yk,{})})},DV=({activeMode:t,setActiveMode:e})=>{const{lang:n}=Ee();return m.jsxs("div",{className:"auth-mode-container",children:[m.jsx("div",{className:`sign-in ${t==="sign-in"?"active":""}`,onClick:()=>e("sign-in"),children:m.jsx("h3",{children:n==="en"?"Sign-In":""})}),m.jsx("div",{className:"divider",children:m.jsx("h3",{children:"|"})}),m.jsx("div",{className:`sign-up ${t==="sign-up"?"active":""}`,onClick:()=>e("sign-up"),children:m.jsx("h3",{children:n==="en"?"Sign-Up":""})})]})},yi=({label:t,handleSignUpChanges:e,...n})=>{const[r,s]=E.useState(!1),i=o=>{e(o),o.target.value.length!==0?s(!0):r&&s(!1)};return m.jsxs("div",{className:"form-input-group",children:[m.jsx("input",{...n,onChange:i}),m.jsx("label",{className:r?"active":"",children:t})]})},Tm=({type:t,onClick:e,imgPath:n,text:r})=>m.jsx("button",{type:t,onClick:()=>e?e():null,children:m.jsxs("span",{children:[r||null,n&&m.jsx("img",{src:n})]})}),LV={displayName:"",email:"",password:"",confirmPassword:""},OV=()=>{const{setCurrentTitle:t,lang:e}=Ee(),[n,r]=E.useState(LV),{displayName:s,email:i,password:o,confirmPassword:a}=n,l=async c=>{if(c.preventDefault(),!(!i||!o)){if(o!==a){alert("Passwords don't match!");return}try{const{user:h}=await xU(i,o);await Hy(h,s),t(s)}catch(h){console.log("error from handleSignUpSubmit:"),console.log(h),h.code==="auth/email-already-in-use"&&alert("Email already in use!")}}},u=c=>{const{name:h,value:d}=c.target;r({...n,[h]:d})};return m.jsxs(re.form,{animate:{x:0,opacity:1},initial:{x:-20,opacity:0},onSubmit:l,children:[m.jsx(yi,{type:"text",name:"displayName",handleSignUpChanges:u,label:e==="en"?"Username":"",value:s,required:!0}),m.jsx(yi,{type:"email",required:!0,name:"email",handleSignUpChanges:u,value:i,label:e==="en"?"Email":""}),m.jsx(yi,{type:"password",required:!0,name:"password",handleSignUpChanges:u,value:o,label:e==="en"?"Password":""}),m.jsx(yi,{type:"password",required:!0,name:"confirmPassword",handleSignUpChanges:u,value:a,label:e==="en"?"Confirm Password":" "}),m.jsx("div",{className:"buttons-container",children:m.jsx(Tm,{type:"submit",text:e==="en"?"Sign-Up":""})})]})},bV={email:"",password:""},MV=()=>{const{baseName:t,lang:e}=Ee(),[n,r]=E.useState(bV),{email:s,password:i}=n,o=async u=>{if(u.preventDefault(),!(!s||!i))try{await CU(s,i)}catch(c){console.log("handleSignInSubmit error:"),console.log(c)}},a=async()=>{const{user:u}=await TU();await Hy(u)},l=u=>{const{name:c,value:h}=u.target;r({...n,[c]:h})};return m.jsxs(re.form,{animate:{x:0,opacity:1},initial:{x:20,opacity:0},onSubmit:o,children:[m.jsx(yi,{type:"email",required:!0,name:"email",handleSignUpChanges:l,value:s,label:e==="en"?"Email":""}),m.jsx(yi,{type:"password",required:!0,name:"password",handleSignUpChanges:l,value:i,label:e==="en"?"Password":""}),m.jsxs("div",{className:"buttons-container",children:[m.jsx(Tm,{type:"submit",text:e==="en"?"Sign-In":""}),m.jsx(Tm,{onClick:a,type:"button",imgPath:`${t}assets/images/icons/icon-google.svg`})]})]})},$V=()=>{const{setCurrentTitle:t,lang:e}=Ee(),[n,r]=E.useState("sign-in");return E.useEffect(()=>{t(()=>e==="en"?"Account":"")},[t,e]),m.jsxs("section",{className:"section-auth",children:[m.jsx(DV,{activeMode:n,setActiveMode:r}),m.jsx("div",{className:"form-container",children:n==="sign-up"?m.jsx(OV,{}):m.jsx(MV,{})})]})},UV=(t,e)=>{switch(e.type){case"LOAD_USER_LISTS":return{...t,userLists:e.payload};case"UPDATE_USER_LISTS":{const n=t.currentListIndex,r=t.userLists.length;let s;return e.payload.length>r||e.payload.length===r?s=n:n-1<=0?s=0:s=n-1,{currentListIndex:s,userLists:e.payload}}case"SET_CURRENT_LIST_INDEX":return{...t,currentListIndex:e.payload};default:return t}},FV=()=>m.jsxs("svg",{width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4375 21.5334C10.4375 20.9812 10.8852 20.5334 11.4375 20.5334H22.4375C22.9898 20.5334 23.4375 20.9812 23.4375 21.5334C23.4375 22.0857 22.9898 22.5334 22.4375 22.5334H11.4375C10.8852 22.5334 10.4375 22.0857 10.4375 21.5334Z",fill:"var(--accent-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6775 2C18.3317 2 17.986 2.14591 17.7205 2.42908L3.8494 17.2249L3.16683 20.1372L5.77588 19.4415L19.6344 4.65905C19.7664 4.5183 19.8742 4.34776 19.9488 4.15565C20.0234 3.96347 20.0625 3.75548 20.0625 3.54407C20.0625 3.33266 20.0234 3.12466 19.9488 2.93248C19.8742 2.74037 19.7664 2.56983 19.6344 2.42908C19.5026 2.28846 19.3496 2.18062 19.186 2.10835C19.0227 2.03617 18.8501 2 18.6775 2ZM16.2614 1.0612C16.8905 0.390155 17.7581 0 18.6775 0C19.1313 0 19.579 0.0954399 19.9943 0.278958C20.4095 0.462391 20.7824 0.729338 21.0935 1.0612C21.4045 1.39293 21.648 1.7833 21.8132 2.2085C21.9782 2.63365 22.0625 3.08729 22.0625 3.54407C22.0625 4.00084 21.9782 4.45449 21.8132 4.87963C21.648 5.30484 21.4045 5.69521 21.0935 6.02693L7.03938 21.018C6.91155 21.1543 6.74808 21.2521 6.5675 21.3003L2.07018 22.4996C1.73063 22.5901 1.36847 22.4958 1.11624 22.2511C0.864003 22.0064 0.758715 21.6473 0.838905 21.3051L1.96323 16.508C2.00324 16.3373 2.08741 16.1801 2.20731 16.0523L16.2614 1.0612Z",fill:"var(--accent-color)"})]}),jV=()=>m.jsxs("svg",{width:"21",height:"24",viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.875 6.11133C0.875 5.55904 1.32272 5.11133 1.875 5.11133H19.6875C20.2398 5.11133 20.6875 5.55904 20.6875 6.11133C20.6875 6.66361 20.2398 7.11133 19.6875 7.11133H1.875C1.32272 7.11133 0.875 6.66361 0.875 6.11133Z",fill:"var(--accent-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80217 2.88892C8.56406 2.88892 8.32157 2.98922 8.13222 3.19119C7.94082 3.39534 7.823 3.68526 7.823 4.00003V6.11114C7.823 6.66342 7.37528 7.11114 6.823 7.11114C6.27071 7.11114 5.823 6.66342 5.823 6.11114V4.00003C5.823 3.19499 6.12221 2.41097 6.67315 1.8233C7.22613 1.23346 7.99045 0.888916 8.80217 0.888916H12.7605C13.5722 0.888916 14.3365 1.23346 14.8895 1.8233C15.4405 2.41097 15.7397 3.19499 15.7397 4.00003V6.11114C15.7397 6.66342 15.292 7.11114 14.7397 7.11114C14.1874 7.11114 13.7397 6.66342 13.7397 6.11114V4.00003C13.7397 3.68526 13.6218 3.39534 13.4304 3.19119C13.2411 2.98922 12.9986 2.88892 12.7605 2.88892H8.80217ZM3.85425 5.11114C4.40653 5.11114 4.85425 5.55885 4.85425 6.11114V20.8889C4.85425 21.2037 4.97207 21.4936 5.16347 21.6978C5.35282 21.8997 5.59531 22 5.83342 22H15.7292C15.9674 22 16.2098 21.8997 16.3992 21.6978C16.5906 21.4936 16.7084 21.2037 16.7084 20.8889V6.11114C16.7084 5.55885 17.1561 5.11114 17.7084 5.11114C18.2607 5.11114 18.7084 5.55885 18.7084 6.11114V20.8889C18.7084 21.694 18.4092 22.478 17.8583 23.0656C17.3053 23.6555 16.541 24 15.7292 24H5.83342C5.0217 24 4.25738 23.6555 3.7044 23.0656C3.15346 22.478 2.85425 21.694 2.85425 20.8889V6.11114C2.85425 5.55885 3.30196 5.11114 3.85425 5.11114Z",fill:"var(--accent-color)"})]}),VV=({title:t,active:e,dispatch:n,listIndex:r})=>{const[s,i]=E.useState({show:!1,value:t});E.useEffect(()=>{i(c=>({...c,value:t}))},[t]);const o=E.useRef(null),a=()=>{i(()=>({value:t,show:!0}))},l=()=>{i(()=>({value:t,show:!1}))};Qa(o,l);const u=c=>{c.preventDefault();const h=s.value;h===""||h.length<3||h.length>100||h===t||(DU(r,h),l())};return s.show?m.jsxs("div",{className:"user-list-edit-container",ref:o,children:[m.jsx("div",{className:"edit-title-input",children:m.jsx("form",{onSubmit:u,children:m.jsx("input",{type:"text",value:s.value,onChange:c=>i(h=>({...h,value:c.target.value})),autoFocus:!0})})}),m.jsxs(re.div,{initial:{y:"-2rem",opacity:0},animate:{y:"-50%",opacity:1},className:"user-list-edit-icons-container",children:[m.jsx("button",{className:"edit-submit-icon",onClick:u,children:m.jsx(fv,{})}),m.jsx("button",{type:"button",className:"edit-cancel-icon",onClick:l,children:m.jsx(gk,{})})]})]}):m.jsxs("div",{className:`user-list-container ${e&&"active"}`,onClick:()=>{n({type:"SET_CURRENT_LIST_INDEX",payload:r})},children:[m.jsx("div",{className:"user-list-title",children:m.jsx("h3",{children:t})}),m.jsx(Nn,{children:e&&m.jsxs(re.div,{initial:{y:"2rem",opacity:0},animate:{y:"-50%",opacity:1},className:"user-list-icons-container",children:[m.jsx("button",{className:"edit-list-icon",onClick:a,children:m.jsx(FV,{})}),m.jsx("button",{className:"delete-list-icon",onClick:()=>NU(r),children:m.jsx(jV,{})})]})})]})},BV=({active:t})=>m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11C20 6.02944 15.9706 2 11 2ZM0 11C0 4.92487 4.92487 0 11 0C17.0751 0 22 4.92487 22 11C22 17.0751 17.0751 22 11 22C4.92487 22 0 17.0751 0 11Z",fill:t?"var(--accent-color)":"var(--primary-color)"}),m.jsxs(re.g,{animate:{rotate:t?"45deg":"0deg"},style:{transformOrigin:"center center"},children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6C11.5523 6 12 6.44772 12 7V15C12 15.5523 11.5523 16 11 16C10.4477 16 10 15.5523 10 15V7C10 6.44772 10.4477 6 11 6Z",fill:t?"var(--accent-color)":"var(--primary-color)"}),m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 11C6 10.4477 6.44772 10 7 10H15C15.5523 10 16 10.4477 16 11C16 11.5523 15.5523 12 15 12H7C6.44772 12 6 11.5523 6 11Z",fill:t?"var(--accent-color)":"var(--primary-color)"})]})]}),IE=({userLists:t,currentListIndex:e,dispatch:n})=>{const[r,s]=E.useState({show:!1,value:""}),i=E.useRef(null),o=Dl(),a=()=>{s(c=>({...c,show:!0})),o.start({y:"2rem"})},l=()=>{s(c=>({...c,show:!1})),o.start({y:0})},u=c=>{c.preventDefault();const h=r.value;h===""||h.length<3||h.length>100||(s(()=>({show:!1,value:""})),PU(h))};return Qa(i,l),m.jsxs("div",{className:"user-lists-container",children:[m.jsxs("div",{className:"user-lists-header",children:[m.jsx(mv,{}),m.jsx("h3",{children:" "})]}),m.jsx("div",{className:"user-lists",children:t.map(({title:c},h)=>m.jsx(VV,{title:c,active:e===h,dispatch:n,listIndex:h},h))}),m.jsx(Nn,{children:r.show&&m.jsx(re.div,{className:"new-list-input-container",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},children:m.jsxs("form",{onSubmit:u,ref:i,children:[m.jsx("input",{type:"text",placeholder:" ...",value:r.value,onChange:c=>s(h=>({...h,value:c.target.value})),autoFocus:!0}),m.jsx("button",{type:"submit",children:m.jsx(fv,{})})]})})}),m.jsx("div",{className:"add-user-list-button",children:m.jsx(re.button,{onClick:a,animate:o,initial:{y:0},children:m.jsx(BV,{active:r.show})})})]})},zV="https://api.themoviedb.org/3",HV="api_key=582f9e2d6f3a1dc803b350bf76f168f2",WV="https://image.tmdb.org/t/p/w500",qV=(t,e)=>{const[n,r]=E.useState(!0),[s,i]=E.useState({show:!1,message:""}),[o,a]=E.useState([]),l=E.useCallback(async u=>{r(!0),i({show:!1,message:""});try{const c=[];for(let{id:h,mediaType:d}of e)try{const f=await Nr(`${zV}/${d}/${h}?${HV}&language=${u}`),{data:p}=f;c.push(new Ag(WV,p,d))}catch(f){console.log(f)}if(c.length===0)throw new Error(`${u==="ru"?" ":"This list is empty"}`);a(()=>c),r(!1)}catch(c){i({show:!0,message:c.message}),r(!1)}},[e]);return E.useEffect(()=>{l(t)},[l,t]),{data:o,isLoading:n,error:s}},KV=({currentUserList:t})=>{const{lang:e}=Ee(),{data:n,isLoading:r,error:s}=qV(e,t);return s.show?m.jsx(_r,{errorMessage:s.message,componentMessage:"   ",showImage:!0}):r?m.jsx(ad,{}):m.jsx(m.Fragment,{children:m.jsx(re.div,{layout:!0,layoutRoot:!0,className:"movies-list-container",children:n.map(({posterUrl:i,title:o,id:a,mediaType:l})=>(o.length>35&&(o=o.slice(0,35)+"..."),m.jsxs(Nn,{children:[m.jsx(pv,{poster:i,title:o,id:a,mediaType:l}),";"]},a)))})})};function GV(){const[t,e]=E.useState(()=>n());function n(r){if(r)e(()=>r.target.innerWidth<=768?"mobile":"desktop");else return window.innerWidth<=768?"mobile":"desktop"}return E.useEffect(()=>(window.addEventListener("resize",n),()=>{document.removeEventListener("resize",n)}),[]),t}const QV={userLists:[],currentListIndex:0},XV=()=>{var h;const{currentUser:t}=po(),{setCurrentTitle:e}=Ee();E.useEffect(()=>{e(t.displayName)},[t,e]);const[n,r]=E.useReducer(UV,QV),[s,i]=E.useState(!1),o=GV(),{userLists:a,currentListIndex:l}=n,u=E.useRef(!1);E.useEffect(()=>Tx(Yr(Jr,"users",t.uid),f=>{f.data()&&(u.current?r({type:"UPDATE_USER_LISTS",payload:f.data().userLists}):(r({type:"LOAD_USER_LISTS",payload:f.data().userLists}),u.current=!0))}),[t]);const c=()=>{i(()=>!1)};return m.jsxs("section",{className:"section-profile",children:[m.jsx("div",{className:"left-col",children:o==="desktop"?m.jsx(m.Fragment,{children:m.jsx(IE,{userLists:a,currentListIndex:l,dispatch:r})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"user-lists-modal-toggler",onClick:()=>i(()=>!0),children:[m.jsx(mv,{}),m.jsx("h3",{children:" "})]}),m.jsx(Nn,{children:s&&m.jsx(od,{hideModal:c,mode:"overlay",children:m.jsx("div",{className:"user-lists-modal-inner",children:m.jsx(IE,{userLists:a,currentListIndex:l,dispatch:r,hideModal:c})})})})]})}),m.jsxs("div",{className:"right-col",children:[m.jsx("div",{className:"user-movies-list-title",children:a[l]&&m.jsx("h2",{children:(h=a[l])==null?void 0:h.title})}),a[l]&&m.jsx(KV,{currentUserList:a[l].data})]})]})};function YV(){const{baseName:t}=Ee(),{currentUser:e}=po(),n=({children:s})=>e?s:m.jsx(D0,{to:`${t}auth`}),r=({children:s})=>e?m.jsx(D0,{to:`${t}profile`}):s;return m.jsx(VP,{children:m.jsx(MP,{children:m.jsxs(Dn,{path:t,element:m.jsx(aV,{}),children:[m.jsx(Dn,{index:!0,element:m.jsx(mV,{})}),m.jsx(Dn,{path:"movie/:id",element:m.jsx(xE,{})}),m.jsx(Dn,{path:"tv/:id",element:m.jsx(xE,{})}),m.jsx(Dn,{path:"search/:query",element:m.jsx(NV,{})}),m.jsx(Dn,{path:"auth",element:m.jsx(r,{children:m.jsx($V,{})})}),m.jsx(Dn,{path:"profile",element:m.jsx(n,{children:m.jsx(XV,{})})}),m.jsx(Dn,{path:"*",element:m.jsx("div",{children:"some error"})})]})})})}If.createRoot(document.getElementById("root")).render(m.jsx(Hc.StrictMode,{children:m.jsx(dD,{children:m.jsx($U,{children:m.jsx(YV,{})})})}));
